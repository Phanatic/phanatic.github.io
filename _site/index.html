<!DOCTYPE html>
<html>
  <head>
    <title>Phani Raj – Technical Lead at HP Cloud</title>

        <meta charset="utf-8" />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>

    
    <meta name="description" content="Technical Lead at HP Cloud">
    <meta property="og:description" content="Technical Lead at HP Cloud" />
    
    <meta name="author" content="Phani Raj" />

    

    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="alternate" type="application/rss+xml" title="Phani Raj - Technical Lead at HP Cloud" href="/feed.xml" />

    <!-- Created with Jekyll Now - http://github.com/barryclark/jekyll-now -->
  </head>

  <body>
    <div class="wrapper-masthead">
      <div class="container">
        <header class="masthead clearfix">
          <a href="/" class="site-avatar"><img src="https://raw.githubusercontent.com/barryclark/jekyll-now/master/images/jekyll-logo.png" /></a>

          <div class="site-info">
            <h1 class="site-name"><a href="/">Phani Raj</a></h1>
            <p class="site-description">Technical Lead at HP Cloud</p>
          </div>

          <nav>
            <a href="/">Blog</a>
            <a href="/about">About</a>
          </nav>
        </header>
      </div>
    </div>

    <div id="main" role="main" class="container">
      <div class="posts">
  
    <article class="post">

      <h1><a href="/Hello-World/">You're up and running!</a></h1>

      <div class="entry">
        <p>Next you can update your site name, avatar and other options using the _config.yml file in the root of your repository (shown below).</p>


      </div>

      <a href="/Hello-World/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/building-a-hql-ide-for-apache-hive/">Building a HQL IDE for Apache Hive</a></h1>

      <div class="entry">
        <p>My new team ( <a title="https://www.hadooponazure.com/" href="https://www.hadooponazure.com/">https://www.hadooponazure.com/</a>) works on making <br />Windows Server &amp; Windows Azure the best environment for hosting Hadoop.&nbsp;&nbsp; <br />As one my new challenges, I&rsquo;ve been tasked with building an editor / job manager to Apache Hive. <br />Seen below is my first draft at providing a terminal for running and saving Hive Jobs using HQL.</p>
<p>Please direct all comments/feedback to PhaniRaj AT Microsoft DOT COM</p>
<p>This is what the editor looks like&nbsp; :</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/6521.HiveQueryEditor_53FA16DB.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/6521.HiveQueryEditor_5F00_53FA16DB.png"><img style="border: 0px currentcolor; display: inline;" title="HiveQueryEditor" src="/assets/5543.HiveQueryEditor_thumb_1EED87AB.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/5543.HiveQueryEditor_5F00_thumb_5F00_1EED87AB.png" alt="HiveQueryEditor" width="806" height="436" border="0" /></a>&nbsp;</p>
<p>Let&rsquo;s start by first creating a connection to your local Hive server.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/5047.CreateNewConnection_2CBFCDA6.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/5047.CreateNewConnection_5F00_2CBFCDA6.png"><img style="border: 0px currentcolor; display: inline;" title="CreateNewConnection" src="/assets/4061.CreateNewConnection_thumb_5EB76E30.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/4061.CreateNewConnection_5F00_thumb_5F00_5EB76E30.png" alt="CreateNewConnection" width="397" height="351" border="0" /></a></p>
<p>Once the connection is created, we connect to the Hive server by using the <a href="http://social.technet.microsoft.com/wiki/contents/articles/6226.how-to-connect-excel-to-hadoop-on-azure-via-hiveodbc-en-us.aspx">Microsoft ODBC Driver for Hive</a> . <br />We&rsquo;ll soon move the console over to use Apache&rsquo;s new Templeton apis for metadata access and job submission. <br />You can learn more about Templeton here : <a title="http://people.apache.org/~thejas/templeton_doc_latest/" href="http://people.apache.org/~thejas/templeton_doc_latest/">http://people.apache.org/~thejas/templeton_doc_latest/</a> </p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/3465.LoadingMetadata_6C89B42B.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/3465.LoadingMetadata_5F00_6C89B42B.png"><img style="border: 0px currentcolor; display: inline;" title="LoadingMetadata" src="/assets/7607.LoadingMetadata_thumb_4C6EA76E.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/7607.LoadingMetadata_5F00_thumb_5F00_4C6EA76E.png" alt="LoadingMetadata" width="240" height="96" border="0" /></a></p>
<h4>Support for basic Hive Metadata visualization</h4>
<p>We visualize the Hive metadata as a hierarchical tree-view .</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/7587.metadata_tree_2C539AB1.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/7587.metadata_5F00_tree_5F00_2C539AB1.png"><img style="border: 0px currentcolor; display: inline;" title="metadata_tree" src="/assets/5444.metadata_tree_thumb_25345E39.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/5444.metadata_5F00_tree_5F00_thumb_5F00_25345E39.png" alt="metadata_tree" width="193" height="395" border="0" /></a></p>
<h4>A query editor for HQL that supports syntax coloring, auto completion and other fun activities.</h4>
<p>The IDE hosts an editor that supports auto completion &amp; syntax coloring for HQL keywords &amp; functions. <br />You can find HQL&rsquo;s language specification here : <a title="https://cwiki.apache.org/confluence/display/Hive/LanguageManual" href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual">https://cwiki.apache.org/confluence/display/Hive/LanguageManual</a> </p>
<p>Clicking on a table name from the above tree view produces a sample query that selects the first 10 rows from the table.&nbsp;&nbsp;</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/3301.SampleQueryFromTable_572BFEC3.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/3301.SampleQueryFromTable_5F00_572BFEC3.png"><img style="border: 0px currentcolor; display: inline;" title="SampleQueryFromTable" src="/assets/2705.SampleQueryFromTable_thumb_4C027479.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/2705.SampleQueryFromTable_5F00_thumb_5F00_4C027479.png" alt="SampleQueryFromTable" width="302" height="357" border="0" /></a></p>
<p>You can edit this query or clear it and start over.</p>
<h4>HQL Code Snippets for common tasks in Hive</h4>
<p>We&rsquo;ve seeded the editor with some code snippets for common tasks . <br />Below is an example of the &ldquo;Create External Table&rdquo; code snippet.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/5037.CodeSnippets1_2BE767BC.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/5037.CodeSnippets1_5F00_2BE767BC.png"><img style="border: 0px currentcolor; display: inline;" title="CodeSnippets1" src="/assets/3884.CodeSnippets1_thumb_5DDF0846.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/3884.CodeSnippets1_5F00_thumb_5F00_5DDF0846.png" alt="CodeSnippets1" width="472" height="244" border="0" /></a></p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/2388.CodeSnippets2_52B57DFC.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/2388.CodeSnippets2_5F00_52B57DFC.png"><img style="border: 0px currentcolor; display: inline;" title="CodeSnippets2" src="/assets/2311.CodeSnippets2_thumb_1DA8EECC.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/2311.CodeSnippets2_5F00_thumb_5F00_1DA8EECC.png" alt="CodeSnippets2" width="518" height="106" border="0" /></a>&nbsp;&nbsp; </p>
<h4>Auto completion&nbsp; support for hive Functions in the editor.</h4>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/7181.HiveFunctionsAutocompletion_2B7B34C7.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/7181.HiveFunctionsAutocompletion_5F00_2B7B34C7.png"><img style="border: 0px currentcolor; display: inline;" title="HiveFunctionsAutocompletion" src="/assets/6505.HiveFunctionsAutocompletion_thumb_726457C4.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/6505.HiveFunctionsAutocompletion_5F00_thumb_5F00_726457C4.png" alt="HiveFunctionsAutocompletion" width="379" height="191" border="0" /></a></p>
<p>&nbsp;</p>
<h4>Auto completion&nbsp; support for hive keywords in the editor.</h4>
<p>About 163 keywords in HQL are supported in the editor.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/1738.HiveKeywordAutocompletion_766EA596.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/1738.HiveKeywordAutocompletion_5F00_766EA596.png"><img style="border: 0px currentcolor; display: inline;" title="HiveKeywordAutocompletion" src="/assets/7674.HiveKeywordAutocompletion_thumb_6B451B4C.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/7674.HiveKeywordAutocompletion_5F00_thumb_5F00_6B451B4C.png" alt="HiveKeywordAutocompletion" width="426" height="323" border="0" /></a></p>
<p>&nbsp;</p>
<h4>Metadata sensitive auto completion support for queries.</h4>
<p>We inject the metadata we gleaned from the Hive server into the editor so that <br />you can use intellisense on column names in your queries.</p>
<p>&nbsp;</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/8255.Metadata_autocompletion_6425DED4.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/8255.Metadata_5F00_autocompletion_5F00_6425DED4.png"><img style="border: 0px currentcolor; display: inline;" title="Metadata_autocompletion" src="/assets/0825.Metadata_autocompletion_thumb_440AD217.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/0825.Metadata_5F00_autocompletion_5F00_thumb_5F00_440AD217.png" alt="Metadata_autocompletion" width="378" height="378" border="0" /></a></p>
<p>Once you have the query written, hit &ldquo;Run Query&rdquo; to kick off query execution. <br />We kick off the Hive job and wait for its completion, intermittently polling for the results.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/1212.QueryRunning_51DD1812.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/1212.QueryRunning_5F00_51DD1812.png"><img style="border: 0px currentcolor; display: inline;" title="QueryRunning" src="/assets/5444.QueryRunning_thumb_55E765E4.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/5444.QueryRunning_5F00_thumb_5F00_55E765E4.png" alt="QueryRunning" width="240" height="134" border="0" /></a></p>
<p>Once the query is finished successfully, you will see the query icon light up.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/3301.QuerySucceeded_4ABDDB9A.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/3301.QuerySucceeded_5F00_4ABDDB9A.png"><img style="border: 0px currentcolor; display: inline;" title="QuerySucceeded" src="/assets/2705.QuerySucceeded_thumb_2AA2CEDD.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/2705.QuerySucceeded_5F00_thumb_5F00_2AA2CEDD.png" alt="QuerySucceeded" width="246" height="121" border="0" /></a></p>
<p>Clicking on the query icon should bring up the results in a tabular format.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/1727.QueryResults_0A87C220.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/1727.QueryResults_5F00_0A87C220.png"><img style="border: 0px currentcolor; display: inline;" title="QueryResults" src="/assets/2388.QueryResults_thumb_557B32EF.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/2388.QueryResults_5F00_thumb_5F00_557B32EF.png" alt="QueryResults" width="640" height="410" border="0" /></a></p>
<p>If on the other hand, the query failed, you will see a &ldquo;query failed&rdquo; icon next to the query.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/1803.QueryFailed_70B38BF0.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/1803.QueryFailed_5F00_70B38BF0.png"><img style="border: 0px currentcolor; display: inline;" title="QueryFailed" src="/assets/8750.QueryFailed_thumb_09AF5C36.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/8750.QueryFailed_5F00_thumb_5F00_09AF5C36.png" alt="QueryFailed" width="266" height="102" border="0" /></a></p>
<p>Clicking on this will bring up a window with links where you can further see details about why the query failed.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/7587.QueryFailed_details_69944F78.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/7587.QueryFailed_5F00_details_5F00_69944F78.png"><img style="border: 0px currentcolor; display: inline;" title="QueryFailed_details" src="/assets/5025.QueryFailed_details_thumb_1B8BF003.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/5025.QueryFailed_5F00_details_5F00_thumb_5F00_1B8BF003.png" alt="QueryFailed_details" width="682" height="154" border="0" />&nbsp;</a></p>
<p>In conclusion, I hope this is something that you find useful. <br />As always your feedback and comments are welcome at my email mentioned above. <br />There&rsquo;s many other features that we&rsquo;re planning for this editor and will post regular updates to this work as we progress.</p>

      </div>

      <a href="/building-a-hql-ide-for-apache-hive/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/async-extension-methods-for-odata-windows-8-client-library/">Async extension methods for OData Windows 8 client library</a></h1>

      <div class="entry">
        <p>If you’re writing Windows Store applications and want to use the async goodness that the platform allows with your OData client applications,    <br />take a look at these extension methods that allow you to use the await and async keywords in your apps.     </p>
<p>Some useful links </p>
<ul>
<li><a href="http://www.microsoft.com/en-us/download/details.aspx?id=30714">WCF Data Services Tools for Windows Store Apps RC</a></li>
<li><a href="http://msdn.microsoft.com/en-us/vstudio/async.aspx">Visual Studio Asynchronous Programming</a></li>
<li><a href="http://msdn.microsoft.com/en-us/windows/apps/br229516.aspx">Downloads for Metro style app development</a></li>
</ul>
<p>&#160;</p>
<p> <script src="https://gist.github.com/3427256.js"> </script></p>

      </div>

      <a href="/async-extension-methods-for-odata-windows-8-client-library/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/upcoming-edits-to-the-odata-explorer/">Upcoming edits to the OData Explorer.</a></h1>

      <div class="entry">
        <p>This blog post outlines some key changes to the OData Explorer which should be published soon. <br />Take a look below and let me know what you think.The overall theme is simplicity , <br />we&rsquo;ve removed a lot of superfluous cruft in the UI . Also, moving to OData Library and <br />Edm Library has helped me get rid of pesky bugs that existed in the last version.</p>
<h4>Add new workspace window</h4>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/2211.AddnewWorkspace_1EE7DE03.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/2211.AddnewWorkspace_5F00_1EE7DE03.png"><img style="border: 0px currentcolor; display: inline; background-image: none;" title="AddnewWorkspace" border="0" alt="AddnewWorkspace" src="/assets/1638.AddnewWorkspace_thumb_2C4DF109.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/1638.AddnewWorkspace_5F00_thumb_5F00_2C4DF109.png" width="240" height="158" /></a></p>
<h4>Browse collections exposed by an OData Service.</h4>
<p>&nbsp;</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/3113.SelectCollection_6C17D78E.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/3113.SelectCollection_5F00_6C17D78E.png"><img style="display: inline; background-image: none;" title="SelectCollection" border="0" alt="SelectCollection" src="/assets/0564.SelectCollection_thumb_72CAE111.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/0564.SelectCollection_5F00_thumb_5F00_72CAE111.png" width="338" height="484" />&nbsp;</a></p>
<p>&nbsp;</p>
<h4>Get first 50 rows from a collection in the OData Service.</h4>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/5367.SelectProducts_04A774DF.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/5367.SelectProducts_5F00_04A774DF.png"><img style="border: 0px currentcolor; display: inline; background-image: none;" title="SelectProducts" border="0" alt="SelectProducts" src="/assets/0160.SelectProducts_thumb_725EAE1C.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/0160.SelectProducts_5F00_thumb_5F00_725EAE1C.png" width="644" height="360" />&nbsp;</a></p>
<h4>Filter by reference navigation properties in the Query Builder menu.</h4>
<p>If a type Product has a&nbsp; 1:1 relationship with Categories, you can filter a Products by properties of its <br />Category.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/1145.FilterByNavigationProperty_322894A2.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/1145.FilterByNavigationProperty_5F00_322894A2.png"><img style="border: 0px currentcolor; display: inline; background-image: none;" title="FilterByNavigationProperty" border="0" alt="FilterByNavigationProperty" src="/assets/8562.FilterByNavigationProperty_thumb_4405286F.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/8562.FilterByNavigationProperty_5F00_thumb_5F00_4405286F.png" width="568" height="484" />&nbsp;</a></p>
<h4>Clicking on &ldquo;Edit&rdquo; next to each row in the grid brings up the edit menu which allows you to :</h4>
<h4>Edit property values and save to the server . <br /><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/2318.EditTable_1CCADF3A.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/2318.EditTable_5F00_1CCADF3A.png"><img style="display: inline; background-image: none;" title="EditTable" border="0" alt="EditTable" src="/assets/8883.EditTable_thumb_588A77ED.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/8883.EditTable_5F00_thumb_5F00_588A77ED.png" width="355" height="484" /></a> </p>
<p>Edit Raw ATOM for an entity and save to the server</h4>
<p>Use this feature to send malformed ATOM payloads to your service and test how the server handles it.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/2630.EditRawAtom_6A670BBA.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/2630.EditRawAtom_5F00_6A670BBA.png"><img style="display: inline; background-image: none;" title="EditRawAtom" border="0" alt="EditRawAtom" src="/assets/7433.EditRawAtom_thumb_2A30F240.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/7433.EditRawAtom_5F00_thumb_5F00_2A30F240.png" width="411" height="484" /></a></p>
<h4>Edit Raw JSON for an entity and save to the server.</h4>
<p>Use this feature to send malformed JSON payloads to your service and test how the server handles it. </p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/0160.EditRawJSON_3C0D860D.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/0160.EditRawJSON_5F00_3C0D860D.png"><img style="display: inline; background-image: none;" title="EditRawJSON" border="0" alt="EditRawJSON" src="/assets/1145.EditRawJSON_thumb_62DB9C4D.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/1145.EditRawJSON_5F00_thumb_5F00_62DB9C4D.png" width="374" height="484" /></a></p>

      </div>

      <a href="/upcoming-edits-to-the-odata-explorer/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/bookmarklet-to-customize-facebook-buttons/">Bookmarklet to customize Facebook buttons</a></h1>

      <div class="entry">
        <p><span style="font-size: medium;">What is it ?&nbsp;</span></p>
<p><span style="font-size: small;">This bookmarklet is a simple javascript function that changes the contents of standard buttons on Facebook.com.<br /></span><span style="font-size: small;">It changes the "Like" button content to be "Can you Dig it?", unlike to "Stop Digging it", and Comment to "Holler!"</span></p>
<p><span style="font-size: medium;">How do I install this bookmarklet ?</span>&nbsp;</p>
<p><span style="font-size: small;">Step 1 : Right-click this link and select "Copy Link address",<a href="javascript:function digIt(){var cLT=function(l,m){l.value=m;l.title=m;};var cLH=function(l,m){l.innerHTML=m;l.title=m;};var gECN=function(cN){return document.getElementsByClassName(cN);};var lMr=&quot;Can you Dig it?&quot;;var i=0;var links=gECN(&quot;default_message&quot;);for(i=0;i
<links.length;i++){cLH(links[i],links[i].innerHTML==&quot;Like&quot;?lMr:&quot;Stop digging it&quot;);}var lBs=gECN(&quot;like_link&quot;);for(i=0;i<lBs.length;i++){cLT(lBs[i],lMr);}var cL=gECN(&quot;comment_link&quot;);for(i=0;i<cL.length;i++){cLT(cL[i].firstChild,&quot;Holler!&quot;)}};digIt();"> Bookmarklet link</a></span><br /><span style="font-size: small;">Step 2 : Open the bookmarklet manager in your browser and add a bookmark with the contents of the above link as the Link Address.</span><br /><span style="font-size: small;">Step 3 : Open up facebook.com and click the bookmark you created in Step 2.&nbsp;</span><br /><span style="font-size: small;">Step 4 : Profit !&nbsp;</span></p>

      </div>

      <a href="/bookmarklet-to-customize-facebook-buttons/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/developing-windows-8-metro-style-applications-that-consume-odata/">Developing Windows 8 Metro style applications that consume OData</a></h1>

      <div class="entry">
        <p>The Source code for the sample app is available here ( <a href="http://sdrv.ms/IrEzwN">Download</a> )</p>
<p>You&rsquo;ll need : <br />1. <a href="http://msdn.microsoft.com/en-us/windows/apps">Windows 8 Consumer preview and developer tools</a> <br />2. OData Client library preview for Windows 8 Metro ( <b><span>Update:&nbsp;</span></b><span><a href="https://sn2prd0310.outlook.com/owa/14.16.152.1/scripts/premium/redir.aspx?C=cvlFgTtlT0a3UGVHy3SS3lS3A-uhFc8Iz3KR2we21q2WSAxNQsPyqNAtVaqhFlSzDdP1bKucMx8.&amp;URL=http%3a%2f%2fwww.microsoft.com%2fvisualstudio%2f11%2fen-us%2fdownloads%3fWT.mc_id%3dMSCOM_EN_US_HP_CAROUSEL_124GMUS017412%26CR_CC%3d200088137%23groups" target="_blank">Visual Studio 2012 RC</a>&nbsp;has been released and contains an updated version of these assemblies, along with fully-integrated support for Add Service Reference. Install the Ultimate, Professional, or Premium editions on&nbsp;<a href="https://sn2prd0310.outlook.com/owa/14.16.152.1/scripts/premium/redir.aspx?C=cvlFgTtlT0a3UGVHy3SS3lS3A-uhFc8Iz3KR2we21q2WSAxNQsPyqNAtVaqhFlSzDdP1bKucMx8.&amp;URL=http%3a%2f%2fwindows.microsoft.com%2fen-US%2fwindows-8%2frelease-preview" target="_blank">Windows 8 Release Preview</a>&nbsp;to get the update.</span>) . </p>
<p>We&rsquo;re releasing a preview version of the client libraries for Windows 8 Metro-Style applications to give our users <br />the ability to create applications that work on Windows 8 .&nbsp;&nbsp; This client library will work with servers <br />that comply with the OData v1-v3 protocols. In the blog post below we will describe a sample application <br />we built and is available for download using this client library.</p>
<p>Step Zero is to generate the client types for the Netflix OData Service using the DataSvcUtil.exe tool. <br />We haven&rsquo;t updated the &ldquo;Add Service Reference&rdquo;&nbsp; gesture in Visual Studio 11 yet, so you&rsquo;ll have to generate the client <br />types manually . </p>
<p>Here is how you generate the client proxy types for the Netflix OData Service</p>
<p>Open a command prompt as administrator and navigate to %windir%\Microsoft.NET\Framework\v4.0.30128</p>
<p>Run this command :</p>
<p>DataSvcutil.exe /uri:<a href="http://odata.netflix.com/Catalog/">http://odata.netflix.com/Catalog/</a> /DataServiceCollection /Version:2.0 <br /> /out:netflixClientTypes.cs</p>
<p>Copy the generated netflixClientTypes.cs file into the application you create in the next step.</p>
<p>Open Visual Studio&nbsp;11 &gt; &ldquo;Create new Project&rdquo; &gt;&rdquo;Grid Application&rdquo;</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/0726.New_Metro_Grid_Project_3675B0B9.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/0726.New_5F00_Metro_5F00_Grid_5F00_Project_5F00_3675B0B9.png"><img width="640" height="439" title="New_Metro_Grid_Project" style="border: 0px currentcolor; display: inline; background-image: none;" alt="New_Metro_Grid_Project" src="/assets/0317.New_Metro_Grid_Project_thumb_0F3B6784.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/0317.New_5F00_Metro_5F00_Grid_5F00_Project_5F00_thumb_5F00_0F3B6784.png" border="0" /></a></p>
<p>&nbsp;</p>
<h4>&ldquo;Genres&rdquo; view</h4>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/6406.Genres_20ABC85C.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/6406.Genres_5F00_20ABC85C.png"><img width="465" height="480" title="Genres" style="border: 0px currentcolor; display: inline; background-image: none;" alt="Genres" src="/assets/4428.Genres_thumb_275ED1DF.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/4428.Genres_5F00_thumb_5F00_275ED1DF.png" border="0" /></a></p>
<p>&nbsp;&nbsp;</p>
<p>To build this view, we will add an &ldquo;Items Page&rdquo; and customize the Item template to display <br />details specific to the &ldquo;Genre&rdquo; type in the client types such as &ldquo;Name&rdquo;. <br />We further create a custom property called &ldquo;TileTitle&rdquo; which is the first title in the genre, <br /> to see how this is implemented, please consult the ODataSampleViewModel.cs file. <br />When a user selects a &ldquo;Genre&rdquo; we will set the &ldquo;SelectedGenre&rdquo; property on the view model <br />and navigate to the &ldquo;Titles&rdquo; screen shown below.</p>
<p>&nbsp;</p>
<h4>&ldquo;Titles In Genre&rdquo; view.</h4>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/0702.Titles_470DABA7.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/0702.Titles_5F00_470DABA7.png"><img width="640" height="350" title="Titles" style="border: 0px currentcolor; display: inline; background-image: none;" alt="Titles" src="/assets/7242.Titles_thumb_5B92FB25.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/7242.Titles_5F00_thumb_5F00_5B92FB25.png" border="0" /></a></p>
<p>To create this view, we will add another &ldquo;Items Page&rdquo; and customize the item template to display details specific to the &ldquo;Title&rdquo; <br />type in the generated client types. To load these titles, we track the selected Genre and call the &ldquo;LoadTitlesForGenre&rdquo; <br />method on the view model with the selected genre. <br />When a user selects a Title, we navigate to the &ldquo;TitleDetails&rdquo; view shown below, with the selected title as a navigation parameter.</p>
<h4>&ldquo;Title Details&rdquo; view :</h4>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/4812.TitleDetail_6650527A.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/4812.TitleDetail_5F00_6650527A.png"><img width="373" height="480" title="TitleDetail" style="border: 0px currentcolor; display: inline; background-image: none;" alt="TitleDetail" src="/assets/7167.TitleDetail_thumb_261A3900.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/7167.TitleDetail_5F00_thumb_5F00_261A3900.png" border="0" /></a></p>
<p>To create this view, we add a &ldquo;Basic page&rdquo; and customize the layout to show the above content <br />from the selected title which is passed in as a navigation parameter.</p>
<p>Phani Raj, <br />Software Design Engineer 2, <br />OData / WCF Data Services</p>

      </div>

      <a href="/developing-windows-8-metro-style-applications-that-consume-odata/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/updated-site-navigation/">Updated Site navigation</a></h1>

      <div class="entry">
        <p>I've updated the site navigation to make it easier for my blog visitors to find useful links and quick answers to the questions they come here with.<br />After analyzing the number of views on my blog posts, I've curated them into links in the left hand side under :</p>
<ol>
<li>Useful links for OData Server applications : a list of links for debugging/configuring your OData Server application.</li>
<li>Useful links for OData Cilent applications : a list of links for using the Data Services client library, DataServiceContext, effectively in your client applications.</li>
<li>OData applications I built : Self-promoting set of links for applications I've built which either use OData or enable people to browse OData feeds.</li>
</ol>

      </div>

      <a href="/updated-site-navigation/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/excel-2007-and-consuming-odata-services/">Excel 2007 and consuming OData services</a></h1>

      <div class="entry">
        <p>Hi all,</p>
<p>I'm running a short survey to guage interest in an Excel 2007 plugin that reads OData feeds.</p>
<p>Please take this short survey so that I can figure out which scenarios you want to target with this plugin.</p>
<p><a href="http://www.surveymonkey.com/s/DCX9QH7" title="http://www.surveymonkey.com/s/DCX9QH7" target="_blank">Survey link</a></p>

      </div>

      <a href="/excel-2007-and-consuming-odata-services/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/pba/">PBA</a></h1>

      <div class="entry">
        <p>Test post, please ignore.</p>

      </div>

      <a href="/pba/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/t4-templates-for-wcf-data-services-partii-client-code-gen/">T4 templates for WCF Data Services Part–II, Client Code-Gen</a></h1>

      <div class="entry">
        <p><a href="http://cid-925c2d2bb2d03c6b.office.live.com/self.aspx/Blog%20Demos/WCF%20Data%20Services%20T4%20Templates.zip">Click here to download.</a></p>
<p><strong>GenerateDataServiceContext.tt </strong>generates a strongly-typed DataServiceContext type based on the service description.     </p>
<p><strong>GenerateEntityTypes.tt</strong> generates the client-side proxies for entity types exposed by the OData service.</p>
<p><strong>GenerateViewModels.tt <strong>( Silverlight Only ) </strong></strong>generates viewmodels based on the entity type and provides some ease-of-use apis.</p>
<p>More documentation coming soon.</p>

      </div>

      <a href="/t4-templates-for-wcf-data-services-partii-client-code-gen/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/lessons-learnt-building-the-windows-phone-odata-browser/">Lessons learnt building the Windows Phone OData browser</a></h1>

      <div class="entry">
        <p>One of the reasons for re-building the OData browser for Windows Phone was to experience first hand the issues our developers face when writing an app for the marketplace that uses the client library my team produces. This blog post describes what I learnt as a developer on the OData browser and what feedback the team received after this exercise.   </p>
<p><strong>Disclaimer </strong>: I wrote a lot of the code for the browser such as metadata parsing, dynamic service access without client types and other features for the <a href="http://Silverlight.net/ODataExplorer">Silverlight version of the OData browser.</a> About 40% of the code for the Windows Phone browser was brought over from the Silverlight version. The rest of the 60% of code is in the UI and the tombstoning management of data in the app. </p>
<h4>The Good : </h4>
<p><strong>1.</strong> The client library’s events the app depended upon were still present and worked just as well.     <br /><strong>2.</strong> The OData library had no issues at all with feeds of any kind ( paged/non-paged/with count ) , it worked without a hitch.    <br /><strong>3. </strong>The databinding classes worked fine for the Phone environment and completion fired events on the right( UI ) thread.&#160; <br /><strong>4. </strong>Tombstoning for DataServiceCollection and DataServiceContext works quite well for the rows in the app.     <br /><strong>5. </strong>The platform is quite nice for debugging on the physical device. Other than some really convoluted tombstoning issues, VS and the debugger chugged along just fine.</p>
<h4>The “Needs Improvement”:</h4>
<p><strong>1.</strong> The <a href="http://msdn.microsoft.com/en-us/library/ee652863(VS.95).aspx">DataServiceCollection.LoadAsync&lt;T&gt;</a> api doesn’t return an IAsyncResult when you call it.The reason this is important is because&#160; the marketplace’s certification requirements state that long running network tasks need a “Cancel” button. And the way to cancel a request made by the OData client library is to call CancelRequest on the DataServiceContext instance being used by the app. Since I was using DataServiceCollection in my app and kicking off requests using the LoadAsync and LoadNextPartialSetAsync apis, I couldn’t cancel the current request without a rewrite. Finally, I had to stop using the LoadAsync API on the collection and moved to using <a href="http://msdn.microsoft.com/en-us/library/cc646724(v=VS.90).aspx">DataServiceContext.BeginExecute&lt;T&gt;</a> which does return an IAsyncResult and I could CancelRequest when the UI shows the “Cancel” button.     <br /><strong>2. </strong>No Credentials support via <a href="http://msdn.microsoft.com/en-us/library/system.data.services.client.dataservicecontext.usedefaultcredentials(VS.95).aspx">UseDefaultCredentials</a> and <a href="http://msdn.microsoft.com/en-us/library/system.data.services.client.dataservicecontext.credentials(v=VS.95).aspx">Credentials</a> properties on the DataServiceContext&#160; type. This prevented me from adding support in the app for authenticated services.     <br /><strong>3. </strong>The emulator is slow on my laptop, I may have to buy a new laptop if I want to use the emulator for developing apps.And here’s a joke for sticking so far with this blog post.     <br /><em><font face="Tahoma">&#160;&#160;&#160; How slow is it ?        <br />&#160;&#160;&#160; It’s so slow that the January update for the Phone will be released by the time the emulator starts.</font></em></p>
<p>I am looking for other perspectives on developing apps for the marketplace with the OData client library.    <br />How do you find developing with the client library on the Phone ?     <br />What are your pet peeves ? and What are the top features you love ?</p>

      </div>

      <a href="/lessons-learnt-building-the-windows-phone-odata-browser/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/odata-browser-for-windows-phone-available-now/">OData Browser for Windows Phone available now !</a></h1>

      <div class="entry">
        <p>Download it from the Zune marketplace by clicking <a href="http://bit.ly/ODataWp">this link</a></p>
<p><a href="http://social.zune.net/External/LaunchZuneProtocol.aspx?pathuri=navigate%3FphoneAppID%3D6d511487-6624-e011-854c-00237de2db9e"><img style="background-image: none; border-right-width: 0px; margin: ; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="wp7_300x50_blue" border="0" alt="wp7_300x50_blue" src="/assets/6371.wp7_English_300x50_blue_3.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-75-24-metablogapi/6371.wp7_5F00_English_5F00_300x50_5F00_blue_5F00_3.png" width="240" height="40" /></a></p>
<p>Read inaugural blog post about it <a href="http://blogs.msdn.com/b/phaniraj/archive/2011/01/18/odata-browser-for-windows-phone-7.aspx">here</a></p>

      </div>

      <a href="/odata-browser-for-windows-phone-available-now/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/odata-browser-for-windows-phone-7/">OData Browser for Windows Phone 7</a></h1>

      <div class="entry">
        <p><a title="Download the app from the Zune marketplace" href="http://bit.ly/ODataWp"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: ; padding-left: 0px; padding-right: 0px; border-top: 0px; border-right: 0px; padding-top: 0px" border="0" src="/assets/6371.wp7_English_300x50_blue_3.png" original-url="http://blogs.msdn.com/cfs-filesystemfile.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-75-24-metablogapi/6371.wp7_5F00_English_5F00_300x50_5F00_blue_5F00_3.png" /></a></p>
<p>Since the company got me a Windows Phone 7 device and also paid for my    <br />developer account, I feel obligated to put an application for the market place out there.     <br />Hence. we have the <strong>OData browser for Windows Phone 7 </strong>.     <br />I am currently testing with a couple of brave beta testers and will be uploading this app to the market place at the End of this week,     <br />i.e. the 22nd of January 2011.     </p>
<p>Here are some screens :     <br />1. The screen to select a collection given an OData service Uri, here you see Netflix’s collections</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/3542.Service_CollectionsList.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-75-24-metablogapi/3542.Service_5F00_CollectionsList.png"><img style="background-image: none; border-right-width: 0px; margin: ; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Service_CollectionsList" border="0" alt="Service_CollectionsList" src="/assets/4201.Service_CollectionsList_thumb.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-75-24-metablogapi/4201.Service_5F00_CollectionsList_5F00_thumb.png" width="306" height="480" /></a></p>
<p>2. The collection view to show you the first page of results.    <br />Based on the make-up of your entity types, we figure out which data template to use in this view.     <br />Since the “Titles” entity set has a Media stream backing it and has EPM annotations to atom:title,     <br />We’re able to pick up this nice view which is not hard-coded for any specific OData service .     </p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/2068.CollectionWithMLEView.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-75-24-metablogapi/2068.CollectionWithMLEView.png"><img style="background-image: none; border-right-width: 0px; margin: ; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="CollectionWithMLEView" border="0" alt="CollectionWithMLEView" src="/assets/0410.CollectionWithMLEView_thumb.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-75-24-metablogapi/0410.CollectionWithMLEView_5F00_thumb.png" width="301" height="480" /></a></p>
<p>2.a, Here we see the same view but showing a collection that has no EPM annotations.    <br />Since the app can’t figure out which field makes sense, it allows the user to pick which field they want to     <br />see in the view.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/8741.CustomizableViewForEntities.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-75-24-metablogapi/8741.CustomizableViewForEntities.png"><img style="background-image: none; border-right-width: 0px; margin: ; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="CustomizableViewForEntities" border="0" alt="CustomizableViewForEntities" src="/assets/2553.CustomizableViewForEntities_thumb.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-75-24-metablogapi/2553.CustomizableViewForEntities_5F00_thumb.png" width="303" height="480" /></a>&#160;&#160;&#160; </p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/0003.CustomizableViewForEntities_2.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-75-24-metablogapi/0003.CustomizableViewForEntities_5F00_2.png"><img style="background-image: none; border-right-width: 0px; margin: ; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="CustomizableViewForEntities_2" border="0" alt="CustomizableViewForEntities_2" src="/assets/0728.CustomizableViewForEntities_2_thumb.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-75-24-metablogapi/0728.CustomizableViewForEntities_5F00_2_5F00_thumb.png" width="308" height="480" /></a></p>
<p>3. Selecting a row in the 2/2.a gives you this screen that contains the Columns in the entity instance in a flat format.    <br />&#160;&#160;&#160; You can see that this view shows the Id, Synopsis and other properties of an instance from the “Titles” set.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/6685.ColumnViewForSelectedEntity.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-75-24-metablogapi/6685.ColumnViewForSelectedEntity.png"><img style="background-image: none; border-right-width: 0px; margin: ; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="ColumnViewForSelectedEntity" border="0" alt="ColumnViewForSelectedEntity" src="/assets/8741.ColumnViewForSelectedEntity_thumb.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-75-24-metablogapi/8741.ColumnViewForSelectedEntity_5F00_thumb.png" width="305" height="480" /></a>&#160; </p>
<p>If we find that the &lt;atom:entry&gt; element has a Media stream of an image type behind it,    <br />we show the media content in the Media Pivot item.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/0410.MediaView.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-75-24-metablogapi/0410.MediaView.png"><img style="background-image: none; border-right-width: 0px; margin: ; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="MediaView" border="0" alt="MediaView" src="/assets/4135.MediaView_thumb.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-75-24-metablogapi/4135.MediaView_5F00_thumb.png" width="302" height="480" /></a></p>
<p>If you have EPM mappings to GeoRss elements or have certain fields that denote the location    <br />of a place on the map, we show you a pushpin on the map as shown below.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/6607.MapViewIfDataContainsLocation.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-75-24-metablogapi/6607.MapViewIfDataContainsLocation.png"><img style="background-image: none; border-right-width: 0px; margin: ; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="MapViewIfDataContainsLocation" border="0" alt="MapViewIfDataContainsLocation" src="/assets/3157.MapViewIfDataContainsLocation_thumb.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-75-24-metablogapi/3157.MapViewIfDataContainsLocation_5F00_thumb.png" width="303" height="480" /></a></p>
<p>If you can’t wait for the app to be on the marketplace and are willing to undergo some pain    <br />as I iron out the issues in the app, send me an email at PHANIRAJ AT MICROSOFT DOT COM,     <br />and I can send you the xap for the application for you to self-host this application on your     <br />developer-unlocked phones.</p>

      </div>

      <a href="/odata-browser-for-windows-phone-7/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/update-on-the-windows-phone-7-odata-client-libirary/">Update on the Windows Phone 7 OData Client Libirary</a></h1>

      <div class="entry">
        <p>Team blog post here :</p>
<h5><a href="http://blogs.msdn.com/b/astoriateam/archive/2010/09/27/wcf-data-services-client-library-and-windows-phone-7-next-steps.aspx">WCF Data Services Client Library and Windows Phone 7 – Next Steps</a></h5>
<p>And some sample code for more context.</p>
<p>With the Linq pattern, here is what the code for downloading the first 10 customers would look like :</p>
<pre class="code"><span style="color: #2b91af">DataServiceCollection</span>&lt;<span style="color: #2b91af">Customer</span>&gt; customerCollection = <span style="color: blue">new </span><span style="color: #2b91af">DataServiceCollection</span>&lt;<span style="color: #2b91af">Customer</span>&gt;(Context);

customerCollection.Load(Context.CreateQuery&lt;<span style="color: #2b91af">Customer</span>&gt;(<span style="color: #a31515">&quot;Customers&quot;</span>).Take(10));</pre>
<p>Now, with the URI pattern, this is what it looks like : </p>
<pre class="code"><span style="color: #2b91af">DataServiceCollection</span>&lt;<span style="color: #2b91af">Customer</span>&gt; customerCollection = <span style="color: blue">new </span><span style="color: #2b91af">DataServiceCollection</span>&lt;<span style="color: #2b91af">Customer</span>&gt;(Context);

 customerCollection.Load(Context.CreateQuery&lt;<span style="color: #2b91af">Customer</span>&gt;(<span style="color: #a31515">&quot;Customers&quot;</span>).Take(10));

 <span style="color: blue">var </span>top10CustomersUri = <span style="color: blue">new </span><span style="color: #2b91af">Uri</span>(<span style="color: #a31515">&quot;Customers?$top=10&quot;</span>, <span style="color: #2b91af">UriKind</span>.RelativeOrAbsolute);
 Context.BeginExecute&lt;<span style="color: #2b91af">Customer</span>&gt;(top10CustomersUri,
      (asResult) =&gt;
      {
        <span style="color: blue">var </span>top10CustomersResponse = Context.EndExecute&lt;<span style="color: #2b91af">Customer</span>&gt;(asResult) <span style="color: blue">as </span><span style="color: #2b91af">QueryOperationResponse</span>&lt;<span style="color: #2b91af">Customer</span>&gt;;
        customerCollection.Load(top10CustomersResponse);
      }, <span style="color: blue">null</span>);</pre>
<pre class="code">We can make code a lot easier to read with an Extension method that takes a URI on the LoadAsync method.</pre>
<pre class="code"><span style="color: blue">public static class </span><span style="color: #2b91af">DataServiceCollectionExtensions
    </span>{
        <span style="color: blue">public static void </span>LoadAsync&lt;TEntity&gt;(<span style="color: blue">this </span><span style="color: #2b91af">DataServiceCollection</span>&lt;TEntity&gt; collection, <br />                              <span style="color: #2b91af">DataServiceContext </span>context, <span style="color: #2b91af">Uri </span>requestUri)
        {
            context.BeginExecute&lt;TEntity&gt;(
                requestUri,
                (asResult) =&gt;
                {
                    <span style="color: blue">var </span>results = context.EndExecute&lt;TEntity&gt;(asResult);
                    collection.Load(results);
                }, <span style="color: blue">null</span>);
        }
    }</pre>
<p>Which converts our code to :</p>
<p></p>
<pre class="code"><span style="color: blue">var </span>top10CustomersUri = <span style="color: blue">new </span><span style="color: #2b91af">Uri</span>(<span style="color: #a31515">&quot;Customers?$top=10&quot;</span>, <span style="color: #2b91af">UriKind</span>.RelativeOrAbsolute);
customerCollection.LoadAsync(Context, top10CustomersUri);</pre>
<p>I’ll make a more detailed blog post later about the WP7 client library for OData and a sample application too.</p>

      </div>

      <a href="/update-on-the-windows-phone-7-odata-client-libirary/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/implementing-server-side-sortingpaging-for-odata-feeds-in-silverlight-controls-datagrid-datapager-dataform/">Implementing Server-side Sorting/Paging for OData feeds in Silverlight Controls ( DataGrid, DataPager, DataForm )</a></h1>

      <div class="entry">
        <h4><a href="http://cid-925c2d2bb2d03c6b.office.live.com/self.aspx/Public/EuphoriaClientApp.zip">Download sample application and source here </a></h4>
<p>This blog post was written almost a year ago, but lethargy and constant revision has made me realize that good blog posts are hard to write.</p>
<ol>
<li>
<h3><a href="#Background">Background</a></h3>
</li>
<li>
<h3><a href="#NutsandBolts">Nuts and Bolts</a></h3>
</li>
<li>
<h3><a href="#Usage">Using this in your applications:</a></h3>
</li>
<li>
<h3><a href="#JoinMeForThisFeature">Vote to get these features in the DataServiceCollection&lt;TEntity&gt; type</a></h3>
</li>
</ol>
<h3><a name="Background">Background</a></h3>
<p>When the DataGrid shipped in Silverlight 3 SDK, there were a lot of cool things you could do with it. <br />You could sort items by a column by clicking on the header, you could group items by writing some code, you could hook up a datapager to the control <br />and have the grid bind to pages of data instead of a really long list. In short, pretty cool stuff. Around the same time, I started investigating what would it <br />take to achieve the same effect with remote data sources, most importantly, an Astoria ( / WCF Data Services / OData / This week&rsquo;s name ) service. <br />Imagine clicking a datagrid bound to an Astoria feed and clicking on a column header would cause us to ask the server to sort the collection and return the results. Having spent a weekend investigating what it would take to get the entire gamut of the Silverlight toolkit&rsquo;s UI controls , such as DataGrid/DataPager/DataForm/Charts , to bind to an Astoria feed and have this kind of interaction , I figured out that not only was this easy to do,but that <br />there&rsquo;s a lot of value in doing this for Silverlight controls. After this investigation and the initial excitement, We got to work on the Astoria V2 release and this work was lost in that noise. </p>
<p>Recently, since I have a bit of time to step back and think a bit, I decided to revive this work and release the source code and samples so that someone out there can use it in their applications and make some sense of it. As Steve Jobs ( as quoted by&nbsp; Alex James ) says &ldquo;Real artists ship&rdquo;.</p>
<h3><a name="NutsandBolts">Nuts and Bolts</a></h3>
<p>Let&rsquo;s start with this MSDN document :<a href="http://msdn.microsoft.com/en-us/library/dd833072(VS.95).aspx">How to: Group, Sort, and Filter Data in the DataGrid Control</a> <br />It states how one can use the PagedCollectionView&nbsp; to implement sorting/grouping/paging support in the DataGrid. <br />Piqued by similar documentation that existed back in the day, I reflected over this collection type and realized that it implemented <br />a couple of interfaces that were the secret sauce to getting this to work. <br />1. ICollectionView : this interface has definitions of methods for sorting/grouping a collection of items <br />2. IPagedCollectionView : this interface has methods for paging a collection, the DataPager control uses this to <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; trigger paging calls on the underlying collection. <br />3. IEditableCollectionView : this interface has methods for editing a collection, the dataform control uses this interface to add/remove items </p>
<p>Having understood what makes the datagrid&rsquo;s sorting/paging tick, I set to work on building an implementation of these interfaces which used a <br />datasource to query the OData Service to perform most of these operations. </p>
<p>The sorting calls were made by the $orderby query option and the paging calls were made by a combination of $skip and $top options. </p>
<p>OrderBy query option : <a href="http://www.odata.org/developers/protocols/uri-conventions#OrderBySystemQueryOption" title="http://www.odata.org/developers/protocols/uri-conventions#OrderBySystemQueryOption">http://www.odata.org/developers/protocols/uri-conventions#OrderBySystemQueryOption</a></p>
<p>Discussions with some people led me to believe that a datasource which was intrinsic to the collection types themselves seemed &ldquo;evil&rdquo; to a lot of people. <br />After multiple iterations, this is what the code looks like today . </p>
<p>We have&nbsp; collection type called : ODataServiceCollection&lt;T&gt; which implements all the above interfaces and uses an IDataSource&lt;TEntity&gt; instance <br />to perform the majority of the heavy lifting required for doing the actual sorting/paging calls. <br />At a glance, this is what the IDataSource&lt;TEntity&gt; looks like : </p>
<pre class="code"><span style="color: gray">/// &lt;summary&gt;
/// </span><span style="color: green">This interface defines the behavior for a type which acts as the DataSource for an ODataServiceCollection.
</span><span style="color: gray">/// &lt;/summary&gt;
/// &lt;typeparam name="TEntity"&gt;</span><span style="color: green">The Entity Type</span><span style="color: gray">&lt;/typeparam&gt;
</span><span style="color: blue">public interface </span><span style="color: #2b91af">IDataSource</span>&lt;TEntity&gt; <span style="color: blue">where </span>TEntity : <span style="color: blue">class
</span>{
    <span style="color: gray">/// &lt;summary&gt;
    /// </span><span style="color: green">This method is called to sort the SourceCollection on the ODataServiceCollection.
    </span><span style="color: gray">/// &lt;/summary&gt;
    /// &lt;param name="sortDescriptions"&gt;</span><span style="color: green">A collection that contains the SortDescriptions</span><span style="color: gray">&lt;/param&gt;
    </span><span style="color: blue">void </span>Sort(<span style="color: #2b91af">SortDescriptionCollection </span>sortDescriptions);

    <span style="color: gray">/// &lt;summary&gt;
    /// </span><span style="color: green">This method is called to load the </span><span style="color: gray">&lt;paramref name="pageIndex"/&gt; </span><span style="color: green">page of the SourceCollection.
    </span><span style="color: gray">/// &lt;/summary&gt;
    /// &lt;param name="pageIndex"&gt;</span><span style="color: green">The page index for the new page of results that the collection should fetch</span><span style="color: gray">&lt;/param&gt;
    </span><span style="color: blue">void </span>GoToPage(<span style="color: blue">int </span>pageIndex);

    <span style="color: gray">/// &lt;summary&gt;
    /// </span><span style="color: green">This method is called to calculate the TotalCount of entities in the SourceCollection.
    </span><span style="color: gray">/// &lt;/summary&gt;
    </span><span style="color: blue">void </span>GetTotalCount();

    <span style="color: gray">/// &lt;summary&gt;
    /// </span><span style="color: green">The number of items to show in each page of results
    </span><span style="color: gray">/// &lt;/summary&gt;
    </span><span style="color: blue">short </span>PageSize { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }

    <span style="color: gray">/// &lt;summary&gt;
    /// </span><span style="color: green">A boolean value which specifies if the DataSource is loading a page of results.
    </span><span style="color: gray">/// &lt;/summary&gt;
    </span><span style="color: blue">bool </span>IsLoading { <span style="color: blue">get</span>; }

    <span style="color: gray">/// &lt;summary&gt;
    /// </span><span style="color: green">This event is fired when the GetTotalCount function finishes execution.
    </span><span style="color: gray">/// &lt;/summary&gt;
    </span><span style="color: blue">event </span><span style="color: #2b91af">EventHandler</span>&lt;<span style="color: #2b91af">CountEventArgs</span>&gt; GetTotalCountCompleted;

    <span style="color: gray">/// &lt;summary&gt;
    /// </span><span style="color: green">This event is fired when the DataSource has completed loading a page of results.
    </span><span style="color: gray">/// &lt;/summary&gt;
    </span><span style="color: blue">event </span><span style="color: #2b91af">EventHandler</span>&lt;<span style="color: #2b91af">EntityEventArgs</span>&lt;TEntity&gt;&gt; EntitiesDownloaded;
}</pre>
<p>Depending on the implementation of the IDataSource.Sort method, you can do all of these operations in-memory or <br />query a data service to do the operations on the server-side. </p>
<h3><a name="Usage">Using this in your applications</a></h3>
<p>The sample code contains an IDataSource implementation which calls an OData Server for sorting operations.</p>
<pre class="code"><span style="color: green">// This is the Data Source that does query maintenance and listens to sorting and <br /><span style="color: green">// </span>paging calls from the ODataServiceCollection
// You can swap this out to use your own in-memory DataSource for unit testing.
</span><span style="color: #2b91af">ODataDataSource</span>&lt;<span style="color: #2b91af">Title</span>&gt; titlesDataSource = <span style="color: blue">new </span><span style="color: #2b91af">ODataDataSource</span>&lt;NetFlix.<span style="color: #2b91af">Title</span>&gt;(
                <span style="color: blue">new </span><span style="color: #2b91af">Uri</span>(<span style="color: #a31515">"http://odata.netflix.com/Catalog"</span>), <span style="color: green">/*Base Uri of the Data Service */
                </span><span style="color: #a31515">"Titles"</span>, <span style="color: green">/*Name of the Entity Set */
                </span>5 <span style="color: green">/*number of entities to be loaded in each page*/</span>);

<span style="color: #2b91af">ODataServiceCollection</span>&lt;<span style="color: #2b91af">Title</span>&gt; titlesCollection = <span style="color: blue">new </span><span style="color: #2b91af">ODataServiceCollection</span>&lt;<span style="color: #2b91af">Title</span>&gt;(titlesDataSource);</pre>
<p>and then you hook up the DataGrid by setting the ItemsSource.</p>
<pre class="code">dgTitles.ItemsSource = titlesCollection;</pre>
<p>From this point on, any actions performed on the DataGrid such as Sorting/Paging on the DataPager are taken care of by the collection <br />and the results are updated on the screen.</p>
<h3><a name="JoinMeForThisFeature">Vote to get these features in the DataServiceCollection&lt;TEntity&gt; type</a></h3>
<p>Click <a href="https://connect.microsoft.com/data/feedback/CreateFeedbackForm.aspx?FeedbackFormConfigurationID=3978&amp;FeedbackType=2">here</a> to enter a suggestion on our Connect site if you want to see this support in the DataServiceCollection&lt;TEntity&gt; type that we ship in the <br />Silverlight client library.A lot of this experimentation is to satisfy my own curiosity to learn these UI technologies and inner workings, <br />If you feel that&nbsp; you want the team to build support for Sorting/Paging into the product, make a suggestion on the above link and get your voice heard.</p>

      </div>

      <a href="/implementing-server-side-sortingpaging-for-odata-feeds-in-silverlight-controls-datagrid-datapager-dataform/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/t4-templates-for-wcf-data-services-part-i/">T4 templates for WCF Data Services, Part -I</a></h1>

      <div class="entry">
        <h5><a href="http://cid-925c2d2bb2d03c6b.office.live.com/self.aspx/Public/DataServiceCodeGenSample.zip">Click here to download sample application</a> </h5>
<p>As part of a series of blog posts about how to enhance the WCF Data Services development experience, I will be    <br />releasing some of the T4 templates that I use for generating common code.     <br />In this post, I will talk about augmenting the Server-side WCF Data Service by generating Query/Change Interceptors     <br />for all given entity sets present in a model. As this is&#160; proof of concept code only, this T4 template will only work against     <br />and Entity Framework model and will generate C# code. It shouldn’t be too hard to change the template to generate VB code.     </p>
<p>To use this template in your project, drop the three files in the zip file into the same project as the Data Service.     </p>
<p>Specify the following parameters in the .tt file :     </p>
<p>&#160; string dataServiceClassName =&quot;DataService&quot;;     <br />&#160; string dataServiceClassNamespace =&quot;Ast4oriaT4Templates.Web&quot;;     <br />&#160; bool generateQueryInterceptors = true;     <br />&#160; bool generateChangeInterceptors = true;     <br />&#160; bool generateServiceOperations = true;     <br />&#160; string edmxFilePath =@&quot;C:\temp\EuphoriaClientApp\EuphoriaWeb\northwindModel.edmx&quot;;</p>
<p>And save the template to trigger the code generation:</p>
<p>Once the code gen finishes, you should see the following files :</p>
<p>&lt;dataServiceClassName&gt;.QueryInterceptors.cs : This file contains a query interceptor for every entity set in the Model</p>
<p>&lt;dataServiceClassName&gt;.ChangeInterceptors.cs : This file contains a change interceptor for every entity set in the Model</p>
<p>&lt;dataServiceClassName&gt;.ServiceOperations.cs :&#160; This file contains a service operation for every FunctionImport in the Model</p>
<p>Part II will be client side code generation of Service Operations in the generated proxies.</p>

      </div>

      <a href="/t4-templates-for-wcf-data-services-part-i/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/windows-phone-odata-sample-application-updated-for-july-2010-beta-release/">Windows Phone OData sample application updated for July 2010 Beta release</a></h1>

      <div class="entry">
        <p>With the latest release of the Windows Phone tools, the OData sample Netflix application has also been updated.</p>
<p>Here is where you get the latest Windows Phone Tools :&nbsp; <br /><a href="http://www.microsoft.com/downloads/details.aspx?FamilyID=c8496c2a-54d9-4b11-9491-a1bfaf32f2e3&amp;displaylang=en">Windows Phone Developer Tools Beta</a> </p>
<p>And here is where you get the latest OData sample application : <br /><a href="http://cid-925c2d2bb2d03c6b.office.live.com/self.aspx/Public/ODataOnWinPhoneSample^_July2010Beta.zip">ODataOnWinPhoneSample_July2010Beta.zip</a></p>
<p>Original blog post here : <br /><a href="http://blogs.msdn.com/b/phaniraj/archive/2010/03/19/developing-a-windows-phone-7-application-that-consumes-odata.aspx">Developing a Windows Phone 7 Application that consumes OData</a></p>

      </div>

      <a href="/windows-phone-odata-sample-application-updated-for-july-2010-beta-release/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/server-driven-paging-ii-implementing-a-smart-auto-paging-enumerable/">Server Driven Paging II , Implementing a Smart Auto-Paging Enumerable</a></h1>

      <div class="entry">
        <ol>
<li><a href="http://cid-925c2d2bb2d03c6b.skydrive.live.com/self.aspx/Blog%20Demos/ServerDrivenPagingServer.zip" mce_href="http://cid-925c2d2bb2d03c6b.skydrive.live.com/self.aspx/Blog%20Demos/ServerDrivenPagingServer.zip">Download Sample Application</a> </li>
<li><a href="http://blogs.msdn.com/controlpanel/blogs/posteditor.aspx?SelectedNavItem=Posts&amp;sectionid=7524&amp;postid=10005591#Definition" mce_href="http://blogs.msdn.com/controlpanel/blogs/posteditor.aspx?SelectedNavItem=Posts&amp;sectionid=7524&amp;postid=10005591#Definition">What is this ?</a> </li>
<li><a href="http://blogs.msdn.com/controlpanel/blogs/posteditor.aspx?SelectedNavItem=Posts&amp;sectionid=7524&amp;postid=10005591#UseInApplications" mce_href="http://blogs.msdn.com/controlpanel/blogs/posteditor.aspx?SelectedNavItem=Posts&amp;sectionid=7524&amp;postid=10005591#UseInApplications">How do I use this in my applications ?</a> </li>
<li><a href="http://blogs.msdn.com/controlpanel/blogs/posteditor.aspx?SelectedNavItem=Posts&amp;sectionid=7524&amp;postid=10005591#ServerPagedEnumerableCreation" mce_href="http://blogs.msdn.com/controlpanel/blogs/posteditor.aspx?SelectedNavItem=Posts&amp;sectionid=7524&amp;postid=10005591#ServerPagedEnumerableCreation">Cool, I am also interested in learning how this was built</a> </li>
</ol>
<h4><a title="Definition" name="Definition"></a>2. What is this ? </h4>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; An “Auto-paging Enumerable” is an IEnumerable implementation that allows the application to <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; automatically fetch the next page of results if the current page of results is enumerated and the application wants more. <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; By “Smart”, we mean that we only load the next page when the current page runs out of results.We don’t load a page into memory&nbsp; <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; unless the&nbsp; application needs it. </p>
<h4><a title="UseInApplications" name="UseInApplications"></a>3.How do I use this in my applications ? </h4>
<p><a title="UseInApplications" name="UseInApplications"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Add the “ServerPagedQueryExtensions.cs” file into your application and use one of the following patterns. </p>
<ol>
<li>Binding to User Interface controls
<p>XAML Code for WPF Listbox: 
<pre class="code"><span style="COLOR: blue">&lt;</span><span style="COLOR: #a31515">ListBox </span><span style="COLOR: red">DisplayMemberPath</span><span style="COLOR: blue">="Name" </span><span style="COLOR: red">Name</span><span style="COLOR: blue">="lbCustomers" /&gt;
</span></pre>
<p>C# code to bind the collection to the listbox: 
<pre class="code"><span style="COLOR: #2b91af">CLRProvider </span>Context = <span style="COLOR: blue">new </span><span style="COLOR: #2b91af">CLRProvider</span>(<span style="COLOR: blue">new </span><span style="COLOR: #2b91af">Uri</span>(<span style="COLOR: #a31515">"http://localhost:60901/DataService.svc/"</span>));
<span style="COLOR: green">//Extension method on DataServiceQuery&lt;T&gt;
</span><span style="COLOR: blue">var </span>pagedCustomerRootQuery = (<span style="COLOR: blue">from </span>c <span style="COLOR: blue">in </span>Context.Customers
                                <span style="COLOR: blue">select new </span><span style="COLOR: #2b91af">Customer</span>()
                                {
                                    Name = c.Name
                                }) <span style="COLOR: blue">as </span><span style="COLOR: #2b91af">DataServiceQuery</span>&lt;<span style="COLOR: #2b91af">Customer</span>&gt;;
lbCustomers.ItemsSource = pagedCustomerRootQuery.Page(Context, maxItemsCount);</pre>
<p></li>
<li>With anonymous types in projections 
<pre class="code"><span style="COLOR: #2b91af">CLRProvider </span>Context = <span style="COLOR: blue">new </span><span style="COLOR: #2b91af">CLRProvider</span>(<span style="COLOR: blue">new </span><span style="COLOR: #2b91af">Uri</span>(<span style="COLOR: #a31515">"http://localhost:60901/DataService.svc/"</span>));

<span style="COLOR: blue">short </span>maxItemsCount = 6;
<span style="COLOR: green">//Factory method
</span><span style="COLOR: blue">var </span>customerPaged = <span style="COLOR: #2b91af">ServerPagedEnumerableFactory</span>.Create(
    <span style="COLOR: blue">from </span>c <span style="COLOR: blue">in </span>Context.Customers
    <span style="COLOR: blue">select new
    </span>{
        Name = c.Name
    }, Context, maxItemsCount);</pre>
</li>
<li>In non-user interface backend code 
<pre class="code"><span style="COLOR: blue">foreach </span>(<span style="COLOR: #2b91af">Customer </span>instance <span style="COLOR: blue">in </span>Context.Customers.Page(Context, maxItemsCount))
{
    <span style="COLOR: green">//Do something with instance variable here
</span>}</pre>
</li>
</ol>
<p></p>
<h4>4. <a title="ServerPagedEnumerableCreation" name="ServerPagedEnumerableCreation"></a>How this was built </h4>
<p>At the root of this implementation is the <span style="COLOR: #2b91af">IPagedEnumerator&lt;T&gt;</span> interface which provides a contract for an IEnumerator&lt;T&gt; to signal that it has run out of elements <br />in the page.</p>
<pre class="code"><span style="COLOR: gray">/// &lt;summary&gt;
/// </span><span style="COLOR: green">Provides support for on-demand loading of the next page of results as soon as the current page of results is exhausted
</span><span style="COLOR: gray">/// &lt;/summary&gt;
/// &lt;typeparam name="TEntity"&gt;</span><span style="COLOR: green">The type of the enumeration</span><span style="COLOR: gray">&lt;/typeparam&gt;
</span><span style="COLOR: blue">public interface </span><span style="COLOR: #2b91af">IPagedEnumerator</span>&lt;TEntity&gt; : <span style="COLOR: #2b91af">IEnumerator</span>&lt;TEntity&gt;
{
    <span style="COLOR: gray">/// &lt;summary&gt;
    /// </span><span style="COLOR: green">Provides access to the complete set of results
    </span><span style="COLOR: gray">/// &lt;/summary&gt;
    </span><span style="COLOR: #2b91af">List</span>&lt;TEntity&gt; CompleteSet { <span style="COLOR: blue">get</span>; }
    <span style="COLOR: gray">/// &lt;summary&gt;
    /// </span><span style="COLOR: green">Signals the enumerator to move to the next page of results
    </span><span style="COLOR: gray">/// &lt;/summary&gt;
    </span><span style="COLOR: #2b91af">Func</span>&lt;<span style="COLOR: #2b91af">IEnumerable</span>&lt;TEntity&gt;&gt; GetNextPage { <span style="COLOR: blue">get</span>; <span style="COLOR: blue">set</span>; }
}</pre>
<p>The <span style="COLOR: #2b91af">ServerPagedEnumerator</span>&lt;TEntity&gt; type implements this interface and calls the GetNextPage method when it has run out of elements in the current page.</p>
<pre class="code"><span style="COLOR: blue">public bool </span>MoveNext()
{
    currentIndex++;
    <span style="COLOR: blue">if </span>(SourceList.Count &lt;= currentIndex &amp;&amp; GetNextPage != <span style="COLOR: blue">null</span>)
    {
        SourceList.AddRange(GetNextPage());
    }
    <span style="COLOR: blue">return </span>SourceList.Count &gt; currentIndex;
}</pre>
<pre class="code"><span style="COLOR: gray">/// &lt;summary&gt;
/// </span><span style="COLOR: green">This class is an IEnumerable&amp;lt;</span><span style="COLOR: gray">&lt;typeparamref name="TEntity"/&gt;</span><span style="COLOR: green">&amp;gt; which signals when the current page of results have been enumerated.
</span><span style="COLOR: gray">/// </span><span style="COLOR: green">Developers can hook into the PageCompleted handler to return the next page of results
</span><span style="COLOR: gray">/// &lt;/summary&gt;
/// &lt;typeparam name="TEntity"&gt;</span><span style="COLOR: green">The type of the collection</span><span style="COLOR: gray">&lt;/typeparam&gt;
</span><span style="COLOR: blue">public class </span><span style="COLOR: #2b91af">ServerPagedEnumerator</span>&lt;TEntity&gt; : <span style="COLOR: #2b91af">IPagedEnumerator</span>&lt;TEntity&gt; {</pre>
<p>The way we inject the ServerPagedEnumerator<tentity> into the foreach is by implementing an IEnumerable<tentity> that fetches the next page of results, when GetNextPage is called, by using the DataServiceContext and continuation tokens. <br />You can replace this with your implementation of paging which uses client-driven paging or some other custom scheme. </p>
<p></tentity></tentity></p>
<pre class="code"><span style="COLOR: gray">/// &lt;summary&gt;
/// </span><span style="COLOR: green">This class automatically fetches the next page in an Entity Set once the current page is enumerated completely
</span><span style="COLOR: gray">/// &lt;/summary&gt;
/// &lt;typeparam name="TEntity"&gt;</span><span style="COLOR: green">The entity type of the request</span><span style="COLOR: gray">&lt;/typeparam&gt;
</span><span style="COLOR: blue">public class </span><span style="COLOR: #2b91af">ServerPagedEnumerable</span>&lt;TEntity&gt; : <span style="COLOR: #2b91af">IEnumerable</span>&lt;TEntity&gt;
{
  <pre class="code"><span style="COLOR: gray">/// &lt;summary&gt;
/// </span><span style="COLOR: green">The Enumerator which calls a function whenever the current page of results are exhausted
</span><span style="COLOR: gray">/// &lt;/summary&gt;
</span><span style="COLOR: #2b91af">ServerPagedEnumerator</span>&lt;TEntity&gt; ServerPagedEnumerator;
<span style="COLOR: green"><br /></span></pre>
<pre class="code"><span style="COLOR: green">//Hook up to listen to the GetNextPage call so that we can get the next page when the current page of results are enumerated.
</span>ServerPagedEnumerator.GetNextPage = GetNextPage;</pre>
<pre class="code"><span style="COLOR: blue">public </span><span style="COLOR: #2b91af">IEnumerator</span>&lt;TEntity&gt; GetEnumerator()
{
    <span style="COLOR: blue">return </span>ServerPagedEnumerator;
}</pre>
<pre class="code"><span style="COLOR: gray">/// &lt;summary&gt;
/// </span><span style="COLOR: green">Gets the next page in the Entity Set if the Continuation token points to a valid page.If
</span><span style="COLOR: gray">/// </span><span style="COLOR: green">not, returns an empty collection
</span><span style="COLOR: gray">/// &lt;/summary&gt;
/// &lt;returns&gt;</span><span style="COLOR: green">The next page of results</span><span style="COLOR: gray">&lt;/returns&gt;
</span><span style="COLOR: blue">private </span><span style="COLOR: #2b91af">IEnumerable</span>&lt;TEntity&gt; GetNextPage()
{
    <span style="COLOR: green">//If the continuation token is not null, we get the next page of results
    </span><span style="COLOR: blue">if </span>(continuationToken != <span style="COLOR: blue">null</span>)
    {
        <span style="COLOR: blue">return </span>ExecuteQuery(continuationToken);
    }
    <span style="COLOR: blue">return new </span><span style="COLOR: #2b91af">List</span>&lt;TEntity&gt;();
}</pre>
<pre class="code"><span style="COLOR: gray">/// &lt;summary&gt;
/// </span><span style="COLOR: green">Follows the DataServiceQueryContinuation&amp;lt;</span><span style="COLOR: gray">&lt;typeparamref name="TEntity"/&gt;</span><span style="COLOR: green">&amp;gt; and returns the page of results while updating the continuation token.
</span><span style="COLOR: gray">/// &lt;/summary&gt;
/// &lt;param name="QueryContinuation"&gt;</span><span style="COLOR: green">The Continuation token which represents the next page of the Entity Set</span><span style="COLOR: gray">&lt;/param&gt;
/// &lt;returns&gt;</span><span style="COLOR: green">The results of the query</span><span style="COLOR: gray">&lt;/returns&gt;
</span><span style="COLOR: blue">private </span><span style="COLOR: #2b91af">IEnumerable</span>&lt;TEntity&gt; ExecuteQuery(<span style="COLOR: #2b91af">DataServiceQueryContinuation</span>&lt;TEntity&gt; QueryContinuation)
{
    <span style="COLOR: #2b91af">QueryOperationResponse</span>&lt;TEntity&gt; queryOperationResponse = contextInstance.Execute(QueryContinuation) <span style="COLOR: blue">as </span><span style="COLOR: #2b91af">QueryOperationResponse</span>&lt;TEntity&gt;;
    <span style="COLOR: #2b91af">List</span>&lt;TEntity&gt; responseList = queryOperationResponse.ToList();
    continuationToken = queryOperationResponse.GetContinuation();
    <span style="COLOR: blue">return </span>responseList;
}</pre>
<p>In the end, we tie everything together by creating an extension method on DataServiceQuery&lt;T&gt; so that we can use the .Page() extension method to provide an easy-to-use API. </p>
<pre class="code"><span style="COLOR: blue">public static </span><span style="COLOR: #2b91af">IEnumerable</span>&lt;TEntity&gt; Page&lt;TEntity&gt;(<span style="COLOR: blue">this </span><span style="COLOR: #2b91af">DataServiceQuery</span>&lt;TEntity&gt; query, <span style="COLOR: #2b91af">DataServiceContext </span>ContextInstance)
{
    <span style="COLOR: blue">return new </span><span style="COLOR: #2b91af">ServerPagedEnumerable</span>&lt;TEntity&gt;(query, ContextInstance);
}</pre>

      </div>

      <a href="/server-driven-paging-ii-implementing-a-smart-auto-paging-enumerable/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/odata-explorer-updated-to-sl4-rtm/">OData Explorer updated to SL4 RTM</a></h1>

      <div class="entry">
        <ol>
<li><a href="http://go.microsoft.com/fwlink/?LinkID=149156">Install Silverlight 4 RTM</a> </li>
<li> <a href="http://Silverlight.net/ODataExplorer">Explore the latest OData Explorer release.</a></li>
</ol>
<p>As part of the update, we fixed a couple of bugs and added a couple of more features.    <br />Here’s a rundown of the new features we added .</p>
<table>
<tbody>
<tr>
<td><strong>&#160; 1.Sorting</strong></td>
<td><strong>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 2.Projections </strong></td>
</tr>
<tr>
<td><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/ODataExplorerupdatedtoSL4RTM_C770/Sort_Support.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/ODataExplorerupdatedtoSL4RTM_C770/Sort_Support.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="Sort_Support" border="0" alt="Sort_Support" src="/assets/Sort_Support_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/ODataExplorerupdatedtoSL4RTM_C770/Sort_Support_thumb.png" width="218" height="322" /></a> </td>
<td style="valign: top"><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/ODataExplorerupdatedtoSL4RTM_C770/Projections_Support.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/ODataExplorerupdatedtoSL4RTM_C770/Projections_Support.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="Projections_Support" border="0" alt="Projections_Support" src="/assets/Projections_Support_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/ODataExplorerupdatedtoSL4RTM_C770/Projections_Support_thumb.png" width="275" height="322" /> </a></td>
</tr>
<tr>
<td><strong>3.Integration with Public Live OData Service list from OData.org&#160;&#160;&#160;&#160;&#160;&#160;&#160; </strong></td>
<td>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <strong>4.Better debugging for Service errors :</strong></td>
</tr>
<tr>
<td><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/ODataExplorerupdatedtoSL4RTM_C770/Public_Services_Integration.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/ODataExplorerupdatedtoSL4RTM_C770/Public_Services_Integration.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="Public_Services_Integration" border="0" alt="Public_Services_Integration" src="/assets/Public_Services_Integration_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/ODataExplorerupdatedtoSL4RTM_C770/Public_Services_Integration_thumb.png" width="350" height="241" /></a></td>
<td><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/ODataExplorerupdatedtoSL4RTM_C770/better_Error_messages.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/ODataExplorerupdatedtoSL4RTM_C770/better_Error_messages.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="better_Error_messages" border="0" alt="better_Error_messages" src="/assets/better_Error_messages_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/ODataExplorerupdatedtoSL4RTM_C770/better_Error_messages_thumb.png" width="343" height="241" /></a></td>
</tr>
</tbody>
</table>

      </div>

      <a href="/odata-explorer-updated-to-sl4-rtm/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/server-driven-paging-with-wcf-data-services/">Server Driven Paging With WCF Data Services</a></h1>

      <div class="entry">
        <ul>
<li><a href="http://cid-925c2d2bb2d03c6b.skydrive.live.com/self.aspx/Public/ServerDrivenPagingDemo.zip">Download Sample Application</a> </li>
<li>Server Side
<ol>
<li><a href="http://blogs.msdn.com/astoriateam/archive/2009/03/19/ado-net-data-services-v1-5-ctp1-server-driven-paging.aspx">What is SDP ?</a> </li>
<li><a href="https://channel9.msdn.com/shows/10-4/10-4-Episode-27-Server-Driven-Paging-with-ADONET-Data-Services/">Design notes Blog post , Channel 9 video</a> </li>
<li>Enabling SDP on the server. </li>
<li>Setting Server-side paging limits in InitializeService. </li>
<li>How to detect if a set is paged from the server-side. </li>
<li>How QueryInterceptors affect the next link Uri. </li>
<li>Navigating the next link Uri in the browser </li>
</ol>
</li>
<li>Client Side
<ol>
<li>SDP and DataServiceCollection APIs </li>
<li>SDP and QueryOperationResponse </li>
</ol>
</li>
</ul>
<h2>Server Side</h2></p>
<h3>3. Enabling SDP on the server.</h3>
<p> On the Server-side , to use any of the V2 features , the DataServiceBehavior has to be set to V2.   <br />config.DataServiceBehavior.MaxDataServiceProtocolVersion = DataServiceProtocolVersion.V2;</p>
<h3>4. Setting Server-side paging limits in InitializeService. </h3>
<p>To have the SDP limits applied to an entity set on the server-side , you need to configure the    <br />page size on that entity set by using the SetEntitySetPageSize API available on DataServiceConfiguration. </p>
<p>int requestSizeLimit = 5;    <br />config.SetEntitySetPageSize(&quot;*&quot;, requestSizeLimit);</p>
<h3>5. How to detect if a set is paged on the server-side</h3>
<p>From the metadata, no way.    <br />We don’t expose any information in the $metadata endpoint that a particular set is paged on the server-side.     <br />Without browsing to each entity set exposed by the service and asking for all the entities , there is no way to detect that a set is server paged.     <br />The client developer has to know that the paging limits are set on the server-side to change the client code accordingly.     <br />For more information about client side Querying strategies , please see the section :</p>
<h3 style="margin: 10pt 0in 0pt">6. How QueryInterceptors affect server side paging. </h3>
<p>Applying a QueryInterceptor to an entity set would cause the total visible amount of data to the Data Service to be filtered.    <br />If the Server can’t see it , it can’t page it. In other words, any limits that are currently in place now and apply to the /EntitySet     <br />endpoint , will continue to hold after enabling Server Driven paging for that Entity Set.</p>
<h2>Client Side</h2>
<h3>1. SDP and DataServiceCollection APIs </h3>
<p>With the introduction of the SDP and DataBinding support in the client library , we have a new collection type called DataServiceCollection which provides support for natively reading the NextLinkUri , if it‘s present in the ATOM returned from the server. The type contains a property called Continuation,which contains the nextLinkUri present in the payload.</p>
<p><a href="http://msdn.microsoft.com/en-us/library/ee474410(v=VS.96).aspx">DataServiceCollection&lt;T&gt;.Continuation Property on MSDN</a>&#160; <br />The simplest example of using this collection type is to use the DataServiceCollection type to hold the results of a Query.     <br />The attached sample application contains more scenario based examples.</p>
<pre class="code"><span style="background: #2e2e2e; color: lime">  //Create an empty DataServiceCollection to hold the results of a query
</span><span style="background: #2e2e2e; color: #f0dfaf">  DataServiceCollection</span><span style="background: #2e2e2e; color: #d2d200">&lt;</span><span style="background: #2e2e2e; color: #f0dfaf">Customer</span><span style="background: #2e2e2e; color: #d2d200">&gt; </span><span style="background: #2e2e2e; color: #f8ffc6">customersPagedCollection </span><span style="background: #2e2e2e; color: #d2d200">= </span><span style="background: #2e2e2e; color: #eaeaac">new </span><span style="background: #2e2e2e; color: #f0dfaf">DataServiceCollection</span><span style="background: #2e2e2e; color: #d2d200">&lt;</span><span style="background: #2e2e2e; color: #f0dfaf">Customer</span><span style="background: #2e2e2e; color: #d2d200">&gt;();
</span><span style="background: #2e2e2e; color: #eaeaac">  var </span><span style="background: #2e2e2e; color: #f8ffc6">customersQuery </span><span style="background: #2e2e2e; color: #d2d200">= (</span><span style="background: #2e2e2e; color: #eaeaac">from </span><span style="background: #2e2e2e; color: #f8ffc6">c </span><span style="background: #2e2e2e; color: #eaeaac">in </span><span style="background: #2e2e2e; color: #f8ffc6">ServiceContext</span><span style="background: #2e2e2e; color: #d2d200">.</span><span style="background: #2e2e2e; color: #f8ffc6">Customers
                                  </span><span style="background: #2e2e2e; color: #eaeaac">where </span><span style="background: #2e2e2e; color: #f8ffc6">c</span><span style="background: #2e2e2e; color: #d2d200">.</span><span style="background: #2e2e2e; color: #f8ffc6">Name</span><span style="background: #2e2e2e; color: #d2d200">.</span><span style="background: #2e2e2e; color: #f8ffc6">StartsWith</span><span style="background: #2e2e2e; color: #d2d200">(</span><span style="background: #2e2e2e; color: #c89191">&quot;P&quot;</span><span style="background: #2e2e2e; color: #d2d200">)
                                  </span><span style="background: #2e2e2e; color: #eaeaac">select </span><span style="background: #2e2e2e; color: #f8ffc6">c</span><span style="background: #2e2e2e; color: #d2d200">) </span><span style="background: #2e2e2e; color: #eaeaac">as </span><span style="background: #2e2e2e; color: #f0dfaf">DataServiceQuery</span><span style="background: #2e2e2e; color: #d2d200">&lt;</span><span style="background: #2e2e2e; color: #f0dfaf">Customer</span><span style="background: #2e2e2e; color: #d2d200">&gt;;
  </span><span style="background: #2e2e2e; color: lime">//Execute the query asynchronously
  </span><span style="background: #2e2e2e; color: #f8ffc6">customersQuery</span><span style="background: #2e2e2e; color: #d2d200">.</span><span style="background: #2e2e2e; color: #f8ffc6">BeginExecute</span><span style="background: #2e2e2e; color: #d2d200">(
    (</span><span style="background: #2e2e2e; color: #f8ffc6">asyncResult</span><span style="background: #2e2e2e; color: #d2d200">) =&gt;
     {
       </span><span style="background: #2e2e2e; color: #eaeaac">var </span><span style="background: #2e2e2e; color: #f8ffc6">customerQueryResponse </span><span style="background: #2e2e2e; color: #d2d200">= </span><span style="background: #2e2e2e; color: #f8ffc6">customersQuery</span><span style="background: #2e2e2e; color: #d2d200">.</span><span style="background: #2e2e2e; color: #f8ffc6">EndExecute</span><span style="background: #2e2e2e; color: #d2d200">(</span><span style="background: #2e2e2e; color: #f8ffc6">asyncResult</span><span style="background: #2e2e2e; color: #d2d200">) </span><span style="background: #2e2e2e; color: #eaeaac">as </span><span style="background: #2e2e2e; color: #f0dfaf">QueryOperationResponse</span><span style="background: #2e2e2e; color: #d2d200">&lt;</span><span style="background: #2e2e2e; color: #f0dfaf">Customer</span><span style="background: #2e2e2e; color: #d2d200">&gt;;
       </span><span style="background: #2e2e2e; color: lime">//Call load on the DataServiceCollection with the QueryOperationResponse
       //This will cause the collection to load the customer objects
       //and the nextlink as found in the response.
       </span><span style="background: #2e2e2e; color: #f8ffc6">customersPagedCollection</span><span style="background: #2e2e2e; color: #d2d200">.</span><span style="background: #2e2e2e; color: #f8ffc6">Load</span><span style="background: #2e2e2e; color: #d2d200">( </span><span style="background: #2e2e2e; color: #f8ffc6">customerQueryResponse </span><span style="background: #2e2e2e; color: #d2d200">);
     }, </span><span style="background: #2e2e2e; color: #eaeaac">null
  </span><span style="background: #2e2e2e; color: #d2d200">);</span></pre>
<p><a href="http://11011.net/software/vspaste"></a><a href="http://11011.net/software/vspaste"></a></p>
<p>Seeing as it is that the above pattern of querying for top level collections is a common practice in Silverlight applications,<br />
  <br />we’ve introduced a method on the DataServiceCollection type to make this easier.</p>
<p>Behold, <a href="http://msdn.microsoft.com/en-us/library/ee652610(v=VS.96).aspx">the LoadAsync method on DataServiceCollection&lt;T&gt;</a> for materializing top level collections without any user code.</p>
<p><font color="#17365d">And <a href="http://msdn.microsoft.com/en-us/library/ee652761(v=VS.96).aspx">the LoadNextPartialSetAsync method</a> to load the next page in the collection.</p>
<p></font></p>
<p><font color="#17365d">To load the next page in the Collection, call the Execute&lt;T&gt;,BeginExecute&lt;T&gt; overloads which take a continuation token.</font></p>
<pre class="code"><span style="background: #2e2e2e; color: lime">//To Load the next page, call the Execute&lt;T&gt; overload which takes a continuation token
 </span><span style="background: #2e2e2e; color: #f8ffc6">ServiceContext</span><span style="background: #2e2e2e; color: #d2d200">.</span><span style="background: #2e2e2e; color: #f8ffc6">BeginExecute</span><span style="background: #2e2e2e; color: #d2d200">(</span><span style="background: #2e2e2e; color: #f8ffc6">customersPagedCollection</span><span style="background: #2e2e2e; color: #d2d200">.</span><span style="background: #2e2e2e; color: #f8ffc6">Continuation</span><span style="background: #2e2e2e; color: #d2d200">, </span><span style="background: #2e2e2e; color: #f8ffc6">QueryCallback</span><span style="background: #2e2e2e; color: #d2d200">, </span><span style="background: #2e2e2e; color: #eaeaac">null</span><span style="background: #2e2e2e; color: #d2d200">);</span></pre>
<p><a href="http://11011.net/software/vspaste"></a></p>
<p><font color="#17365d">Call the LoadNextPartialSetAsync method in your&#160; Silverlight applications:</font></p>
<pre class="code"><span style="background: #2e2e2e; color: #f8ffc6">customersPagedCollection</span><span style="background: #2e2e2e; color: #d2d200">.</span><span style="background: #2e2e2e; color: #f8ffc6">LoadNextPartialSetAsync</span><span style="background: #2e2e2e; color: #d2d200">();</span></pre>
<h3>2. SDP and QueryOperationResponse</h3>
<p>In case you don’t want to use the DataServiceCollection&lt;T&gt; type and instead want to use your own collection type,</p>
<p>then fear not . You don’t <b style="mso-bidi-font-weight: normal"><i style="mso-bidi-font-style: normal">have</i></b> to use the DataServiceCollection type if you want to have Paging Support in the client library. The QueryOperationResponse&lt;T&gt; type from V1 has been updated to support Paging using custom collections.&#160; <br />The type now contains a new method called GetContinuation which will give you the continuation token if one was present in the response.</p>
<p></p>
<p><a href="http://msdn.microsoft.com/en-us/library/ee474245(v=VS.100).aspx">QueryOperationResponse&lt;T&gt;.GetContinuation Method&#160; on MSDN</a></p>
<p><font color="#17365d">Consider a custom collection type called MyCollection and looks like this&#160; :<br />
  </p>
<pre class="code"><span style="background: #2e2e2e; color: gray">/// &lt;summary&gt;
/// </span><span style="background: #2e2e2e; color: #7a987a">Custom collection type to illustrate pluggability of Continuation token.
</span><span style="background: #2e2e2e; color: gray">/// &lt;/summary&gt;
/// &lt;typeparam name=&quot;TEntity&quot;&gt;</span><span style="background: #2e2e2e; color: #7a987a">The Entitytype of the collection</span><span style="background: #2e2e2e; color: gray">&lt;/typeparam&gt;
</span><span style="background: #2e2e2e; color: #eaeaac">public class </span><span style="background: #2e2e2e; color: #f0dfaf">MyCollectionType</span><span style="background: #2e2e2e; color: #d2d200">&lt;</span><span style="background: #2e2e2e; color: #f8ffc6">TEntity</span><span style="background: #2e2e2e; color: #d2d200">&gt; : </span><span style="background: #2e2e2e; color: #f0dfaf">List</span><span style="background: #2e2e2e; color: #d2d200">&lt;</span><span style="background: #2e2e2e; color: #f8ffc6">TEntity</span><span style="background: #2e2e2e; color: #d2d200">&gt; </span><span style="background: #2e2e2e; color: #eaeaac">where </span><span style="background: #2e2e2e; color: #f8ffc6">TEntity </span><span style="background: #2e2e2e; color: #d2d200">: </span><span style="background: #2e2e2e; color: #eaeaac">class</span><span style="background: #2e2e2e; color: #d2d200">, </span><span style="background: #2e2e2e; color: #eaeaac">new</span><span style="background: #2e2e2e; color: #d2d200">() {
    </span><span style="background: #2e2e2e; color: gray">/// &lt;summary&gt;
    /// </span><span style="background: #2e2e2e; color: #7a987a">This is a custom property on a collection type which can hold the continuation token
    </span><span style="background: #2e2e2e; color: gray">/// </span><span style="background: #2e2e2e; color: #7a987a">Call GetContinuation on the response to get the continuation token for the response
    </span><span style="background: #2e2e2e; color: gray">/// &lt;/summary&gt;
    </span><span style="background: #2e2e2e; color: #eaeaac">public </span><span style="background: #2e2e2e; color: #f0dfaf">DataServiceQueryContinuation</span><span style="background: #2e2e2e; color: #d2d200">&lt;</span><span style="background: #2e2e2e; color: #f8ffc6">TEntity</span><span style="background: #2e2e2e; color: #d2d200">&gt; </span><span style="background: #2e2e2e; color: #f8ffc6">NextLink </span><span style="background: #2e2e2e; color: #d2d200">{ </span><span style="background: #2e2e2e; color: #eaeaac">get</span><span style="background: #2e2e2e; color: #d2d200">; </span><span style="background: #2e2e2e; color: #eaeaac">set</span><span style="background: #2e2e2e; color: #d2d200">; }
}
</span></pre>
<p>  <a href="http://11011.net/software/vspaste"></a></p>
<p>Here’s an example of getting the continuation token and using it in the collection type:</p>
<pre class="code"><span style="background: #2e2e2e; color: lime">   //Create the custom collection type and add the results of the query to the collection
   </span><span style="background: #2e2e2e; color: #f0dfaf">MyCollectionType</span><span style="background: #2e2e2e; color: #d2d200">&lt;</span><span style="background: #2e2e2e; color: #f0dfaf">Customer</span><span style="background: #2e2e2e; color: #d2d200">&gt; </span><span style="background: #2e2e2e; color: #f8ffc6">customCustomersCollection </span><span style="background: #2e2e2e; color: #d2d200">= </span><span style="background: #2e2e2e; color: #eaeaac">new </span><span style="background: #2e2e2e; color: #f0dfaf">MyCollectionType</span><span style="background: #2e2e2e; color: #d2d200">&lt;</span><span style="background: #2e2e2e; color: #f0dfaf">Customer</span><span style="background: #2e2e2e; color: #d2d200">&gt;();
   </span><span style="background: #2e2e2e; color: #eaeaac">var </span><span style="background: #2e2e2e; color: #f8ffc6">customersQuery </span><span style="background: #2e2e2e; color: #d2d200">= (</span><span style="background: #2e2e2e; color: #eaeaac">from </span><span style="background: #2e2e2e; color: #f8ffc6">c </span><span style="background: #2e2e2e; color: #eaeaac">in </span><span style="background: #2e2e2e; color: #f8ffc6">ServiceContext</span><span style="background: #2e2e2e; color: #d2d200">.</span><span style="background: #2e2e2e; color: #f8ffc6">Customers
                                  </span><span style="background: #2e2e2e; color: #eaeaac">where </span><span style="background: #2e2e2e; color: #f8ffc6">c</span><span style="background: #2e2e2e; color: #d2d200">.</span><span style="background: #2e2e2e; color: #f8ffc6">Name</span><span style="background: #2e2e2e; color: #d2d200">.</span><span style="background: #2e2e2e; color: #f8ffc6">StartsWith</span><span style="background: #2e2e2e; color: #d2d200">(</span><span style="background: #2e2e2e; color: #c89191">&quot;P&quot;</span><span style="background: #2e2e2e; color: #d2d200">)
                                  </span><span style="background: #2e2e2e; color: #eaeaac">select </span><span style="background: #2e2e2e; color: #f8ffc6">c</span><span style="background: #2e2e2e; color: #d2d200">) </span><span style="background: #2e2e2e; color: #eaeaac">as </span><span style="background: #2e2e2e; color: #f0dfaf">DataServiceQuery</span><span style="background: #2e2e2e; color: #d2d200">&lt;</span><span style="background: #2e2e2e; color: #f0dfaf">Customer</span><span style="background: #2e2e2e; color: #d2d200">&gt;;
   </span><span style="background: #2e2e2e; color: lime">//Execute the query asynchronously
   </span><span style="background: #2e2e2e; color: #f8ffc6">customersQuery</span><span style="background: #2e2e2e; color: #d2d200">.</span><span style="background: #2e2e2e; color: #f8ffc6">BeginExecute</span><span style="background: #2e2e2e; color: #d2d200">(
       (</span><span style="background: #2e2e2e; color: #f8ffc6">asyncResult</span><span style="background: #2e2e2e; color: #d2d200">) =&gt;
        {
          </span><span style="background: #2e2e2e; color: #eaeaac">var </span><span style="background: #2e2e2e; color: #f8ffc6">customerQueryResponse </span><span style="background: #2e2e2e; color: #d2d200">= </span><span style="background: #2e2e2e; color: #f8ffc6">customersQuery</span><span style="background: #2e2e2e; color: #d2d200">.</span><span style="background: #2e2e2e; color: #f8ffc6">EndExecute</span><span style="background: #2e2e2e; color: #d2d200">(</span><span style="background: #2e2e2e; color: #f8ffc6">asyncResult</span><span style="background: #2e2e2e; color: #d2d200">) </span><span style="background: #2e2e2e; color: #eaeaac">as </span><span style="background: #2e2e2e; color: #f0dfaf">QueryOperationResponse</span><span style="background: #2e2e2e; color: #d2d200">&lt;</span><span style="background: #2e2e2e; color: #f0dfaf">Customer</span><span style="background: #2e2e2e; color: #d2d200">&gt;;
          </span><span style="background: #2e2e2e; color: #eaeaac">foreach </span><span style="background: #2e2e2e; color: #d2d200">(</span><span style="background: #2e2e2e; color: #f0dfaf">Customer </span><span style="background: #2e2e2e; color: #f8ffc6">customerInstance </span><span style="background: #2e2e2e; color: #eaeaac">in </span><span style="background: #2e2e2e; color: #f8ffc6">customerQueryResponse</span><span style="background: #2e2e2e; color: #d2d200">)
           {
             </span><span style="background: #2e2e2e; color: #f8ffc6">customCustomersCollection</span><span style="background: #2e2e2e; color: #d2d200">.</span><span style="background: #2e2e2e; color: #f8ffc6">Add</span><span style="background: #2e2e2e; color: #d2d200">(</span><span style="background: #2e2e2e; color: #f8ffc6">customerInstance</span><span style="background: #2e2e2e; color: #d2d200">);
           }
         </span><span style="background: #2e2e2e; color: lime">//Calling GetContinuation without any parameters gives you the nextlink of the
         //top level feed element in the response
         </span><span style="background: #2e2e2e; color: #f8ffc6">customCustomersCollection</span><span style="background: #2e2e2e; color: #d2d200">.</span><span style="background: #2e2e2e; color: #f8ffc6">NextLink </span><span style="background: #2e2e2e; color: #d2d200">= </span><span style="background: #2e2e2e; color: #f8ffc6">customerQueryResponse</span><span style="background: #2e2e2e; color: #d2d200">.</span><span style="background: #2e2e2e; color: #f8ffc6">GetContinuation</span><span style="background: #2e2e2e; color: #d2d200">();
         }, </span><span style="background: #2e2e2e; color: #eaeaac">null
     </span><span style="background: #2e2e2e; color: #d2d200">);</span></pre>
<p>  <a href="http://11011.net/software/vspaste"></a></p>
<p><font color="#17365d">To load the next page in the Collection, call the Execute&lt;T&gt;,BeginExecute&lt;T&gt; overloads which take a continuation token.</font></p>
<pre class="code"><span style="background: #2e2e2e; color: lime">//To Load the next page, call the Execute&lt;T&gt; overload which takes a continuation token
 </span><span style="background: #2e2e2e; color: #f8ffc6">ServiceContext</span><span style="background: #2e2e2e; color: #d2d200">.</span><span style="background: #2e2e2e; color: #f8ffc6">BeginExecute</span><span style="background: #2e2e2e; color: #d2d200">(</span><span style="background: #2e2e2e; color: #f8ffc6">customCustomersCollection</span><span style="background: #2e2e2e; color: #d2d200">.</span><span style="background: #2e2e2e; color: #f8ffc6">NextLink </span><span style="background: #2e2e2e; color: #d2d200">, </span><span style="background: #2e2e2e; color: #f8ffc6">QueryCallback</span><span style="background: #2e2e2e; color: #d2d200">, </span><span style="background: #2e2e2e; color: #eaeaac">null</span><span style="background: #2e2e2e; color: #d2d200">);</span></pre>
<p></font></p>

      </div>

      <a href="/server-driven-paging-with-wcf-data-services/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/update-on-the-odata-explorer/">Update on the OData Explorer</a></h1>

      <div class="entry">
        <p>Seeing as it is that Silverlight 4 RTM just went live , You should see an error message that says that the application is written for an obsolete version of Silverlight.   <br />We are working on updating the explorer to SL 4 RTM.    <br />Please bear with us while we update the sources and go through some bug fixes for the RTM version of the explorer.</p>

      </div>

      <a href="/update-on-the-odata-explorer/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/a-checklist-for-odata-feed-publishers/">A Checklist for OData Feed publishers</a></h1>

      <div class="entry">
        <div>
<p>Here's a minimal checklist to make sure your OData Service is available to a maximum number of clients and very functional out of the box .      <br />I'll add more items to this list as we go along.</p>
<ol>
<li>
<h4 class="yellowBG">Allow Silverlight clients to access your data.</h4>
<p>Silverlight applications running on a domain other than the one the Data Service is hosted on require a ClientAccessPolicy.xml file at the root of the webserver.         <br />Without a CAP.xml file , an in-browser Silverlight application cannot access the Data Service.         <br />Be nice to your Silverlight client apps, drop a CrossDomain.xml or a ClientAccessPolicy.xml file at the root of the Data Service         <br />Reference : <a href="http://blogs.msdn.com/astoriateam/archive/2009/11/05/enabling-x-domain-access-to-your-data-services.aspx">Enabling X-Domain access to your Data Services</a>         <br />note: SL4 apps can circumvent the need for CAP.xml file by being installed elevated and out of browser on client machines.</p>
</li>
<li>
<h4 class="yellowBG">Server Driven Paging for your entity sets</h4>
<p>Don't pay for bandwidth if you don't have to.           <br /><a href="http://www.powerpivot.com/">PowerPivot</a> and <a href="http://silverlight.net/ODataExplorer">The OData Explorer</a> support navigating next links , so you arent losing any client capability by enabling paging.           <br />Reference: <a href="http://blogs.msdn.com/astoriateam/archive/2009/03/19/ado-net-data-services-v1-5-ctp1-server-driven-paging.aspx">Blog post on team blog</a> </p>
</li>
<li>
<h4 class="yellowBG">Web Friendly Feed annotations for prettier feeds </h4>
<p>Put a couple of Feed annotations and generic browsers will love your feeds.           <br />Every feed requires at least an <b>atom:title</b> and/or <b>atom:summary mapping</b> .           <br />Reference for Entity Framework backed Data Services : <a href="http://blogs.msdn.com/phaniraj/archive/2009/03/28/ado-net-data-services-friendly-feeds-mapping-edm-types-i.aspx">Mapping EDM Types</a>           <br />Reference for all other Data Services : <a href="http://blogs.msdn.com/phaniraj/archive/2009/03/21/ado-net-data-services-friendly-feeds-mapping-clr-types.aspx">Mapping CLR Types</a> </p>
</li>
<li>
<h4 class="yellowBG">Make your entity sets read-only.</h4>
<p>If it shouldn't be edited , then it shouldn't be editable.           <br />Use <a href="http://msdn.microsoft.com/en-us/library/system.data.services.entitysetrights.aspx">EntitySetRights.AllRead</a> in your <a href="http://msdn.microsoft.com/en-us/library/system.data.services.dataserviceconfiguration.aspx">DataServiceConfiguration.SetEntitySetRights</a> call</p>
</li>
</ol></div>

      </div>

      <a href="/a-checklist-for-odata-feed-publishers/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/building-sl3-applications-using-odata-client-library-with-vs-2010-rc/">Building SL3 applications using OData client Library with Vs 2010 RC</a></h1>

      <div class="entry">
        <p>So , here you are trying to build an awesome OData client application in SL3 using the V.S 2010 RC’s just as amazing Multi-targeting support for Silverlight applications.    <br />You’ve downloaded the SL3 CTP3 assembly from <a href="http://www.microsoft.com/downloads/details.aspx?FamilyID=a3de8c35-8974-4c51-858c-c5a4544c2fed&amp;displaylang=en">here</a> and unzipped the System.Data.Services.Client.dll file to a local folder c:\temp\SL3_CTP3_OData_Client ( your folder may vary ).</p>
<p>Using a V2 feature in the client library , after adding a reference to the client library from the local folder , results in a compilation error.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/BuildingSL3applicationsusingODataclientL_10828/CompilationFailure.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/BuildingSL3applicationsusingODataclientL_10828/CompilationFailure.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="CompilationFailure" border="0" alt="CompilationFailure" src="/assets/CompilationFailure_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/BuildingSL3applicationsusingODataclientL_10828/CompilationFailure_thumb.png" width="640" height="143" /></a><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/BuildingSL3applicationsusingODataclientL_10828/CompilationFailure_21.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/BuildingSL3applicationsusingODataclientL_10828/CompilationFailure_21.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="CompilationFailure_21" border="0" alt="CompilationFailure_21" src="/assets/CompilationFailure_21_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/BuildingSL3applicationsusingODataclientL_10828/CompilationFailure_21_thumb.png" width="1024" height="65" /></a> </p>
<p>Error : The type or namespace name 'DataServiceCollection' could not be found (are you missing a using directive or an assembly reference?)</p>
<p><strong><em>But , I added the reference manually and pointed it to the right Client library which should have these types declared&#160; in it . </em></strong></p>
<p>Well, it turns out that Visual Studio 2010 RC uses the client library from the SL3 SDK library anyway , even if you specified the path manually.</p>
<p><strong>To fix this </strong>, add the folder which contains the SL3 CTP3 client library to the “Reference Paths” of the application , as shown here :</p>
<p>1. Right click the project in Visual Studio and select “Properties”</p>
<p>2. Click the “Reference Paths” tab in the property tabs.</p>
<p>3. Add the folder containing the SL3 CTP3 client library as shown below. </p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/BuildingSL3applicationsusingODataclientL_10828/Add_TO_Reference_Paths_1.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/BuildingSL3applicationsusingODataclientL_10828/Add_TO_Reference_Paths_1.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="Add_TO_Reference_Paths" border="0" alt="Add_TO_Reference_Paths" src="/assets/Add_TO_Reference_Paths_thumb_1.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/BuildingSL3applicationsusingODataclientL_10828/Add_TO_Reference_Paths_thumb_1.png" width="640" height="279" /></a> </p>
<p>Once you add the reference path to the folder containing the SL3 CTP3 library , you should stop seeing the compilation failures ,    <br />and you should be able to access the SL3 CTP3 features such as the DataServiceCollection type and the LoadAsync methods</p>
<p>Special thanks to <a href="http://blog.pather.net/">Shyam</a> who first ran into this and helped figure out how to fix this .</p>

      </div>

      <a href="/building-sl3-applications-using-odata-client-library-with-vs-2010-rc/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/issues-building-the-odata-explorer-sources/">Issues building the OData Explorer sources</a></h1>

      <div class="entry">
        <p>When we put out the sources for the OData Explorer on the OData.org site , we broke something in the sources which prevent them from building on your machine. <br />We will be updating&nbsp; the&nbsp; sources on the OData SDK link quickly once the work week begins . <br />In the meantime , here are the four issues that need to be fixed for the sources to build on your machine</p>
<p><strong>Issue&nbsp; #1 : The dependency on the Silverlight toolkit is not present in the readme.htm file.</strong></p>
<p>Solution : We will be updating the htm file to reflect this change , in the meantime You can download the <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; November release of the Silverlight toolkit <a href="http://silverlight.codeplex.com/releases/view/36060#DownloadId=93513" mce_href="http://silverlight.codeplex.com/releases/view/36060#DownloadId=93513">here</a>. </p>
<p><strong>Issue #2 : The OData Explorer project will not build because of an error during compilation : <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Specifically, the error is : “The name 'ErrorTextBox' does not exist in the current context” in&nbsp; the ErrorWindow.xaml.cs&nbsp;&nbsp; file. </strong></p>
<p>Solution :&nbsp;&nbsp; In the ErrorWindow.xaml page , change the name of the textbox “txtUserMessage” to “ErrorTextBox” and rebuild.</p>
<p><strong>Issue #3 : Xap packaging will fail when building the ODataExplorer project <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; “Error&nbsp;&nbsp;&nbsp; 6&nbsp;&nbsp;&nbsp; Xap packaging failed. Could not find file 'ReadMe.txt' “</strong></p>
<p>Solution : When packaging the explorer sources we moved the readme to the root of the source tree and didnt update the item reference in the project. <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Remove the reference to the Readme.txt file by right-clicking the “readme.txt”&nbsp; icon in the ODataExplorer project&nbsp; and selecting “Exclude From Project”</p>
<p><strong>Issue #4 : The ODataExplorer Project will not build because of an error in the web.config file. <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; “Unexpected XML declaration. The XML declaration must be the first node in the document and no white space characters are allowed to appear before it. “</strong></p>
<p>Solution : For now , Delete the “web.config” file from the ODataExplorerHost project .</p>
<p>Again ,I would like to apologize to anyone who ran into these issues and spent time trying to figure out what went wrong with the sources.</p>
<p>Special thanks to <a href="http://www.bizcoder.com/" mce_href="http://www.bizcoder.com/">Darrel Miller</a> on <a href="https://twitter.com/DarrelMiller" mce_href="https://twitter.com/DarrelMiller">twitter</a> for working through some of these issues and giving us frank feedback. </p>
<p>We will make sure that the sources on the project are updated as soon as possible and I will update this blog post to reflect the same. </p>

      </div>

      <a href="/issues-building-the-odata-explorer-sources/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/developing-a-windows-phone-7-application-that-consumes-odata/">Developing a Windows Phone 7 Application that consumes OData</a></h1>

      <div class="entry">
        <p><a href="http://cid-925c2d2bb2d03c6b.office.live.com/self.aspx/Public/ODataOnWinPhoneSample%5E_July2010Beta.zip?sa=480820212">Click here to download the source for this application</a></p>
<p>System Requirements :</p>
<p>1. <a href="http://developer.windowsphone.com/windows-phone-7-series/">Windows Phone 7 Developer tools</a></p>
<p>2. <a href="http://www.microsoft.com/downloads/details.aspx?FamilyID=b251b247-70ca-4887-bab6-dccdec192f8d&amp;displaylang=en">The OData client library for Windows Phone 7.</a></p>
<p>We start by running Visual Studio 2010 Express For Windows Phone which is installed as part of Windows Phone 7 Developer tools.</p>
<p>Step Zero is to generate the client types for the netflix Odata Service using the DataSvcUtil.exe tool. <br />In the Mix RC release the &ldquo;Add Service Reference&rdquo; window is broken and will not generate proxy classes in a windows phone application. </p>
<p>Here is how you generate the client proxy types for the netflix Odata Service </p>
<p>Open a command prompt as administrator and navigate to %windir%\Microsoft.NET\Framework\v4.0.30128</p>
<p>Run this command :</p>
<p>DataSvcutil.exe /uri:<a href="http://odata.netflix.com/Catalog/" title="http://odata.netflix.com/Catalog/">http://odata.netflix.com/Catalog/</a> /DataServiceCollection /Version:2.0 /out:netflixClientTypes.cs</p>
<p>Copy the generated netflixClientTypes.cs file into the application you create in the next step.</p>
<p>Step one is to create a Windows Phone List Application and then customizing the ListViewItem template to show details about the catalog title. Here is the relevant XAML.</p>
<pre class="code"><span style="COLOR: blue">&lt;</span><span style="COLOR: #a31515">mpc</span><span style="COLOR: blue">:</span><span style="COLOR: #a31515">ListViewItem
       </span><span style="COLOR: red">ImageSource</span><span style="COLOR: blue">="{</span><span style="COLOR: #a31515">Binding </span><span style="COLOR: red">BoxArt</span><span style="COLOR: blue">.MediumUrl}"<br />       </span><span style="COLOR: red">Text</span><span style="COLOR: blue">="{</span><span style="COLOR: #a31515">Binding </span><span style="COLOR: red">Title</span><span style="COLOR: blue">.Regular}" </span><span style="COLOR: red">Layout</span><span style="COLOR: blue">="TextAndDetailsWithIcon" <br />       </span><span style="COLOR: red">Details</span><span style="COLOR: blue">="{</span><span style="COLOR: #a31515">Binding </span><span style="COLOR: red">Synopsis</span><span style="COLOR: blue">}" </span><span style="COLOR: red">Style</span><span style="COLOR: blue">="{</span><span style="COLOR: #a31515">StaticResource </span><span style="COLOR: red">PhoneListBoxItemLayout</span><span style="COLOR: blue">}"/&gt;</span></pre>
<p><a href="http://11011.net/software/vspaste"></a></p>
<table>
<tbody>
<tr>
<td>#1 . Application Start Screen</td>
<td>#2. Popup to filter results</td>
<td>#3. Details Screen for selected Movie</td>
</tr>
<tr>
<td><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/DevelopingaWIndowsPhone7APplicationthatc_13CFA/ApplicationStart.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/DevelopingaWIndowsPhone7APplicationthatc_13CFA/ApplicationStart.png"><img height="484" width="247" src="/assets/ApplicationStart_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/DevelopingaWIndowsPhone7APplicationthatc_13CFA/ApplicationStart_thumb.png" alt="ApplicationStart" border="0" title="ApplicationStart" style="BORDER-RIGHT-WIDTH: 0px; DISPLAY: inline; BORDER-TOP-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px" /></a></td>
<td><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/DevelopingaWIndowsPhone7APplicationthatc_13CFA/filterByAvailability.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/DevelopingaWIndowsPhone7APplicationthatc_13CFA/filterByAvailability.png"><img height="484" width="257" src="/assets/filterByAvailability_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/DevelopingaWIndowsPhone7APplicationthatc_13CFA/filterByAvailability_thumb.png" alt="filterByAvailability" border="0" title="filterByAvailability" style="BORDER-RIGHT-WIDTH: 0px; DISPLAY: inline; BORDER-TOP-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px" /></a> </td>
<td><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/DevelopingaWIndowsPhone7APplicationthatc_13CFA/DetailsView.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/DevelopingaWIndowsPhone7APplicationthatc_13CFA/DetailsView.png"><img height="484" width="255" src="/assets/DetailsView_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/DevelopingaWIndowsPhone7APplicationthatc_13CFA/DetailsView_thumb.png" alt="DetailsView" border="0" title="DetailsView" style="BORDER-RIGHT-WIDTH: 0px; DISPLAY: inline; BORDER-TOP-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px" /></a></td>
</tr>
</tbody>
</table>
<p>When the Home Page ( Screen #1) above loads , we use the netFlixViewModel to query for the first 4 titles in the CatalogTitles set :</p>
<blockquote>
<pre class="code"><span style="COLOR: blue">public </span>MainPage()
{
   InitializeComponent();

   SupportedOrientations = <span style="COLOR: #2b91af">SupportedPageOrientation</span>.Portrait;
   Loaded += <span style="COLOR: blue">new </span><span style="COLOR: #2b91af">RoutedEventHandler</span>(MainPage_Loaded);
   PageTransitionList.Completed += <span style="COLOR: blue">new </span><span style="COLOR: #2b91af">EventHandler</span>(PageTransitionList_Completed);

   netflixViewModel = <span style="COLOR: blue">this</span>.Resources[<span style="COLOR: #a31515">"netflixViewModel"</span>] <span style="COLOR: blue">as </span><span style="COLOR: #2b91af">NetflixViewModel</span>;
   netflixViewModel.CatalogsLoaded += <span style="COLOR: blue">new </span><span style="COLOR: #2b91af">EventHandler</span>&lt;<span style="COLOR: #2b91af">CatalogTitleLoadingEventArgs</span>&gt;(netflixViewModel_CatalogsLoaded);
   netflixViewModel.GetCatalogTitles(4);
}</pre>
<p><a href="http://11011.net/software/vspaste"></a></p></blockquote>
<p><a href="http://11011.net/software/vspaste"></a></p>
<p>When the button &ldquo;Filter By Availability&rdquo; is clicked , we open a popup and pass in a filter criteria which is bound to the checkboxes shown above.</p>
<pre class="code"><span style="COLOR: blue">private void </span>FilterByAvailability(<span style="COLOR: blue">object </span>sender, <span style="COLOR: #2b91af">RoutedEventArgs </span>e)
   {
            <span style="COLOR: #2b91af">DeliveryFormatAvailabilityFilter </span>filterData = <span style="COLOR: blue">new </span><span style="COLOR: #2b91af">DeliveryFormatAvailabilityFilter</span>();
            <span style="COLOR: #2b91af">FilterMoviesByGenre </span>filterWindow = <span style="COLOR: blue">new </span><span style="COLOR: #2b91af">FilterMoviesByGenre</span>();
            filterWindow.DataContext = filterData;
            filterWindow.Show();
            filterWindow.Closed += <span style="COLOR: blue">new </span><span style="COLOR: #2b91af">EventHandler</span>(filterWindow_Closed);
   }</pre>
<p><a href="http://11011.net/software/vspaste"></a></p>
<p>When the user makes his/her selections and closes the dialog box above, we call another method on the viewmodel called GetCatalogTitlesByAvailability. The code looks like this : </p>
<pre class="code"><span style="COLOR: blue">void </span>filterWindow_Closed(<span style="COLOR: blue">object </span>sender, <span style="COLOR: #2b91af">EventArgs </span>e)
   {
            <span style="COLOR: #2b91af">FilterMoviesByGenre </span>filterWindow = sender <span style="COLOR: blue">as </span><span style="COLOR: #2b91af">FilterMoviesByGenre</span>;
            <span style="COLOR: blue">if </span>(filterWindow.DialogResult.HasValue &amp;&amp; filterWindow.DialogResult.Value)
            {
                <span style="COLOR: #2b91af">DeliveryFormatAvailabilityFilter </span>filterData = filterWindow.DataContext <span style="COLOR: blue">as </span><span style="COLOR: #2b91af">DeliveryFormatAvailabilityFilter</span>;
                Dispatcher.BeginInvoke(
                    () =&gt;
                    {
                        progressWindow = <span style="COLOR: blue">new </span><span style="COLOR: #2b91af">Progress</span>();
                        progressWindow.textBlock2.Text = <span style="COLOR: #a31515">"Loading Movies"</span>;
                        progressWindow.Show();
                        netflixViewModel.GetCatalogTitlesByAvailability(filterData);
                    }
                    );
            }
   }</pre>
<p><a href="http://11011.net/software/vspaste"></a></p>
<p>When an item in the list is selected in the application&rsquo;s main screen , a hard-coded page transition animation kicks off and when it ends , the application navigates to the DetailsPage.xaml and sets up the Data Context to be the selected CatalogTitle instance.</p>
<pre class="code"><span style="COLOR: blue">private void </span>PageTransitionList_Completed(<span style="COLOR: blue">object </span>sender, <span style="COLOR: #2b91af">EventArgs </span>e)
{
    <span style="COLOR: green">// Set datacontext of details page to selected listbox item
    </span>NavigationService.Navigate(<span style="COLOR: blue">new </span><span style="COLOR: #2b91af">Uri</span>(<span style="COLOR: #a31515">"/DetailsPage.xaml"</span>, <span style="COLOR: #2b91af">UriKind</span>.Relative));
    <span style="COLOR: #2b91af">FrameworkElement </span>root = <span style="COLOR: #2b91af">Application</span>.Current.RootVisual <span style="COLOR: blue">as </span><span style="COLOR: #2b91af">FrameworkElement</span>;
    root.DataContext = _selectedItem;
}</pre>
<p>In the DetailsPage.Xaml page , we just setup the bindings to display the title and the movie&rsquo;s large image . You can customize this to do something fancier.</p>
<pre class="code"><span style="COLOR: blue">&lt;</span><span style="COLOR: #a31515">TextBlock </span><span style="COLOR: red">Text</span><span style="COLOR: blue">="{</span><span style="COLOR: #a31515">Binding </span><span style="COLOR: red">Title</span><span style="COLOR: blue">.Regular}" </span><span style="COLOR: red">Style</span><span style="COLOR: blue">="{</span><span style="COLOR: #a31515">StaticResource </span><span style="COLOR: red">PhoneTextPageTitle2Style</span><span style="COLOR: blue">}" </span><span style="COLOR: red">TextWrapping</span><span style="COLOR: blue">="Wrap"/&gt;
        &lt;/</span><span style="COLOR: #a31515">Grid</span><span style="COLOR: blue">&gt;

</span><span style="COLOR: green">&lt;!--ContentGrid contains the details--&gt;
        </span><span style="COLOR: blue">&lt;</span><span style="COLOR: #a31515">ScrollViewer </span><span style="COLOR: red">Grid.Row</span><span style="COLOR: blue">="1"&gt;
            &lt;</span><span style="COLOR: #a31515">Grid </span><span style="COLOR: red">x</span><span style="COLOR: blue">:</span><span style="COLOR: red">Name</span><span style="COLOR: blue">="ContentGrid" &gt;
                &lt;</span><span style="COLOR: #a31515">Grid.Projection</span><span style="COLOR: blue">&gt;
                    &lt;</span><span style="COLOR: #a31515">PlaneProjection</span><span style="COLOR: blue">/&gt;
                &lt;/</span><span style="COLOR: #a31515">Grid.Projection</span><span style="COLOR: blue">&gt;
                &lt;</span><span style="COLOR: #a31515">Grid.RowDefinitions</span><span style="COLOR: blue">&gt;
                    &lt;</span><span style="COLOR: #a31515">RowDefinition </span><span style="COLOR: red">Height</span><span style="COLOR: blue">="Auto"/&gt;
                &lt;/</span><span style="COLOR: #a31515">Grid.RowDefinitions</span><span style="COLOR: blue">&gt;
                &lt;</span><span style="COLOR: #a31515">Image </span><span style="COLOR: red">Source</span><span style="COLOR: blue">="{</span><span style="COLOR: #a31515">Binding </span><span style="COLOR: red">BoxArt</span><span style="COLOR: blue">.LargeUrl}" </span><span style="COLOR: red">Grid.Row</span><span style="COLOR: blue">="0" /&gt;
            &lt;/</span><span style="COLOR: #a31515">Grid</span><span style="COLOR: blue">&gt;
        &lt;/</span><span style="COLOR: #a31515">ScrollViewer</span><span style="COLOR: blue">&gt;
</span></pre>
<p>And , you are done ! Isn&rsquo;t this the best&nbsp; thing ever ? We are always looking for feedback about how to make this experience easier. Give us your feedback either via commenting on this post or sending me an email at PhaniRaj At Microsoft DOt Com.</p>

      </div>

      <a href="/developing-a-windows-phone-7-application-that-consumes-odata/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/announcing-the-odata-explorer/">Announcing the OData Explorer</a></h1>

      <div class="entry">
        <h3>What is the OData Explorer ? </h3>
<p>As the name suggests, its a Silverlight application that can be installed in-browser and out of browser , and allows    <br />you to perform ad-hoc and guided queries across a given OData Service.     </p>
<h3>Where can I get the sources for the OData Explorer ? </h3>
<p>In the “OData SDK - Sample Code” section of <a title="http://www.odata.org/developers/odata-sdk" href="http://www.odata.org/developers/odata-sdk">http://www.odata.org/developers/odata-sdk</a></p>
<h3>The Service I am browsing to doesn’t have a ClientAccessPolicy.xml or CrossDomain.xml file , Can I use the ODataExplorer against it ? </h3>
<p>Yes, install the application out of browser by clicking the “Install” button and you will not need to have the CAP.xml or CrossDomain.xml file on the server-side to allow querying the OData Service.</p>
<p>Depending on whether you have a previous version of Silverlight installed, browsing to <a href="http://Silverlight.net/ODataExplorer">http://Silverlight.net/ODataExplorer</a> will have one of the following effects :</p>
<p>a) If you have an older version of SL is installed, it will prompt you to upgrade to the required version of Silverlight and clicking on it will take you to the window shown below.</p>
<p>b) If you don’t have any version of Silverlight installed, you will see this icon :</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/a2ec37581682_14CD0/Install_SL_NotInstalled.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a2ec37581682_14CD0/Install_SL_NotInstalled.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="Install_SL_NotInstalled" border="0" alt="Install_SL_NotInstalled" src="/assets/Install_SL_NotInstalled_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a2ec37581682_14CD0/Install_SL_NotInstalled_thumb.png" width="240" height="126" /></a> </p>
<p>Clicking the “Upgrade” or “Install” button will take you to this screen.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/a2ec37581682_14CD0/Install_SL4.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a2ec37581682_14CD0/Install_SL4.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="Install_SL4" border="0" alt="Install_SL4" src="/assets/Install_SL4_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a2ec37581682_14CD0/Install_SL4_thumb.png" width="640" height="172" /></a> </p>
<p>Now , don’t panic, since this is a Developer-only release of Silverlight 4 , you will need to install the developer runtime.</p>
<p>Click&#160; the link highlighted in the picture about , and you will be taken to this page : <a title="http://silverlight.net/getstarted/silverlight-4/" href="http://silverlight.net/getstarted/silverlight-4/">http://silverlight.net/getstarted/silverlight-4/</a></p>
<p>In this page , select the “<a title="Windows Runtime" href="http://go.microsoft.com/fwlink/?LinkID=167220">Windows Runtime</a>” link under the “Get the Tools” section.</p>
<p>For brevity , here is <a href="http://go.microsoft.com/fwlink/?LinkID=167220">the download link for the SL4 runtime</a>.</p>
<p>Let’s look at an example of browsing to an OData Service using the explorer.</p>
<h2>Browsing the Netflix OData Service using the explorer</h2>
<p>1. Navigate to <a title="http://silverlight.net/ODataExplorer" href="http://silverlight.net/ODataExplorer">http://silverlight.net/ODataExplorer</a></p>
<p>2. In the prompt that turns up , enter details for the Netflix service as shown below </p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/a2ec37581682_14CD0/Enter_netflix_DataService.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a2ec37581682_14CD0/Enter_netflix_DataService.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="Enter_netflix_DataService" border="0" alt="Enter_netflix_DataService" src="/assets/Enter_netflix_DataService_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a2ec37581682_14CD0/Enter_netflix_DataService_thumb.png" width="392" height="233" /></a></p>
<p>Clicking “Ok” in the above dialog box will download the metadata and the service document for the    <br />netflix Data Service and show the Collections available in the Service document.     </p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/a2ec37581682_14CD0/netflix_DataService_ReadyToUse.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a2ec37581682_14CD0/netflix_DataService_ReadyToUse.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="netflix_DataService_ReadyToUse" border="0" alt="netflix_DataService_ReadyToUse" src="/assets/netflix_DataService_ReadyToUse_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a2ec37581682_14CD0/netflix_DataService_ReadyToUse_thumb.png" width="387" height="284" /></a></p>
<p>Selecting the name of a collection is going to cause the Explorer to hit the Collection root    <br />and download the OData feed for that collection.     <br />For example , selecting the CatalogTitles collection gives us this :&#160; <br /><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/a2ec37581682_14CD0/CatalogTitlesSet_Downloaded_1.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a2ec37581682_14CD0/CatalogTitlesSet_Downloaded_1.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="CatalogTitlesSet_Downloaded" border="0" alt="CatalogTitlesSet_Downloaded" src="/assets/CatalogTitlesSet_Downloaded_thumb_1.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a2ec37581682_14CD0/CatalogTitlesSet_Downloaded_thumb_1.png" width="640" height="372" /></a> </p>
<p>The navigation properties which are Links in the Data grid should allow you to drill further into the set.</p>
<p>Clicking on the “Raw” tab is going to show you details about the request and the raw view of the data.</p>
<p>You can change the content-type&#160; to be JSON and see the response in JSON format.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/a2ec37581682_14CD0/rawView.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a2ec37581682_14CD0/rawView.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="rawView" border="0" alt="rawView" src="/assets/rawView_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a2ec37581682_14CD0/rawView_thumb.png" width="640" height="468" /></a>     </p>
<p>I’ll be doing more blog posts about using the Explorer and look forward to your comments/feedback.    <br />I’d be happy to answer any questions about the tech behind this tool and how you can use the     <br />metadata parser library which we use in this tool to discover entity sets and other associated metadata.</p>

      </div>

      <a href="/announcing-the-odata-explorer/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/the-astoria-team-is-hiring/">THe Astoria Team Is hiring !!!</a></h1>

      <div class="entry">
        <p>Yep , we now have open positions for a few testers who get to work on the next generation of Data Protocols.    <br />Some advantages of working on the team : </p>
<p>1. You get to work with <a href="http://blogs.msdn.com/Pablo">Pablo Castro</a> </p>
<p>2. We have annual ski events which are always fun </p>
<p>3. The team is filled with some of the smartest people you’ll come to know </p>
<p>4.&#160; You get to own and deliver key components of the Astoria runtime while learning a lot about data and REST</p>
<p><strong>How do I apply ?</strong></p>
<p>Send an email to <a href="mailto:PhaniRaj@Microsoft.com">PhaniRaj@Microsoft.com</a> with your resume and “Astoria/EF Team Referal&quot; :&lt;YourNameHere&gt;” in the subject.</p>
<p>&#160;&#160; ( or )</p>
<p>Apply via the Job site and put in my alias “PhaniRaj” as the referal .</p>
<p><strong>The job descriptions : </strong></p>
<p>Open positions on the Astoria Team:</p>
<p><a title="https://careers.microsoft.com/JobDetails.aspx?ss=&amp;pg=0&amp;so=&amp;rw=1&amp;jid=11878&amp;jlang=EN" href="https://careers.microsoft.com/JobDetails.aspx?ss=&amp;pg=0&amp;so=&amp;rw=1&amp;jid=11878&amp;jlang=EN">https://careers.microsoft.com/JobDetails.aspx?ss=&amp;pg=0&amp;so=&amp;rw=1&amp;jid=11878&amp;jlang=EN</a></p>
<p>Open positions on the EF Team :</p>
<p><a title="https://careers.microsoft.com/JobDetails.aspx?ss=&amp;pg=0&amp;so=&amp;rw=1&amp;jid=11877&amp;jlang=EN" href="https://careers.microsoft.com/JobDetails.aspx?ss=&amp;pg=0&amp;so=&amp;rw=1&amp;jid=11877&amp;jlang=EN">https://careers.microsoft.com/JobDetails.aspx?ss=&amp;pg=0&amp;so=&amp;rw=1&amp;jid=11877&amp;jlang=EN</a></p>

      </div>

      <a href="/the-astoria-team-is-hiring/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/ado-net-data-services-efficient-error-handling-across-application-tiers/">ADO.NET Data Services : Efficient Error Handling across Application Tiers</a></h1>

      <div class="entry">
        <p>While developing an application that spans multiple tiers , it is important that you be able to flow error information through the tiers without losing    <br />any context or details in the tiers. With ADO.NET Data Services , we have an error contract which guarantees that all errors thrown from the Data Service ,     <br />wrapped inside a <a href="http://msdn.microsoft.com/en-us/library/system.data.services.dataserviceexception.aspx">DataServiceException</a> , will be represented in a standard way on the wire when we send the error down to the client.     </p>
<p>For example , consider the Query Interceptor shown below . </p>
<pre class="csharpcode">[QueryInterceptor(<span class="str">&quot;Customers&quot;</span>)]
<span class="kwrd">public</span> Expression&lt;Func&lt;Customers, <span class="kwrd">bool</span>&gt;&gt; OnQueryCustomers()
{
        <span class="kwrd">string</span> loggedInUser = HttpContext.Current.User.Identity.Name;
        <span class="kwrd">if</span> (UserHasAccessToSet(<span class="str">&quot;Customers&quot;</span>, loggedInUser))
        {
            <span class="rem">//Filter Expression goes here</span>
            <span class="kwrd">return</span> entity =&gt; <span class="kwrd">true</span>;
        }
        <span class="kwrd">else</span> <span class="rem">//User does not have access to '/Customers' , throw AccessViolationException</span>
        {
            <span class="kwrd">throw</span> <span class="kwrd">new</span> DataServiceException(403,
                <span class="str">&quot;Forbidden&quot;</span>,
                String.Format(<span class="str">&quot;User '{0}' cannot request data from '{1}' table&quot;</span>, loggedInUser, <span class="str">&quot;Customers&quot;</span>),
                <span class="str">&quot;en-US&quot;</span>);
        }
}</pre>
<style type="text/css">
<p>.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }</style>
<style type="text/css">
<p>.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }</style>
<p>When the Astoria server runtime throws the above exception , the 403 value specified above&#160; gets turned into the response status code of the request<br />
  <br />which caused this exception.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/Ado.netDataServicesEfficientErrorHandlin_A066/StatusCodeInFiddler_1.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/Ado.netDataServicesEfficientErrorHandlin_A066/StatusCodeInFiddler_1.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="StatusCodeInFiddler" border="0" alt="StatusCodeInFiddler" src="/assets/StatusCodeInFiddler_thumb_1.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/Ado.netDataServicesEfficientErrorHandlin_A066/StatusCodeInFiddler_thumb_1.png" width="402" height="79" /></a>&#160; </p>
<p>and the error message is serialized out to be in this format : </p>
<pre class="csharpcode"><span class="kwrd">&lt;?</span><span class="html">xml</span> <span class="attr">version</span><span class="kwrd">=&quot;1.0&quot;</span> <span class="attr">encoding</span><span class="kwrd">=&quot;utf-8&quot;</span> <span class="attr">standalone</span><span class="kwrd">=&quot;yes&quot;</span> ?<span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">error</span> <span class="attr">xmlns</span><span class="kwrd">=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/metadata&quot;</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">code</span><span class="kwrd">&gt;</span>Forbidden<span class="kwrd">&lt;/</span><span class="html">code</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">message</span> <span class="attr">xml:lang</span><span class="kwrd">=&quot;en-US&quot;</span><span class="kwrd">&gt;</span>User 'NoPermissions' cannot request data from 'Customers' table<span class="kwrd">&lt;/</span><span class="html">message</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">error</span><span class="kwrd">&gt;</span></pre>
<p>At this point , the service has not lost any information that the service author intended to convey to a service consumer.</p>
<p>Now , lets consider the client library and how it handles this case.</p>
<p>Lets consider a query for the “Customers” set to which the currently logged-in user doesn't have permissions.</p>
<pre class="csharpcode"><span class="kwrd">foreach</span> (Customers customerEntity <span class="kwrd">in</span> northwindContext.CreateQuery&lt;Customers&gt;(<span class="str">&quot;Customers&quot;</span>) ) {
 <span class="rem">//Do something with the customerEntity here</span>
}</pre>
<p>In this case, running the above code&#160; would result in a DataServiceQueryException being thrown.</p>
<pre class="csharpcode">System.Data.Services.Client.DataServiceQueryException:
  An error occurred while processing this request. ---<span class="kwrd">&gt;</span>        <br />     System.Data.Services.Client.DataServiceClientException:
      <span class="kwrd">&lt;?</span><span class="html">xml</span> <span class="attr">version</span><span class="kwrd">=&quot;1.0&quot;</span> <span class="attr">encoding</span><span class="kwrd">=&quot;utf-8&quot;</span> <span class="attr">standalone</span><span class="kwrd">=&quot;yes&quot;</span>?<span class="kwrd">&gt;</span>
<span class="kwrd">        &lt;</span><span class="html">error</span> <span class="attr">xmlns</span><span class="kwrd">=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/metadata&quot;</span><span class="kwrd">&gt;</span>
         <span class="kwrd">&lt;</span><span class="html">code</span><span class="kwrd">&gt;</span>Forbidden<span class="kwrd">&lt;/</span><span class="html">code</span><span class="kwrd">&gt;</span>
         <span class="kwrd">&lt;</span><span class="html">message</span> <span class="attr">xml:lang</span><span class="kwrd">=&quot;en-US&quot;</span><span class="kwrd">&gt;</span>User 'NoPermissions' cannot request data from 'Customers' table<span class="kwrd">&lt;/</span><span class="html">message</span><span class="kwrd">&gt;</span>
<span class="kwrd">      &lt;/</span><span class="html">error</span><span class="kwrd">&gt;</span></pre>
<p>Note that the DataServiceException thrown by the server is now set to the Message property of the InnerException of the DataServiceQueryException.<br />
  <br />We do not de-serialize the DataServiceException into an exception type on the client side.</p>
<p>By default , since the exception is now a string on the client side , you don’t have direct&#160; access to the information contained inside the Exception.</p>
<p>The information is all still there , just not easily accessible anymore. Since the error contract is <a href="http://msdn.microsoft.com/en-us/library/dd541497(PROT.10).aspx">documented</a> and follows a standard pattern ,</p>
<p>we can easily write a visitor that de-serializes an exception object from the “Message” property&#160; of the Inner Exception.</p>
<p>One such de-serializer for Error contracts is shown at the bottom of this post<br />
  <br />It contains two methods :</p>
<p></p>
<ol>
<li>TryParse : which takes in an exception caused during Querying or updating via the client library and<br />
    <br />returns a DataServiceException that was thrown by the Server </li>
<li>Throw : which takes in an exception caused during Querying or updating via the client library and<br />
    <br />re-throws the DataServiceException that was thrown by the Server </li>
</ol>
<p>
  <br /><script src="http://gist.github.com/227246.js"></script></p>

      </div>

      <a href="/ado-net-data-services-efficient-error-handling-across-application-tiers/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/please-welcome-the-java-client-for-ado-net-data-services/">Please welcome the JAVA Client for ADO.NET Data Services</a></h1>

      <div class="entry">
        <p><a href="http://blogs.msdn.com/interoperability/archive/2009/09/28/new-bridge-broadens-java-and-net-interoperability.aspx" mce_href="http://blogs.msdn.com/interoperability/archive/2009/09/28/new-bridge-broadens-java-and-net-interoperability.aspx">The new Java client</a> joins a growing family of clients for ADO.NET Data Services, which include:</p>
<p><a href="http://aspnet.codeplex.com/Wiki/View.aspx?title=AJAX" mce_href="http://aspnet.codeplex.com/Wiki/View.aspx?title=AJAX">Ajax</a> , <a href="http://msdn.microsoft.com/en-us/magazine/cc794279.aspx" mce_href="http://msdn.microsoft.com/en-us/magazine/cc794279.aspx">Silverlight</a> , <a href="http://msdn.microsoft.com/en-us/library/system.data.services.client.aspx" mce_href="http://msdn.microsoft.com/en-us/library/system.data.services.client.aspx">.Net FX</a> ,<a href="http://aspnet.codeplex.com/Wiki/View.aspx?title=Dynamic%20Data" mce_href="http://aspnet.codeplex.com/Wiki/View.aspx?title=Dynamic%20Data">Dynamic Data</a>, <a href="http://blogs.msdn.com/interoperability/archive/2009/08/21/a-new-bridge-for-php-developers-to-net-through-rest-php-toolkit-for-ado-net-data-services.aspx" mce_href="http://blogs.msdn.com/interoperability/archive/2009/08/21/a-new-bridge-for-php-developers-to-net-through-rest-php-toolkit-for-ado-net-data-services.aspx">PHP</a> .</p>
<p>Here’s some documentation about the Java client <a title="http://wiki.restlet.org/docs_2.0/13-restlet/28-restlet/287-restlet.html" href="http://wiki.restlet.org/docs_2.0/13-restlet/28-restlet/287-restlet.html" mce_href="http://wiki.restlet.org/docs_2.0/13-restlet/28-restlet/287-restlet.html">http://wiki.restlet.org/docs_2.0/13-restlet/28-restlet/287-restlet.html</a>.</p>

      </div>

      <a href="/please-welcome-the-java-client-for-ado-net-data-services/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/using-the-ado-net-data-services-silverlight-client-library-in-x-domain-and-out-of-browser-scenarios-ii-forms-authentication/">Using the ADO.NET Data Services Silverlight client library in x-domain and out of browser scenarios – II (Forms Authentication)</a></h1>

      <div class="entry">
        <p><strong><em><a href="http://blogs.msdn.com/phaniraj/attachment/9893382.ashx" mce_href="http://blogs.msdn.com/phaniraj/attachment/9893382.ashx">Click here to download sample application</a></em></strong>&nbsp;</p>
<p>Using the ADO.NET Data Services Silverlight client library in x-domain and out of browser scenarios – II (Forms Authentication) <br />In this blog post, we will talk about using the Silverlight Client Library against a Data Service that is secured with Asp.Net Forms Authentication <br />In short, the whole process of authenticating against a Forms Authentication protected Data Service looks like this. <br /><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/Usi.NETDataServicesSilverlightclientlibr_9C79/image_8.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/Usi.NETDataServicesSilverlightclientlibr_9C79/image_8.png" mce_href="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/Usi.NETDataServicesSilverlightclientlibr_9C79/image_8.png"><img style="BORDER-RIGHT-WIDTH: 0px; DISPLAY: inline; BORDER-TOP-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px" title="image" border="0" alt="image" src="/assets/image_thumb_3.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/Usi.NETDataServicesSilverlightclientlibr_9C79/image_thumb_3.png" width="729" height="303" mce_src="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/Usi.NETDataServicesSilverlightclientlibr_9C79/image_thumb_3.png" /></a> </p>
<h3>Server Setup </h3>
<ol>
<li>Setup Forms Authentication on the Data Service Server </li>
<li>Enable the WCF Authentication Service by following the reference here : <a href="http://msdn.microsoft.com/en-us/library/bb398990.aspx" mce_href="http://msdn.microsoft.com/en-us/library/bb398990.aspx">How to: Enable the WCF Authentication Service</a> </li>
<li>Exclude the following resources from requiring authentication , </li>
</ol>
<blockquote>
<p>3.1 The WCF Authentication Service <br />3.2 The ClientAccessPolicy.xml File <br />Ex:</p>
</blockquote>
<pre class="csharpcode"><span class="rem">&lt;!-- The ClientAccessPolicy.xml file is required for the client to confirm if the server allows X-Domain callers.</span>
<span class="rem">       This should be downloadable without authenticating--&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">location</span> <span class="attr">path</span><span class="kwrd">="clientaccesspolicy.xml"</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">system.web</span><span class="kwrd">&gt;</span>
      <span class="kwrd">&lt;</span><span class="html">authorization</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">allow</span> <span class="attr">users</span><span class="kwrd">="*"</span> <span class="kwrd">/&gt;</span>
      <span class="kwrd">&lt;/</span><span class="html">authorization</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;/</span><span class="html">system.web</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">location</span><span class="kwrd">&gt;</span>
 <span class="rem">&lt;!--This should be downloadable without authenticating.--&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">location</span> <span class="attr">path</span><span class="kwrd">="AuthenticationService.svc"</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">system.web</span><span class="kwrd">&gt;</span>
      <span class="kwrd">&lt;</span><span class="html">authorization</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">allow</span> <span class="attr">users</span><span class="kwrd">="*"</span> <span class="kwrd">/&gt;</span>
      <span class="kwrd">&lt;/</span><span class="html">authorization</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;/</span><span class="html">system.web</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">location</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode {<br />
	BACKGROUND-COLOR: #ffffff; FONT-FAMILY: consolas, "Courier New", courier, monospace; COLOR: black; FONT-SIZE: small<br />
}<br />
.csharpcode PRE {<br />
	BACKGROUND-COLOR: #ffffff; FONT-FAMILY: consolas, "Courier New", courier, monospace; COLOR: black; FONT-SIZE: small<br />
}<br />
.csharpcode PRE {<br />
	MARGIN: 0em<br />
}<br />
.csharpcode .rem {<br />
	COLOR: #008000<br />
}<br />
.csharpcode .kwrd {<br />
	COLOR: #0000ff<br />
}<br />
.csharpcode .str {<br />
	COLOR: #006080<br />
}<br />
.csharpcode .op {<br />
	COLOR: #0000c0<br />
}<br />
.csharpcode .preproc {<br />
	COLOR: #cc6633<br />
}<br />
.csharpcode .asp {<br />
	BACKGROUND-COLOR: #ffff00<br />
}<br />
.csharpcode .html {<br />
	COLOR: #800000<br />
}<br />
.csharpcode .attr {<br />
	COLOR: #ff0000<br />
}<br />
.csharpcode .alt {<br />
	BACKGROUND-COLOR: #f4f4f4; MARGIN: 0em; WIDTH: 100%<br />
}<br />
.csharpcode .lnum {<br />
	COLOR: #606060<br />
}<br />
</style>
<p>4. If the DataServiceHost does not have a global.asax file, add one to the project. <br />5. In the Global.asax file, we need to listen on the <a href="http://msdn.microsoft.com/en-us/library/system.web.applicationservices.authenticationservice.creatingcookie.aspx" mce_href="http://msdn.microsoft.com/en-us/library/system.web.applicationservices.authenticationservice.creatingcookie.aspx">AuthenticationService.CreatingCookie</a> event to customize the FormsAuth Cookie that the service creates.</p>
<p><b>Why do we need to customize the FormsAuth cookie? <br /></b>The WCF Authentication service by default creates <a href="http://msdn.microsoft.com/en-us/library/system.web.httpcookie.httponly.aspx" mce_href="http://msdn.microsoft.com/en-us/library/system.web.httpcookie.httponly.aspx">HTTPOnly</a> Cookies. <br />This means that the cookie isn’t accessible by client-script. <br />It generally isn’t a problem when the client application is running in the same domain as the Website, <br />as the browser handles cookie management for us transparently. <br />When the client is not in the same domain as the Website, and we use the ClientHttpWebRequest networking stack, <br />we are unable to access any cookies marked as HttpOnly. <br />To work around this limitation, we recreate the FormsAuth cookie with HttpOnly set to false in the CreatingCookie event handler. <br />For more details: <a href="http://msdn.microsoft.com/en-us/library/bb398778.aspx" mce_href="http://msdn.microsoft.com/en-us/library/bb398778.aspx">How to: Customize the Authentication Cookie from the WCF Authentication Service</a> <br />Example code:</p>
<pre class="csharpcode"><span class="kwrd">protected</span> <span class="kwrd">void</span> Application_Start(<span class="kwrd">object</span> sender, EventArgs e)
{
<span class="rem">//Handle the CreatingCookie event so that we can create a custom cookie with HttpOnly set to false.</span>
<span class="rem">//AuthenticationService.CreatingCookie on MSDN :</span>
<span class="rem">//http://msdn.microsoft.com/enus/library/system.web.applicationservices.authenticationservice.creatingcookie.aspx</span>
AuthenticationService.CreatingCookie += <span class="kwrd">new</span> EventHandler&lt;CreatingCookieEventArgs&gt;(CreateSilverlightCompatibleHttpCookie);
}<br /><br /><br /></pre>
<pre class="csharpcode"><span class="rem">/// &lt;summary&gt;</span>
<span class="rem">/// Creates a HttpCookie that can be read by the managed CookieContainer in ClientHttpWebRequest in Silverlight</span>
<span class="rem">/// &lt;/summary&gt;</span>
<span class="rem">/// &lt;param name="sender"&gt;The calling context for this event&lt;/param&gt;</span>
<span class="rem">/// &lt;param name="e"&gt;a property bag containing useful information about the HttpCookie to create&lt;/param&gt;</span>
<span class="kwrd">void</span> CreateSilverlightCompatibleHttpCookie(<span class="kwrd">object</span> sender, System.Web.ApplicationServices.CreatingCookieEventArgs e)
{
  <span class="kwrd">int</span> cookieVersion = 1;
  <span class="rem">//The time at which the cookie was issued by the server</span>
  DateTime cookieIssueDate = DateTime.Now;
  <span class="rem">//The relative time from now when the cookie will expire and the client will have to re-authenticate.</span>
  DateTime cookieExpiryDate = DateTime.Now.AddMinutes(30);
  <span class="rem">//The Forms Auth ticket which uniquely identifies a user </span>
  <span class="rem">//FormsAuthenticationTicket on MSDN : http://msdn.microsoft.com/en-us/library/system.web.security.formsauthenticationticket.aspx</span>
  FormsAuthenticationTicket ticket = <span class="kwrd">new</span> FormsAuthenticationTicket
                (cookieVersion,
                 e.UserName,
                 cookieIssueDate,
                 cookieExpiryDate,
                 e.IsPersistent, <span class="rem">/*Indicates whether the authentication cookie should be retained beyond the current session*/</span>
                 e.CustomCredential,
                 FormsAuthentication.FormsCookiePath);
 <span class="rem">//Creates a string containing an encrypted forms-authentication ticket suitable for use in an HTTP cookie.</span>
 <span class="rem">//FormsAuthentication.Encrypt on MSDN : http://msdn.microsoft.com/en-us/library/system.web.security.formsauthentication.encrypt.aspx</span>
  <span class="kwrd">string</span> encryptedTicket = FormsAuthentication.Encrypt(ticket);
  HttpCookie cookie = <span class="kwrd">new</span> HttpCookie(FormsAuthentication.FormsCookieName, encryptedTicket);
  <span class="rem">//set HttpOnly to false so that the managed CookieContainer can read the FormsAuth cookie from the response.</span>
  cookie.HttpOnly = <span class="kwrd">false</span>;
  cookie.Expires = cookieExpiryDate;
  HttpContext.Current.Response.Cookies.Add(cookie);
  e.CookieIsSet = <span class="kwrd">true</span>;
 }</pre>
<style type="text/css">.csharpcode {<br />
	BACKGROUND-COLOR: #ffffff; FONT-FAMILY: consolas, "Courier New", courier, monospace; COLOR: black; FONT-SIZE: small<br />
}<br />
.csharpcode PRE {<br />
	BACKGROUND-COLOR: #ffffff; FONT-FAMILY: consolas, "Courier New", courier, monospace; COLOR: black; FONT-SIZE: small<br />
}<br />
.csharpcode PRE {<br />
	MARGIN: 0em<br />
}<br />
.csharpcode .rem {<br />
	COLOR: #008000<br />
}<br />
.csharpcode .kwrd {<br />
	COLOR: #0000ff<br />
}<br />
.csharpcode .str {<br />
	COLOR: #006080<br />
}<br />
.csharpcode .op {<br />
	COLOR: #0000c0<br />
}<br />
.csharpcode .preproc {<br />
	COLOR: #cc6633<br />
}<br />
.csharpcode .asp {<br />
	BACKGROUND-COLOR: #ffff00<br />
}<br />
.csharpcode .html {<br />
	COLOR: #800000<br />
}<br />
.csharpcode .attr {<br />
	COLOR: #ff0000<br />
}<br />
.csharpcode .alt {<br />
	BACKGROUND-COLOR: #f4f4f4; MARGIN: 0em; WIDTH: 100%<br />
}<br />
.csharpcode .lnum {<br />
	COLOR: #606060<br />
}<br />
</style>
<style type="text/css">.csharpcode {<br />
	BACKGROUND-COLOR: #ffffff; FONT-FAMILY: consolas, "Courier New", courier, monospace; COLOR: black; FONT-SIZE: small<br />
}<br />
.csharpcode PRE {<br />
	BACKGROUND-COLOR: #ffffff; FONT-FAMILY: consolas, "Courier New", courier, monospace; COLOR: black; FONT-SIZE: small<br />
}<br />
.csharpcode PRE {<br />
	MARGIN: 0em<br />
}<br />
.csharpcode .rem {<br />
	COLOR: #008000<br />
}<br />
.csharpcode .kwrd {<br />
	COLOR: #0000ff<br />
}<br />
.csharpcode .str {<br />
	COLOR: #006080<br />
}<br />
.csharpcode .op {<br />
	COLOR: #0000c0<br />
}<br />
.csharpcode .preproc {<br />
	COLOR: #cc6633<br />
}<br />
.csharpcode .asp {<br />
	BACKGROUND-COLOR: #ffff00<br />
}<br />
.csharpcode .html {<br />
	COLOR: #800000<br />
}<br />
.csharpcode .attr {<br />
	COLOR: #ff0000<br />
}<br />
.csharpcode .alt {<br />
	BACKGROUND-COLOR: #f4f4f4; MARGIN: 0em; WIDTH: 100%<br />
}<br />
.csharpcode .lnum {<br />
	COLOR: #606060<br />
}<br />
</style>
<h3>Silverlight Client Setup</h3>
<p>We will follow an adapter pattern which is responsible for logging in the user and injecting the FormsAuth cookie as the client library makes requests. <br />To start with,<b> add a Service reference to the WCF Authentication service in the Silverlight Client application or use the one in the sample.</b></p>
<p>The FormsAuthAdapter will use the client side proxy generated for the WCF Authentication service to login the user <br />and hook into any attached DataServiceContext instance’s SendingRequest event to inject the FormsAuth cookie. <br />An instance of the FormsAuthenticationAdapter is declared at the application level.</p>
<pre class="csharpcode"><span class="kwrd">public</span> <span class="kwrd">partial</span> <span class="kwrd">class</span> App : Application
{
<span class="rem">/// &lt;summary&gt;</span>
<span class="rem">/// FormsAuthenticationAdapter instance to manage authentication against a WCF Authentication Service</span>
<span class="rem">/// &lt;/summary&gt;</span>
<span class="kwrd">public</span> <span class="kwrd">static</span> FormsAuthenticationAdapter FormsAuthAdapter;</pre>
<style type="text/css">.csharpcode {<br />
	BACKGROUND-COLOR: #ffffff; FONT-FAMILY: consolas, "Courier New", courier, monospace; COLOR: black; FONT-SIZE: small<br />
}<br />
.csharpcode PRE {<br />
	BACKGROUND-COLOR: #ffffff; FONT-FAMILY: consolas, "Courier New", courier, monospace; COLOR: black; FONT-SIZE: small<br />
}<br />
.csharpcode PRE {<br />
	MARGIN: 0em<br />
}<br />
.csharpcode .rem {<br />
	COLOR: #008000<br />
}<br />
.csharpcode .kwrd {<br />
	COLOR: #0000ff<br />
}<br />
.csharpcode .str {<br />
	COLOR: #006080<br />
}<br />
.csharpcode .op {<br />
	COLOR: #0000c0<br />
}<br />
.csharpcode .preproc {<br />
	COLOR: #cc6633<br />
}<br />
.csharpcode .asp {<br />
	BACKGROUND-COLOR: #ffff00<br />
}<br />
.csharpcode .html {<br />
	COLOR: #800000<br />
}<br />
.csharpcode .attr {<br />
	COLOR: #ff0000<br />
}<br />
.csharpcode .alt {<br />
	BACKGROUND-COLOR: #f4f4f4; MARGIN: 0em; WIDTH: 100%<br />
}<br />
.csharpcode .lnum {<br />
	COLOR: #606060<br />
}<br />
</style>
<p>This is initialized when the Application starts.</p>
<pre class="csharpcode"><span class="kwrd">private</span> <span class="kwrd">void</span> Application_Startup(<span class="kwrd">object</span> sender, StartupEventArgs e)
{
<span class="kwrd">string</span> authServiceUri = String.Empty;
<span class="rem">//extract the AuthenticationService Uri from the App.XAML file</span>
<span class="kwrd">if</span> (<span class="kwrd">this</span>.Resources.Contains(<span class="str">"AuthenticationServiceUri"</span>))
{
authServiceUri = <span class="kwrd">this</span>.Resources[<span class="str">"AuthenticationServiceUri"</span>].ToString();
}
FormsAuthAdapter = <span class="kwrd">new</span> FormsAuthenticationAdapter(<span class="kwrd">new</span> Uri(authServiceUri, UriKind.RelativeOrAbsolute));
<span class="rem">//The FormsAuthCookieName  should be the same value as declared in the Web.config of the server</span>
<span class="rem">//ex: If your web.config on the server requiring Forms Authentication is :</span>
<span class="rem">//&lt;authentication mode="Forms"&gt;</span>
<span class="rem">//  &lt;forms loginUrl="LoginForm.aspx" name=".ASPXFormsAUTH" protection="All" path="/" /&gt;</span>
<span class="rem">//&lt;/authentication&gt;</span>
    FormsAuthAdapter.FormsAuthCookieName = <span class="str">".ASPXFormsAUTH"</span>;
    <span class="kwrd">this</span>.RootVisual = <span class="kwrd">new</span> MainPage();
    <span class="rem">//Uncomment the below 2 lines to show the Loginwindow on application startup</span>
    <span class="rem">//LoginWindow login = new LoginWindow();</span>
    <span class="rem">//login.Show();</span>
}</pre>
<style type="text/css">.csharpcode {<br />
	BACKGROUND-COLOR: #ffffff; FONT-FAMILY: consolas, "Courier New", courier, monospace; COLOR: black; FONT-SIZE: small<br />
}<br />
.csharpcode PRE {<br />
	BACKGROUND-COLOR: #ffffff; FONT-FAMILY: consolas, "Courier New", courier, monospace; COLOR: black; FONT-SIZE: small<br />
}<br />
.csharpcode PRE {<br />
	MARGIN: 0em<br />
}<br />
.csharpcode .rem {<br />
	COLOR: #008000<br />
}<br />
.csharpcode .kwrd {<br />
	COLOR: #0000ff<br />
}<br />
.csharpcode .str {<br />
	COLOR: #006080<br />
}<br />
.csharpcode .op {<br />
	COLOR: #0000c0<br />
}<br />
.csharpcode .preproc {<br />
	COLOR: #cc6633<br />
}<br />
.csharpcode .asp {<br />
	BACKGROUND-COLOR: #ffff00<br />
}<br />
.csharpcode .html {<br />
	COLOR: #800000<br />
}<br />
.csharpcode .attr {<br />
	COLOR: #ff0000<br />
}<br />
.csharpcode .alt {<br />
	BACKGROUND-COLOR: #f4f4f4; MARGIN: 0em; WIDTH: 100%<br />
}<br />
.csharpcode .lnum {<br />
	COLOR: #606060<br />
}<br />
</style>
<p>This is what our client application looks like: <br /><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/Usi.NETDataServicesSilverlightclientlibr_9C79/image_2.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/Usi.NETDataServicesSilverlightclientlibr_9C79/image_2.png" mce_href="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/Usi.NETDataServicesSilverlightclientlibr_9C79/image_2.png"><img style="BORDER-RIGHT-WIDTH: 0px; DISPLAY: inline; BORDER-TOP-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px" title="image" border="0" alt="image" src="/assets/image_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/Usi.NETDataServicesSilverlightclientlibr_9C79/image_thumb.png" width="580" height="455" mce_src="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/Usi.NETDataServicesSilverlightclientlibr_9C79/image_thumb.png" /></a> </p>
<p>As you can see, along with the “Install me” button, we now have a “Login” button.</p>
<p>When the page loads, we attach an instance of the DataServiceContext which we want to get the FormsAuth Cookie injected while <br />making requests to the Data Service.</p>
<pre class="csharpcode"><span class="rem">//Attach the DataServiceContext instance so that we can inject the FormsAuth cookie for each request</span>
App.FormsAuthAdapter.Attach(publicationContext);
Where the Attach Method’s signature <span class="kwrd">is</span> :
<span class="rem">/// &lt;summary&gt;</span>
<span class="rem">/// Injects the FormsAuth cookie when the contextInstance makes a request to the DataService</span>
<span class="rem">/// &lt;/summary&gt;</span>
<span class="rem">/// &lt;param name="contextInstance"&gt;The DataServiceContext instance to observe&lt;/param&gt;</span>
<span class="kwrd">public</span> <span class="kwrd">void</span> Attach(DataServiceContext contextInstance)</pre>
<style type="text/css">.csharpcode {<br />
	BACKGROUND-COLOR: #ffffff; FONT-FAMILY: consolas, "Courier New", courier, monospace; COLOR: black; FONT-SIZE: small<br />
}<br />
.csharpcode PRE {<br />
	BACKGROUND-COLOR: #ffffff; FONT-FAMILY: consolas, "Courier New", courier, monospace; COLOR: black; FONT-SIZE: small<br />
}<br />
.csharpcode PRE {<br />
	MARGIN: 0em<br />
}<br />
.csharpcode .rem {<br />
	COLOR: #008000<br />
}<br />
.csharpcode .kwrd {<br />
	COLOR: #0000ff<br />
}<br />
.csharpcode .str {<br />
	COLOR: #006080<br />
}<br />
.csharpcode .op {<br />
	COLOR: #0000c0<br />
}<br />
.csharpcode .preproc {<br />
	COLOR: #cc6633<br />
}<br />
.csharpcode .asp {<br />
	BACKGROUND-COLOR: #ffff00<br />
}<br />
.csharpcode .html {<br />
	COLOR: #800000<br />
}<br />
.csharpcode .attr {<br />
	COLOR: #ff0000<br />
}<br />
.csharpcode .alt {<br />
	BACKGROUND-COLOR: #f4f4f4; MARGIN: 0em; WIDTH: 100%<br />
}<br />
.csharpcode .lnum {<br />
	COLOR: #606060<br />
}<br />
</style>
<p>Clicking the login button on the main page opens up a ChildWindow instance that we created which emulates the Login Screen. </p>
<p>Login button click handler:</p>
<pre class="csharpcode"><span class="kwrd">void</span> LoginUser(<span class="kwrd">object</span> sender, RoutedEventArgs e)
{
    LoginWindow login = <span class="kwrd">new</span> LoginWindow();
    login.Show();
    <span class="rem">//The LoginWindow only closes if Authentication succeeds</span>
    login.Closing += (s, eArgs) =&gt;
    {
       <span class="rem">/*If auth succeeds,hide the button*/</span>
       btnLogin.Visibility = Visibility.Collapsed;
    };
  }</pre>
<style type="text/css">.csharpcode {<br />
	BACKGROUND-COLOR: #ffffff; FONT-FAMILY: consolas, "Courier New", courier, monospace; COLOR: black; FONT-SIZE: small<br />
}<br />
.csharpcode PRE {<br />
	BACKGROUND-COLOR: #ffffff; FONT-FAMILY: consolas, "Courier New", courier, monospace; COLOR: black; FONT-SIZE: small<br />
}<br />
.csharpcode PRE {<br />
	MARGIN: 0em<br />
}<br />
.csharpcode .rem {<br />
	COLOR: #008000<br />
}<br />
.csharpcode .kwrd {<br />
	COLOR: #0000ff<br />
}<br />
.csharpcode .str {<br />
	COLOR: #006080<br />
}<br />
.csharpcode .op {<br />
	COLOR: #0000c0<br />
}<br />
.csharpcode .preproc {<br />
	COLOR: #cc6633<br />
}<br />
.csharpcode .asp {<br />
	BACKGROUND-COLOR: #ffff00<br />
}<br />
.csharpcode .html {<br />
	COLOR: #800000<br />
}<br />
.csharpcode .attr {<br />
	COLOR: #ff0000<br />
}<br />
.csharpcode .alt {<br />
	BACKGROUND-COLOR: #f4f4f4; MARGIN: 0em; WIDTH: 100%<br />
}<br />
.csharpcode .lnum {<br />
	COLOR: #606060<br />
}<br />
</style>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/Usi.NETDataServicesSilverlightclientlibr_9C79/image_6.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/Usi.NETDataServicesSilverlightclientlibr_9C79/image_6.png" mce_href="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/Usi.NETDataServicesSilverlightclientlibr_9C79/image_6.png"><img style="BORDER-RIGHT-WIDTH: 0px; DISPLAY: inline; BORDER-TOP-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px" title="image" border="0" alt="image" src="/assets/image_thumb_2.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/Usi.NETDataServicesSilverlightclientlibr_9C79/image_thumb_2.png" width="582" height="429" mce_src="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/Usi.NETDataServicesSilverlightclientlibr_9C79/image_thumb_2.png" /></a> <br />The LoginWindow’s “Login” button uses the application wide FormsAuthenticationAdapter instance, discussed above, to login the user. </p>
<pre class="csharpcode"><span class="kwrd">private</span> <span class="kwrd">void</span> LoginUser(<span class="kwrd">object</span> sender, RoutedEventArgs e)
{
App.FormsAuthAdapter.LoginAsync(txtUserName.Text, txtPassword.Password,
    (loginEventArgs) =&gt;
    {
<span class="kwrd">      if</span> (loginEventArgs.Result)
       {
         <span class="rem">/*Login succeeded*/</span>
         <span class="kwrd">this</span>.DialogResult = <span class="kwrd">true</span>;
       }
<span class="kwrd">       else</span>
      {
         <span class="rem">/*Login failed*/</span>
      }
    }
    );
}
The LoginAsync method’s signature <span class="kwrd">is</span>:
  <span class="rem">/// &lt;summary&gt;</span>
<span class="rem">/// Logs in the User and calls the LoginComplete handler</span>
<span class="rem">/// &lt;/summary&gt;</span>
<span class="rem">/// &lt;param name="userName"&gt;UserName to login &lt;/param&gt;</span>
<span class="rem">/// &lt;param name="passWord"&gt;password for the user account&lt;/param&gt;</span>
<span class="rem">/// &lt;param name="pLoginComplete"&gt;Called when the login process is complete&lt;/param&gt;</span>
<span class="kwrd">public</span> <span class="kwrd">void</span> LoginAsync(<span class="kwrd">string</span> userName, <span class="kwrd">string</span> passWord, Action&lt;LoginCompletedEventArgs&gt; pLoginComplete)</pre>
<style type="text/css">.csharpcode {<br />
	BACKGROUND-COLOR: #ffffff; FONT-FAMILY: consolas, "Courier New", courier, monospace; COLOR: black; FONT-SIZE: small<br />
}<br />
.csharpcode PRE {<br />
	BACKGROUND-COLOR: #ffffff; FONT-FAMILY: consolas, "Courier New", courier, monospace; COLOR: black; FONT-SIZE: small<br />
}<br />
.csharpcode PRE {<br />
	MARGIN: 0em<br />
}<br />
.csharpcode .rem {<br />
	COLOR: #008000<br />
}<br />
.csharpcode .kwrd {<br />
	COLOR: #0000ff<br />
}<br />
.csharpcode .str {<br />
	COLOR: #006080<br />
}<br />
.csharpcode .op {<br />
	COLOR: #0000c0<br />
}<br />
.csharpcode .preproc {<br />
	COLOR: #cc6633<br />
}<br />
.csharpcode .asp {<br />
	BACKGROUND-COLOR: #ffff00<br />
}<br />
.csharpcode .html {<br />
	COLOR: #800000<br />
}<br />
.csharpcode .attr {<br />
	COLOR: #ff0000<br />
}<br />
.csharpcode .alt {<br />
	BACKGROUND-COLOR: #f4f4f4; MARGIN: 0em; WIDTH: 100%<br />
}<br />
.csharpcode .lnum {<br />
	COLOR: #606060<br />
}<br />
</style>
<p>Once the user types in his/her username and password and hits “Login” , the Login window hits the WCF authentication service <br />and extracts the FormsAuth cookie from the response.When the client library makes a request to the Data Service , the FormsAuthenticationAdapter <br />injects the FormsAuth cookie </p>
<p><b>Common errors:</b></p>
<p>1. You receive an ArgumentException when trying to set the cookie header in the SendingRequest event.</p>
<p>a. System.ArgumentException occurred <br />&nbsp; Message="The 'Cookie' header cannot be modified directly.\r\nParameter name: name" <br />&nbsp; StackTrace: <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Net.WebHeaderCollection.ThrowOnRestrictedHeader(String name, String value) <br />&nbsp; InnerException: </p>
<p><b>Resolution: </b>The reason you get this is because the client library is using the classic networking stack (based on XmlHttpRequest) <br />to make the request. In this case, the Cookie header isn’t accessible and the above exception is valid. <br />This is probably the only case where we would ask you to set the HttpStack property on the Client library. <br />To fix this: <br />//Set the HttpStack on the client Context instance to force the client library </p>
<p>//to use the ClientHttpWebRequest stack for network access <br />publicationContext.HttpStack = HttpStack.ClientHttp;<b> <br /></b></p>
<p><b>Additional resources:</b></p>
<p><b>How do I authenticate my users against the Active Directory from my Silverlight application? <br /></b>In ASP.NET Forms Authentication, the Membership provider is responsible for accessing the Credential store and validating the user name and password. <br />By setting the Membership provider to be the ActiveDirectoryMembershipProvider , you can authenticate the user name and password the user enters <br />with the credentials stored in Active Directory. For more details , please refer to this MSDN article :</p>
<p><a href="http://msdn.microsoft.com/en-us/library/ms998347.aspx#paght000022_usingtheactivedirectorymembershipprovider" mce_href="http://msdn.microsoft.com/en-us/library/ms998347.aspx#paght000022_usingtheactivedirectorymembershipprovider">Using the ActiveDirectoryMembershipProvider</a> <br /><b>References :</b></p>
<p><a href="http://msdn.microsoft.com/en-us/library/dd470115(VS.95).aspx" mce_href="http://msdn.microsoft.com/en-us/library/dd470115(VS.95).aspx">About ClientAccessPolicy.xml files</a> <br /><a href="http://msdn.microsoft.com/en-us/library/bb547119.aspx" mce_href="http://msdn.microsoft.com/en-us/library/bb547119.aspx">ASP.NET Application Services.</a> <br /><a href="http://msdn.microsoft.com/en-us/library/aa480476.aspx" mce_href="http://msdn.microsoft.com/en-us/library/aa480476.aspx">ASP.NET Forms Authentication</a> <br /><a href="http://msdn.microsoft.com/en-us/library/sx3h274z.aspx" mce_href="http://msdn.microsoft.com/en-us/library/sx3h274z.aspx">Membership Providers</a></p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Components.PostAttachments/00/09/89/33/82/DataServicesXDomainSLClient.WithAuth.zip" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-components-postattachments/00-09-89-33-82/DataServicesXDomainSLClient.WithAuth.zip">DataServicesXDomainSLClient.WithAuth.zip</a></p>

      </div>

      <a href="/using-the-ado-net-data-services-silverlight-client-library-in-x-domain-and-out-of-browser-scenarios-ii-forms-authentication/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/using-the-php-toolkit-with-ado-net-data-services/">Using the PHP Toolkit with ADO.NET Data Services</a></h1>

      <div class="entry">
        <ol>
<li><a href="#Step1">Setup PHP on your windows machine</a> </li>
<li><a href="#Step2">Setup the PHP Toolkit </a></li>
<li><a href="#Step3">Setting up the PHP samples on IIS</a> </li>
<li><a href="#Step4">Running the sample ADO.NET Data Services</a> </li>
<li><a href="#Step5">PHP Sample Applications Walkthrough</a> </li>
</ol>
<p> <a name="Step1"><br />
<h3>Setup PHP on your windows machine</h3>
<p> </a>
<p>The following steps show you how to setup your windows machine to host PHP applications.    <br />We will be talking about hosting the only supported ( by MS Support ) PHP CGI application on IIS .</p>
<p><a href="http://learn.iis.net/page.aspx/246/using-fastcgi-to-host-php-applications-on-iis-70/">Using FastCGI to Host PHP Applications on IIS 7.0</a></p>
<ol>
<li>If you don’t find the <strong>php.ini-recommended </strong>file , then rename the <strong>php.ini-development </strong>file from your PHP folder. </li>
<li>Once you are setup , if you get a HTTP 500 internal server error when browsing to the Php.ini file ,      <br />then you need setup your timezone in the PHP.ini file . </li>
<li>To do this , find the line in the php.ini file “date.timezone” . </li>
<li>If it has a semi-colon before it , remove it . </li>
<li>Set the date.timezone’s&#160; value to be a valid value from this list : <a href="http://nl3.php.net/manual/en/timezones.php">List of Supported Timezones</a> </li>
</ol>
<p>In my php.ini , I have set the value to be <strong>date.timezone = &quot;America/Los_Angeles&quot;</strong></p>
<p> <a name="Step2"><br />
<h3>Setup the PHP Toolkit</h3>
<p> </a>
<p>Follow the instructions on the codeplex site to setup your machine.    <br /><a href="http://phpdataservices.codeplex.com/Wiki/View.aspx?title=InstallationGuide">Installation and Configuration</a></p>
<p> <a name="Step3"><br />
<h3>Setting up the PHP samples on IIS </h3>
<p> </a>
<p>I have copied the phpsamples folder from the downloaded phpdataservices1.0 folder    <br />into the %SystemDrive%\inetpub\wwwroot folder.This is just so that I dont need to configure any permissions     <br />for the IIS accounts.     <br />Open the IIS manager by running “INETMGR” from the “run” prompt on the start menu</p>
<p>Select the PHPSamples folder from the “Default Web Site”    <br /><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Samples_Not_Application_2.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Samples_Not_Application_2.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="Samples_Not_Application" border="0" alt="Samples_Not_Application" src="/assets/Samples_Not_Application_thumb_1.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Samples_Not_Application_thumb_1.png" width="146" height="154" /></a></p>
<p>Right-Click the Virtual directory and select “Convert to Application”    <br /><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Samples_To_Application.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Samples_To_Application.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="Samples_To_Application" border="0" alt="Samples_To_Application" src="/assets/Samples_To_Application_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Samples_To_Application_thumb.png" width="204" height="240" /></a></p>
<p>Confirm creating the virtual directory by&#160; pressing “OK” in the next dialog that turns up    <br /><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Samples_To_Application_Confirm.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Samples_To_Application_Confirm.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="Samples_To_Application_Confirm" border="0" alt="Samples_To_Application_Confirm" src="/assets/Samples_To_Application_Confirm_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Samples_To_Application_Confirm_thumb.png" width="380" height="263" /></a></p>
<p>This sets up the PHP applications that access the ADO.NET Data Service,    <br />We still need to setup the actual Data Services that the PHP Samples access.</p>
<p> <a name="Step4"><br />
<h3>Running the sample&#160; ADO.NET Data Services</h3>
<p> </a>
<p>Find the ADODotNetDataServices folder in the PHPDataServices1.0 download.    <br />This should be under the “samples” directory.     <br />i.e PHPDataServices1.0\samples\ADODotNetDataServices     </p>
<h2>Setup the Databases required for the project to run </h2>
<p>1) Unzip the zipped database files from the </p>
<p> PHPDataServices1.0\samples\ADODotNetDataServices\data folder.   <br />2)&#160;&#160; Open up SQL management studio and Connect to your Database server   <br />3) Right–click the databases node and select “Attach…”   <br /> 
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Attach_DB_Step_1_2.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Attach_DB_Step_1_2.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="Attach_DB_Step_1" border="0" alt="Attach_DB_Step_1" src="/assets/Attach_DB_Step_1_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Attach_DB_Step_1_thumb.png" width="240" height="160" /></a> </p>
<p>4) In the “Attach Database” dialog , press “Add” and select the unzipped “VideoGameStore_Data.mdf” file.    <br />You will notice that once you select the MDF file&#160; , the dialog will complain about a missing .ldf file.     <br />5) This is a routine warning , select the ldf file row in the dialog and press “Remove”     <br />&#160;<a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Attach_DB_Step_2_4.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Attach_DB_Step_2_4.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="Attach_DB_Step_2" border="0" alt="Attach_DB_Step_2" src="/assets/Attach_DB_Step_2_thumb_1.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Attach_DB_Step_2_thumb_1.png" width="480" height="352" /></a></p>
<p>For the other database Northwind, you can use the sample database that are available from Download.Microsoft.com    <br />Here’s a link to download the Northwind sample database : <a href="http://www.microsoft.com/downloads/details.aspx?FamilyId=06616212-0356-46A0-8DA2-EEBC53A68034&amp;displaylang=en">Northwind and pubs Sample Databases for SQL Server 2000</a>     <br />Installation should be straight-forward as it comes with an MSI that is supposed to setup the database for you.</p>
<p><strong>Disclaimer : I already had a copy of the Northwind database on my machine and didn’t use the installer above.      <br /></strong>&#160; <br />Once you have your databases setup , modify the respective connection strings web.config file from the ADODotNetDataServices project.</p>
<pre class="code"><span style="color: blue">&lt;</span><span style="color: #a31515">connectionStrings</span><span style="color: blue">&gt;
    &lt;</span><span style="color: #a31515">add </span><span style="color: red">name</span><span style="color: blue">=</span>&quot;<span style="color: blue">NorthwindEntities</span>&quot; <br />         <span style="color: red">connectionString</span><span style="color: blue">=</span>&quot;<span style="color: blue">metadata=res://*/NorthwindModel.csdl|res://*/NorthwindModel.ssdl|res://*/NorthwindModel.msl;<br />                           provider=System.Data.SqlClient;<br />                           provider connection string=</span><span style="color: red">&amp;quot;</span><span style="color: blue"><strong>YOURCONNECTIONSTRINGHERE</strong></span><span style="color: red">&amp;quot;</span>&quot; <br />         <span style="color: red">providerName</span><span style="color: blue">=</span>&quot;<span style="color: blue">System.Data.EntityClient</span>&quot; <span style="color: blue">/&gt;
    &lt;</span><span style="color: #a31515">add </span><span style="color: red">name</span><span style="color: blue">=</span>&quot;<span style="color: blue">VideoGameStoreEntities</span>&quot; <br />         <span style="color: red">connectionString</span><span style="color: blue">=</span>&quot;<span style="color: blue">metadata=res://*/VideoGameStoreModel.csdl|res://*/VideoGameStoreModel.ssdl|res://*/VideoGameStoreModel.msl;<br />                           provider=System.Data.SqlClient;<br />                           provider connection string=</span><span style="color: red">&amp;quot;<strong>YOURCONNECTIONSTRINGHERE</strong></span><span style="color: red"><strong>&amp;</strong>quot;</span>&quot; <br />         <span style="color: red">providerName</span><span style="color: blue">=</span>&quot;<span style="color: blue">System.Data.EntityClient</span>&quot; <span style="color: blue">/&gt;
&lt;/</span><span style="color: #a31515">connectionStrings</span><span style="color: blue">&gt;<br /></span><span style="color: blue"></span></pre>
<ol>
<li>Once you have the database and the Data Service setup, then configure the project to only run on the URL that the PHP Samples expect to find the Data Service on.<br />
    <br />To do this :</p>
<p>In Visual Studio,Go to the properties of the Project. </li>
<li>Click on the “Web” Tab in the left-hand pane. </li>
<li>Under the “Servers” section , Select the “Specific Port”&#160; option and enter “8080” for the port number.<br />
    <br /><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Setup_DataService_Select_Port.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Setup_DataService_Select_Port.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="Setup_DataService_Select_Port" border="0" alt="Setup_DataService_Select_Port" src="/assets/Setup_DataService_Select_Port_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Setup_DataService_Select_Port_thumb.png" width="640" height="205" /></a> </li>
<li>
<p>Now, run the project in Visual studio and launch the PHP samples by browsing to the Index.php page<br />
      <br />in the PHPSamples virtual directory.</p>
</li>
</ol>
<p><a name="Step5"></p>
<h3>PHP Sample Applications Walkthrough</h3>
<p></a></p>
<p>You should see this as the startup page when you run the PHP Samples<br />
  <br /><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/PHP_SAMPles_Screen1.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/PHP_SAMPles_Screen1.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="PHP_SAMPles_Screen1" border="0" alt="PHP_SAMPles_Screen1" src="/assets/PHP_SAMPles_Screen1_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/PHP_SAMPles_Screen1_thumb.png" width="640" height="415" /></a></p>
<p><strong>Demo</strong> tab contents</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/PHP_SAMPles_Screen_Samples1.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/PHP_SAMPles_Screen_Samples1.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="PHP_SAMPles_Screen_Samples1" border="0" alt="PHP_SAMPles_Screen_Samples1" src="/assets/PHP_SAMPles_Screen_Samples1_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/PHP_SAMPles_Screen_Samples1_thumb.png" width="640" height="370" /></a></p>
<p>Select the ADO.NET Data Services Editor Sample to see some pure PHP awesomeness<br />
  <br /><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/PHP_SAMPles_Screen2.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/PHP_SAMPles_Screen2.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="PHP_SAMPles_Screen2" border="0" alt="PHP_SAMPles_Screen2" src="/assets/PHP_SAMPles_Screen2_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/PHP_SAMPles_Screen2_thumb.png" width="640" height="209" /></a> </p>
<p>Here’s an editor page for the Customers Entity Set:<br />
  <br /><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Customers_Edit_Screen.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Customers_Edit_Screen.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="Customers_Edit_Screen" border="0" alt="Customers_Edit_Screen" src="/assets/Customers_Edit_Screen_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Customers_Edit_Screen_thumb.png" width="640" height="195" /></a> </p>
<p>See that little text box over there ?<br />
  <br />Yeah , it allows me to enter the Astoria URI operators like top , skip , filter to filter the rows bound to the grid below.</p>
<p><strong>The gird is editable too </strong>, Clicking on the “Detail” link in the first column of the grid brings up an editor for the customers</p>
<p>entity that was selected.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Customers_Edit_Screen_2.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Customers_Edit_Screen_2.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="Customers_Edit_Screen_2" border="0" alt="Customers_Edit_Screen_2" src="/assets/Customers_Edit_Screen_2_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Customers_Edit_Screen_2_thumb.png" width="640" height="312" /></a></p>
<p>So , there you have it , instructions to setup the samples and some tours of the sample applications.<br />
  <br />Since I know next to nothing about PHP , I have a few questions for our PHP-Savvy users.</p>
<ol>
<li>Which application framework(s) do you use&#160; to build PHP applications? I know about CAKE and ZEND , any others? </li>
<li>Do you use a specific Validation framework or do you use the one that came with the&#160; application framework? </li>
</ol>

      </div>

      <a href="/using-the-php-toolkit-with-ado-net-data-services/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/ado-net-data-services-sl-client-library-xdomain-and-out-of-browser/">ADO.NET Data Services SL Client Library - XDomain and Out Of Browser</a></h1>

      <div class="entry">
        <p>The first in my two part blog posts about&nbsp;the new Silverlight Client Library we released in CTP2 is up on the team blog.</p>
<p><span class="entrylistheader"><a id="bp___v___r___postlist___EntryItems_ctl01_PostTitle" href="http://blogs.msdn.com/astoriateam/archive/2009/09/03/using-the-ado-net-data-services-silverlight-client-in-x-domain-and-out-of-browser-scenarios-i.aspx" mce_href="http://blogs.msdn.com/astoriateam/archive/2009/09/03/using-the-ado-net-data-services-silverlight-client-in-x-domain-and-out-of-browser-scenarios-i.aspx">Using the ADO.NET Data Services Silverlight client in x-domain and out of browser scenarios – I</a></span></p>
<p><span class="entrylistheader">Stay tuned to the team blog for the the second&nbsp; part which talks about using the client library X-Domain and Out Of Browser<br />to access a data service which is authenticated with Forms Authentication.</span></p>

      </div>

      <a href="/ado-net-data-services-sl-client-library-xdomain-and-out-of-browser/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/its-alive-ado-net-data-services-v1-5-ctp-2-is-now-in-the-wild/">Its ALIVE !!! ADO.NET Data Services V1.5 CTP 2 is now in the wild!!</a></h1>

      <div class="entry">
        <p>Announcement on the team blog : </p>
<p><a title="http://blogs.msdn.com/astoriateam/archive/2009/08/31/ado-net-data-services-v1-5-ctp2-now-available-for-download.aspx" href="http://blogs.msdn.com/astoriateam/archive/2009/08/31/ado-net-data-services-v1-5-ctp2-now-available-for-download.aspx" mce_href="http://blogs.msdn.com/astoriateam/archive/2009/08/31/ado-net-data-services-v1-5-ctp2-now-available-for-download.aspx">http://blogs.msdn.com/astoriateam/archive/2009/08/31/ado-net-data-services-v1-5-ctp2-now-available-for-download.aspx</a></p>
<p>Download the bits here : </p>
<p><a title="http://www.microsoft.com/downloads/details.aspx?FamilyID=a71060eb-454e-4475-81a6-e9552b1034fc&amp;displaylang=en" href="http://www.microsoft.com/downloads/details.aspx?FamilyID=a71060eb-454e-4475-81a6-e9552b1034fc&amp;displaylang=en" mce_href="http://www.microsoft.com/downloads/details.aspx?FamilyID=a71060eb-454e-4475-81a6-e9552b1034fc&amp;displaylang=en">http://www.microsoft.com/downloads/details.aspx?FamilyID=a71060eb-454e-4475-81a6-e9552b1034fc&amp;displaylang=en</a></p>
<p>I’ve also updated my blog posts about using the Friendly Feeds features here : </p>
<p><a href="http://blogs.msdn.com/phaniraj/archive/2009/08/31/introducing-web-friendly-feeds-aka-friendly-feeds-updated-for-ctp2.aspx" mce_href="http://blogs.msdn.com/phaniraj/archive/2009/08/31/introducing-web-friendly-feeds-aka-friendly-feeds-updated-for-ctp2.aspx">Introducing Web Friendly Feeds aka Friendly Feeds (Updated for CTP2)</a></p>
<p><a href="http://blogs.msdn.com/phaniraj/archive/2009/03/28/ado-net-data-services-friendly-feeds-mapping-edm-types-i.aspx" mce_href="http://blogs.msdn.com/phaniraj/archive/2009/03/28/ado-net-data-services-friendly-feeds-mapping-edm-types-i.aspx">ADO.NET Data Services Friendly Feeds , Mapping EDM Types – I</a></p>
<p><a href="http://blogs.msdn.com/phaniraj/archive/2009/03/21/ado-net-data-services-friendly-feeds-mapping-clr-types.aspx" mce_href="http://blogs.msdn.com/phaniraj/archive/2009/03/21/ado-net-data-services-friendly-feeds-mapping-clr-types.aspx">ADO.NET Data Services Friendly Feeds , Mapping CLR Types</a>&nbsp; </p>
<p>Look forward to more exciting blog posts on the team blog about some of the new features in our CTP2 release .</p>

      </div>

      <a href="/its-alive-ado-net-data-services-v1-5-ctp-2-is-now-in-the-wild/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/introducing-web-friendly-feeds-aka-friendly-feeds-updated-for-ctp2/">Introducing Web Friendly Feeds aka Friendly Feeds (Updated for CTP2)</a></h1>

      <div class="entry">
        <p>Hello all , with the recent release of ADO.NET Data v1.5 Services CTP 1 , we introduced a new feature called as “Web Friendly Feeds”.    <br />With the release of CTP2 , we have introduced support for 2 additional ATOM:Entry elements you can map to:</p>
<ol>
<li>entry:Summary </li>
<li>entry:Updated </li>
</ol>
<p><strong>What is this feature about ?</strong></p>
<p>This is what the markup for one of the the resources of Customers looks like in ADO.NET Data Services v1 .</p>
<pre class="csharpcode"><span class="kwrd">&lt;?</span><span class="html">xml</span> <span class="attr">version</span><span class="kwrd">=&quot;1.0&quot;</span> <span class="attr">encoding</span><span class="kwrd">=&quot;utf-8&quot;</span> <span class="attr">standalone</span><span class="kwrd">=&quot;yes&quot;</span> ?<span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">entry</span>
<span class="attr">xml:base</span><span class="kwrd">=<a href="http://localhost:26503/northwind.svc/" mce_href="http://localhost:26503/northwind.svc/">http://localhost:26503/northwind.svc/</a></span> <br /><span class="attr"><br />xmlns:d</span><span class="kwrd">=<a href="http://schemas.microsoft.com/ado/2007/08/dataservices" mce_href="http://schemas.microsoft.com/ado/2007/08/dataservices">http://schemas.microsoft.com/ado/2007/08/dataservices</a></span> <br /><span class="attr">xmlns:m</span><span class="kwrd">=<a href="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata" mce_href="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata">http://schemas.microsoft.com/ado/2007/08/dataservices/metadata</a></span> <br /><span class="attr">xmlns</span><span class="kwrd">=&quot;http://www.w3.org/2005/Atom&quot;</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">id</span><span class="kwrd">&gt;</span>http://localhost:26503/northwind.svc/Customers('ALFKI')<span class="kwrd">&lt;/</span><span class="html">id</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">title</span> <span class="attr">type</span><span class="kwrd">=&quot;text&quot;</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">updated</span><span class="kwrd">&gt;</span>2009-03-18T20:30:20Z<span class="kwrd">&lt;/</span><span class="html">updated</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">author</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">name</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">author</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">category</span> <span class="attr">term</span><span class="kwrd">=&quot;NorthwindModel.Customers&quot;</span> <span class="attr">scheme</span><span class="kwrd">=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/scheme&quot;</span> <span class="kwrd">/&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">content</span> <span class="attr">type</span><span class="kwrd">=&quot;application/xml&quot;</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:CustomerID</span><span class="kwrd">&gt;</span>ALFKI<span class="kwrd">&lt;/</span><span class="html">d:CustomerID</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:CompanyName</span><span class="kwrd">&gt;</span>Alfreds Futterkiste<span class="kwrd">&lt;/</span><span class="html">d:CompanyName</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:ContactName</span><span class="kwrd">&gt;</span>Maria Anders<span class="kwrd">&lt;/</span><span class="html">d:ContactName</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:ContactTitle</span><span class="kwrd">&gt;</span>Sales Representative<span class="kwrd">&lt;/</span><span class="html">d:ContactTitle</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Address</span><span class="kwrd">&gt;</span>Obere Str. 57<span class="kwrd">&lt;/</span><span class="html">d:Address</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:City</span><span class="kwrd">&gt;</span>Berlin<span class="kwrd">&lt;/</span><span class="html">d:City</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Region</span> <span class="attr">m:null</span><span class="kwrd">=&quot;true&quot;</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:PostalCode</span><span class="kwrd">&gt;</span>12209<span class="kwrd">&lt;/</span><span class="html">d:PostalCode</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Country</span><span class="kwrd">&gt;</span>Germany<span class="kwrd">&lt;/</span><span class="html">d:Country</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Phone</span><span class="kwrd">&gt;</span>030-0074321<span class="kwrd">&lt;/</span><span class="html">d:Phone</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Fax</span><span class="kwrd">&gt;</span>030-0076545<span class="kwrd">&lt;/</span><span class="html">d:Fax</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">content</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">entry</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">
<p>.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }</style>
<p>In the markup above , a couple of things are missing </p>
<p>1) The &lt;title&gt; element is empty </p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">title</span> <span class="attr">type</span><span class="kwrd">=&quot;text&quot;</span> <span class="kwrd">/&gt;</span></pre>
<p>2) The author/name element is empty </p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">author</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">name</span> <span class="kwrd">/&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">author</span><span class="kwrd">&gt;</span></pre>
<p>In v 1.5 , through Friendly Feeds , we will now be able to assign a property of the “Customers” entity type to turn up in these element locations in the atom:entry payload.</p>
<p>Now , let’s say that we wanted to map the “ContactName” as the author name element of the entry element and Title to be “ContactTitle” as the title of the entry element.<br />
  <br />Then , the payload would look like this :</p>
<p></p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">entry</span> <span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">id</span><span class="kwrd">&gt;</span>http://localhost:26503/northwind.svc/Customers('ALFKI')<span class="kwrd">&lt;/</span><span class="html">id</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">title</span> <span class="attr">type</span><span class="kwrd">=&quot;text&quot;</span><span class="kwrd">&gt;</span>Sales Representative<span class="kwrd">&lt;/</span><span class="html">title</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">updated</span><span class="kwrd">&gt;</span>2009-03-18T20:46:42Z<span class="kwrd">&lt;/</span><span class="html">updated</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">author</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">name</span><span class="kwrd">&gt;</span>Maria Anders<span class="kwrd">&lt;/</span><span class="html">name</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">author</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">category</span> <span class="attr">term</span><span class="kwrd">=&quot;NorthwindModel.Customers&quot;</span> <span class="attr">scheme</span><span class="kwrd">=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/scheme&quot;</span> <span class="kwrd">/&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">content</span> <span class="attr">type</span><span class="kwrd">=&quot;application/xml&quot;</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:CustomerID</span><span class="kwrd">&gt;</span>ALFKI<span class="kwrd">&lt;/</span><span class="html">d:CustomerID</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:CompanyName</span><span class="kwrd">&gt;</span>Alfreds Futterkiste<span class="kwrd">&lt;/</span><span class="html">d:CompanyName</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:ContactName</span><span class="kwrd">&gt;</span>Maria Anders<span class="kwrd">&lt;/</span><span class="html">d:ContactName</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:ContactTitle</span><span class="kwrd">&gt;</span>Sales Representative<span class="kwrd">&lt;/</span><span class="html">d:ContactTitle</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Address</span><span class="kwrd">&gt;</span>Obere Str. 57<span class="kwrd">&lt;/</span><span class="html">d:Address</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:City</span><span class="kwrd">&gt;</span>Berlin<span class="kwrd">&lt;/</span><span class="html">d:City</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Region</span> <span class="attr">m:null</span><span class="kwrd">=&quot;true&quot;</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:PostalCode</span><span class="kwrd">&gt;</span>12209<span class="kwrd">&lt;/</span><span class="html">d:PostalCode</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Country</span><span class="kwrd">&gt;</span>Germany<span class="kwrd">&lt;/</span><span class="html">d:Country</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Phone</span><span class="kwrd">&gt;</span>030-0074321<span class="kwrd">&lt;/</span><span class="html">d:Phone</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Fax</span><span class="kwrd">&gt;</span>030-0076545<span class="kwrd">&lt;/</span><span class="html">d:Fax</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">content</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">entry</span><span class="kwrd">&gt;</span></pre>
<p>This also means , that IE now displays the Title &amp; author Name elements when you browse to the “Customers” entity set .</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/AStoria_Feed_Reading_View.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/AStoria_Feed_Reading_View.png" mce_href="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/AStoria_Feed_Reading_View.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="AStoria_Feed_Reading_View" border="0" alt="AStoria_Feed_Reading_View" src="/assets/AStoria_Feed_Reading_View_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/AStoria_Feed_Reading_View_thumb.png" width="644" height="322" mce_src="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/AStoria_Feed_Reading_View_thumb.png" /></a></p>
<p><strong>Which elements in the atom:entry element can I map to an entity type properties ?</strong></p>
<ol>
<li>entry:author/email </li>
<li>entry:author/name </li>
<li>entry:author/uri </li>
<li>entry:published </li>
<li>entry:rights </li>
<li>entry:summary </li>
<li>entry:title </li>
<li>entry:updated </li>
<li>entry:summary </li>
</ol>
<p><strong>Once a property is mapped , if keeping the value of the property&#160; in the entry:contents section doesn’t make sense,can I remove it ?<br />
    <br /></strong>Yes , absolutely , in the above case , we can remove the ContactName &amp; ContactTitle elements from being repeated in the &lt;contents&gt; section.</p>
<p>Ex:</p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">entry</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">id</span><span class="kwrd">&gt;</span>http://localhost:26503/northwind.svc/Customers('ALFKI')<span class="kwrd">&lt;/</span><span class="html">id</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">title</span> <span class="attr">type</span><span class="kwrd">=&quot;text&quot;</span><span class="kwrd">&gt;</span>Sales Representative<span class="kwrd">&lt;/</span><span class="html">title</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">updated</span><span class="kwrd">&gt;</span>2009-03-18T21:04:20Z<span class="kwrd">&lt;/</span><span class="html">updated</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">author</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">name</span><span class="kwrd">&gt;</span>Maria Anders<span class="kwrd">&lt;/</span><span class="html">name</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">author</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">category</span> <span class="attr">term</span><span class="kwrd">=&quot;NorthwindModel.Customers&quot;</span> <span class="attr">scheme</span><span class="kwrd">=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/scheme&quot;</span> <span class="kwrd">/&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">content</span> <span class="attr">type</span><span class="kwrd">=&quot;application/xml&quot;</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:CustomerID</span><span class="kwrd">&gt;</span>ALFKI<span class="kwrd">&lt;/</span><span class="html">d:CustomerID</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:CompanyName</span><span class="kwrd">&gt;</span>Alfreds Futterkiste<span class="kwrd">&lt;/</span><span class="html">d:CompanyName</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Address</span><span class="kwrd">&gt;</span>Obere Str. 57<span class="kwrd">&lt;/</span><span class="html">d:Address</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:City</span><span class="kwrd">&gt;</span>Berlin<span class="kwrd">&lt;/</span><span class="html">d:City</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Region</span> <span class="attr">m:null</span><span class="kwrd">=&quot;true&quot;</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:PostalCode</span><span class="kwrd">&gt;</span>12209<span class="kwrd">&lt;/</span><span class="html">d:PostalCode</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Country</span><span class="kwrd">&gt;</span>Germany<span class="kwrd">&lt;/</span><span class="html">d:Country</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Phone</span><span class="kwrd">&gt;</span>030-0074321<span class="kwrd">&lt;/</span><span class="html">d:Phone</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Fax</span><span class="kwrd">&gt;</span>030-0076545<span class="kwrd">&lt;/</span><span class="html">d:Fax</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">content</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">entry</span><span class="kwrd">&gt;</span></pre>
<p><strong>Great , what else can I do with this new feature ?<br />
    <br /></strong>Well, did I mention you can <font size="4">embed your own markup in the &lt;entry&gt; element for an entity type !!!</font></p>
<p>consider the following entity type , BlogPost , which looks like this </p>
<pre class="code"><span style="color: blue">public class </span><span style="color: #2b91af">BlogPost </span>{
        <span style="color: blue">public double </span>Lat { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
        <span style="color: blue">public double </span>Long { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
        <span style="color: blue">public int </span>BlogPostID { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
        <span style="color: blue">public string </span>Title { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
        <span style="color: blue">public string </span>Body { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
        <span style="color: blue">public string </span>Author { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
        <span style="color: blue">public string </span>PostURI { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
        <span style="color: blue">public string </span>ContentSummary{get;set;}
}</pre>
<p>This type represents the entry for a blog post , and also contains the Geographical location information about where the post was made ( Lat /Long)<br />
  <br />and also the author information. Now , if this data was exposed via a Data Service, the payload would contain the Lat/Long/Published fields as part of&#160; <br />the entry:content element and wouldn’t have any special meaning.</p>
<p>The author element should be the Author field of the atom:entry , and the Published field to be the atom:published.</p>
<p>the Lat &amp; Long fields should be a georss element that shows the location at which the Blog Post was made.</p>
<p>In short , it should look like this :</p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">entry</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">id</span><span class="kwrd">&gt;</span>http://localhost/AstoriaBoard/Services/BlogSvc.svc/Posts(1)<span class="kwrd">&lt;/</span><span class="html">id</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">title</span> <span class="attr">type</span><span class="kwrd">=&quot;text&quot;</span><span class="kwrd">&gt;</span>Entities, How many ways do I count thee ?<span class="kwrd">&lt;/</span><span class="html">title</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">summary</span> <span class="attr">type</span><span class="kwrd">=&quot;html&quot;</span><span class="kwrd">&gt;<br />          &lt;</span><span class="html">img</span> <span class="attr">class</span><span class="kwrd">='imgClass'</span> <span class="attr">width</span><span class="kwrd">='150px'</span> <span class="attr">height</span><span class="kwrd">='150px'</span> <span class="attr">src</span><span class="kwrd">='/AStoriaBoard/mug.jpg'</span><span class="kwrd">/&gt;&lt;</span><span class="html">br</span><span class="kwrd">/&gt;</span>Its a common ask that we introduce aggregatin<br />   <span class="kwrd">&lt;/</span><span class="html">summary</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">published</span><span class="kwrd">&gt;</span>2009-03-18T14:29:43-07:00<span class="kwrd">&lt;/</span><span class="html">published</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">updated</span><span class="kwrd">&gt;</span>2009-03-18T21:29:43Z<span class="kwrd">&lt;/</span><span class="html">updated</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">author</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">name</span><span class="kwrd">&gt;</span>Phani Raj<span class="kwrd">&lt;/</span><span class="html">name</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">author</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">link</span> <span class="attr">rel</span><span class="kwrd">=&quot;edit&quot;</span> <span class="attr">title</span><span class="kwrd">=&quot;BlogPost&quot;</span> <span class="attr">href</span><span class="kwrd">=&quot;Posts(1)&quot;</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">category</span> <span class="attr">term</span><span class="kwrd">=&quot;Blogs.BlogPost&quot;</span> <span class="attr">scheme</span><span class="kwrd">=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/scheme&quot;</span> <span class="kwrd">/&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">content</span> <span class="attr">type</span><span class="kwrd">=&quot;application/xml&quot;</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:BlogPostID</span> <span class="attr">m:type</span><span class="kwrd">=&quot;Edm.Int32&quot;</span><span class="kwrd">&gt;</span>1<span class="kwrd">&lt;/</span><span class="html">d:BlogPostID</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Body</span><span class="kwrd">&gt;</span>Its a common ask that we introduce aggregating mechanisms in Data services <br />          so that one can do a Count of the number of entities present in an EntitySet easily. <br />          In this blog post , I will outline one method of implementing a “Count” method that works for you. <br />          The interface to the count method will be<span class="kwrd">&lt;/</span><span class="html">d:Body</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Author</span><span class="kwrd">&gt;</span>Phani Raj<span class="kwrd">&lt;/</span><span class="html">d:Author</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:PostURI</span> <span class="attr">m:null</span><span class="kwrd">=&quot;true&quot;</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">content</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">geo</span> <span class="attr">xmlns</span><span class="kwrd">=&quot;http://www.georss.org/georss&quot;</span><span class="kwrd">&gt;</span>
   <span class="kwrd">&lt;</span><span class="html">long</span><span class="kwrd">&gt;</span>-80.244445<span class="kwrd">&lt;/</span><span class="html">long</span><span class="kwrd">&gt;</span>
   <span class="kwrd">&lt;</span><span class="html">lat</span><span class="kwrd">&gt;</span>25.730752<span class="kwrd">&lt;/</span><span class="html">lat</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;/</span><span class="html">geo</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;/</span><span class="html">entry</span><span class="kwrd">&gt;</span></pre>
<p>Now that we got this markup , I feel like we should do something with it . How about showing this information on a MAP ?<br />
  <br />I know !! We have a mapping solution , Virtual Earth , lets try and see if we can feed this feed to Virtual Earth and make it see our GeoRss markup.</p>
<p>Recently , ( November 2008 ), the Live team released the Map control as an asp.net control . Download it here :<a title="http://dev.live.com/tools/" href="http://dev.live.com/tools/" mce_href="http://dev.live.com/tools/">http://dev.live.com/tools/</a></p>
<p>Add this control to an aspx page in the same website as the Data Service .</p>
<pre class="code"><span style="background: #ffee62">&lt;%</span><span style="color: blue">@ </span><span style="color: #a31515">Page </span><span style="color: red">Language</span><span style="color: blue">=&quot;C#&quot; </span><span style="color: red">AutoEventWireup</span><span style="color: blue">=&quot;true&quot; </span><span style="color: red">CodeFile</span><span style="color: blue">=&quot;Default.aspx.cs&quot; </span><span style="color: red">Inherits</span><span style="color: blue">=&quot;_Default&quot; </span><span style="background: #ffee62">%&gt;

</span><span style="color: blue">&lt;!</span><span style="color: #a31515">DOCTYPE </span><span style="color: red">html PUBLIC </span><span style="color: blue">&quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;</span><span style="color: #a31515">html </span><span style="color: red">xmlns</span><span style="color: blue">=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;</span><span style="color: #a31515">head </span><span style="color: red">runat</span><span style="color: blue">=&quot;server&quot;&gt;
    &lt;</span><span style="color: #a31515">title</span><span style="color: blue">&gt;&lt;/</span><span style="color: #a31515">title</span><span style="color: blue">&gt;
    &lt;</span><span style="color: #a31515">style</span><span style="color: blue">&gt;
        </span><span style="color: #a31515">.imgClass</span>{
            <span style="color: red">border</span>: <span style="color: blue">solid 2px #99ccff</span>;}
    <span style="color: blue">&lt;/</span><span style="color: #a31515">style</span><span style="color: blue">&gt;
&lt;/</span><span style="color: #a31515">head</span><span style="color: blue">&gt;
&lt;</span><span style="color: #a31515">body</span><span style="color: blue">&gt;
    &lt;</span><span style="color: #a31515">form </span><span style="color: red">id</span><span style="color: blue">=&quot;form1&quot; </span><span style="color: red">runat</span><span style="color: blue">=&quot;server&quot;&gt;
    &lt;</span><span style="color: #a31515">script </span><span style="color: red">language</span><span style="color: blue">=&quot;javascript&quot;&gt;
        function </span>pageLoad() {
            HookUpWorkAround();
        }
    <span style="color: blue">&lt;/</span><span style="color: #a31515">script</span><span style="color: blue">&gt;
    &lt;</span><span style="color: #a31515">div </span><span style="color: red">id</span><span style="color: blue">=&quot;mapContainer&quot;&gt;
        <strong>&lt;</strong></span><strong><span style="color: #a31515">ve</span><span style="color: blue">:</span><span style="color: #a31515">Map </span><span style="color: red">ID</span><span style="color: blue">=&quot;geoRssMap&quot; </span><span style="color: red">runat</span><span style="color: blue">=&quot;server&quot; </span><span style="color: red">Height</span><span style="color: blue">=&quot;600px&quot; </span><span style="color: red">Width</span><span style="color: blue">=&quot;75%&quot; </span><span style="color: red">ZoomLevel</span></strong><span style="color: blue"><strong>=&quot;4&quot; /&gt;
</strong>    &lt;/</span><span style="color: #a31515">div</span><span style="color: blue">&gt;
    &lt;</span><span style="color: #a31515">asp</span><span style="color: blue">:</span><span style="color: #a31515">ScriptManager </span><span style="color: red">ID</span><span style="color: blue">=&quot;scrpManager&quot; </span><span style="color: red">runat</span><span style="color: blue">=&quot;server&quot;&gt;
        &lt;</span><span style="color: #a31515">Scripts</span><span style="color: blue">&gt;
            &lt;</span><span style="color: #a31515">asp</span><span style="color: blue">:</span><span style="color: #a31515">ScriptReference </span><span style="color: red">Path</span><span style="color: blue">=&quot;~/Scripts/VEWorkAround.js&quot; /&gt;
        &lt;/</span><span style="color: #a31515">Scripts</span><span style="color: blue">&gt;
    &lt;/</span><span style="color: #a31515">asp</span><span style="color: blue">:</span><span style="color: #a31515">ScriptManager</span><span style="color: blue">&gt;
    &lt;/</span><span style="color: #a31515">form</span><span style="color: blue">&gt;
&lt;/</span><span style="color: #a31515">body</span><span style="color: blue">&gt;
&lt;/</span><span style="color: #a31515">html</span><span style="color: blue">&gt;
</span></pre>
<p>In the code-behind file , </p>
<pre class="code"><span style="color: blue">using </span>System;
<span style="color: blue">using </span>Microsoft.Live.ServerControls.VE;

<span style="color: blue">public partial class </span><span style="color: #2b91af">_Default </span>: System.Web.UI.<span style="color: #2b91af">Page
</span>{
    <span style="color: blue">protected void </span>Page_Load(<span style="color: blue">object </span>sender, <span style="color: #2b91af">EventArgs </span>e)
    {
        <span style="color: green">//Clear out any mapped locations
        </span>geoRssMap.Clear();
        <span style="color: green">//Create a new shapelayer to import
        </span><span style="color: #2b91af">ShapeLayer </span>geoRssLayer = <span style="color: blue">new </span><span style="color: #2b91af">ShapeLayer</span>();
        <span style="color: green">//Point the shape layer at the data source returning the mapping information
        </span><span style="color: #2b91af">ShapeSourceSpecification </span>georssSpec = <span style="color: blue">new </span><span style="color: #2b91af">ShapeSourceSpecification</span>(
                    <span style="color: #2b91af">DataType</span>.GeoRSS, <span style="color: #a31515">&quot;Services/BlogSvc.svc/Posts&quot;</span>, geoRssLayer
                    );
        <span style="color: green">//Bind the feed to the map
        </span>geoRssMap.ImportShapeLayerData(georssSpec, <span style="color: blue">null</span>, <span style="color: blue">false</span>);
    }
}</pre>
<p><a href="http://11011.net/software/vspaste" mce_href="http://11011.net/software/vspaste"></a></p>
<p>You might be wondering why we need the HookUpWorkAround() function and what it does , I’ll explain that in a later blog post .<br />
  <br />After this , set the web page as the startup page and browse to the page in <strong><em><u>FireFox , </u></em></strong>I’ll explain why Firefox in a later blog post .</p>
<p>And voila !! This is what the page looks like :</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/FF_Ve_Firefox_2.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/FF_Ve_Firefox_2.png" mce_href="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/FF_Ve_Firefox_2.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="FF_Ve_Firefox" border="0" alt="FF_Ve_Firefox" src="/assets/FF_Ve_Firefox_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/FF_Ve_Firefox_thumb.png" width="613" height="484" mce_src="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/FF_Ve_Firefox_thumb.png" /></a></p>
<p>You can download the&#160; sample project that demonstrates this feature by clicking on the link at the bottom of this post</p>
<p>All this demonstrates the <strong>what </strong>and not the <strong>how </strong>, we shall discuss the <strong>how </strong>in future blog posts.</p>
<p>In the meantime ,enjoy this sample app and try out your own mashups.</p>

      </div>

      <a href="/introducing-web-friendly-feeds-aka-friendly-feeds-updated-for-ctp2/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/php-and-astoria-phastoria/">PhP and Astoria = PHASTORIA !!</a></h1>

      <div class="entry">
        <p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/PhPandAstoriaPHASTORIA_A1A6/Phastoria_2.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/PhPandAstoriaPHASTORIA_A1A6/Phastoria_2.jpg"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="Phastoria" border="0" alt="Phastoria" src="/assets/Phastoria_thumb.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/PhPandAstoriaPHASTORIA_A1A6/Phastoria_thumb.jpg" width="384" height="382" /></a> </p>
<p>More details here : <a href="http://blogs.msdn.com/astoriateam/archive/2009/08/21/announcing-the-php-toolkit-for-ado-net-data-services.aspx">Announcing the PHP Toolkit for ADO.NET Data Services</a></p>
<p>Look forward to future posts on this blog about working with the PHP library and Astoria Services.</p>

      </div>

      <a href="/php-and-astoria-phastoria/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/silverlight-toolkit-with-ado-net-data-services-drill-down-charts-using-astoria/">Silverlight toolkit with ADO.NET Data services , Drill-down Charts using Astoria</a></h1>

      <div class="entry">
        <p>Download sample project here :</p>
<p> <iframe style="border-bottom: #dde5e9 1px solid; border-left: #dde5e9 1px solid; padding-bottom: 0px; background-color: #ffffff; margin: 3px; padding-left: 0px; width: 240px; padding-right: 0px; height: 26px; border-top: #dde5e9 1px solid; border-right: #dde5e9 1px solid; padding-top: 0px" marginheight="0" src="http://cid-925c2d2bb2d03c6b.skydrive.live.com/embedrow.aspx/SLToolkitAstoria/SLToolkitWithAstoria%7C_Chart%7C_DrillDown.zip" frameborder="0" marginwidth="0" scrolling="no"></iframe>
<p>In part 2 of this series , we will look at using the Astoria client library to create a drill down chart using the chart types available in the Silverlight toolkit.    <br />You can take a look at the complete samples for the Silverlight toolkit <a href="http://www.codeplex.com/Silverlight/Wiki/View.aspx?title=Silverlight%20Toolkit%20Overview%20Part%202&amp;referringTitle=Silverlight%20Toolkit%20Overview%20Part%201">here</a>.     </p>
<p>This sample builds a UI that looks like this :</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/Silverlighttoolk.NETDataservicesCharting_1428C/ChartDrillDownAstoria_2.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/Silverlighttoolk.NETDataservicesCharting_1428C/ChartDrillDownAstoria_2.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="ChartDrillDownAstoria_2" border="0" alt="ChartDrillDownAstoria_2" src="/assets/ChartDrillDownAstoria_2_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/Silverlighttoolk.NETDataservicesCharting_1428C/ChartDrillDownAstoria_2_thumb.png" width="462" height="474" /></a></p>
<p>The Pie chart represents the distribution of Employees across departments.    <br />Clicking on a specific piece of the pie&#160; brings up the list of the employees in that department.     </p>
<p><strong>Binding the Pie chart      <br /></strong>The Chart control has a Pie series that has the DependentValuePath set to the Count of employees in the department     <br />and the IndependentValuePath set to the name of the department.</p>
<p>Setting the IndependentValuePath is straightforward ,set the IndependentValuePath to the “DepartMentName” property of the Department entity type. The DependentValuePath is a little tricky , as the Department entity doesnt contain aggregation information regarding the employees in the Department . But , it does have the employees as an ObservableCollection of Employee types . So , we can get the count by assigning the DependentValuePath to be the expression “Employees.Count” which gets the Count property of the IList. Unfortunately ,&#160; this means that the Employees will also have to be downloaded when you bind the Departments. In another post , I will discuss how to lazy load the employees list and still get this aggregation.</p>
<p><strong>XAML for Pie Series in Chart </strong></p>
<pre class="code"><span style="background: #10100d; color: #a1b070">  &lt;</span><span style="background: #10100d; color: #d6d694">chartingToolkit</span><span style="background: #10100d; color: #a1b070">:</span><span style="background: #10100d; color: #d6d694">Chart </span><span style="background: #10100d; color: #009b00">x</span><span style="background: #10100d; color: #a1b070">:</span><span style="background: #10100d; color: #009b00">Name</span><span style="background: #10100d; color: #a1b070">=</span><span style="background: #10100d; color: #44b1e3">&quot;chEmployeesByDepartment&quot; <br />       </span><span style="background: #10100d; color: #009b00">Title</span><span style="background: #10100d; color: #a1b070">=</span><span style="background: #10100d; color: #44b1e3">&quot;# Employees/Department&quot; </span><span style="background: #10100d; color: #009b00">IsEnabled</span><span style="background: #10100d; color: #a1b070">=</span><span style="background: #10100d; color: #44b1e3">&quot;true&quot; </span><span style="background: #10100d; color: #009b00">Height</span><span style="background: #10100d; color: #a1b070">=</span><span style="background: #10100d; color: #44b1e3">&quot;300&quot;</span><span style="background: #10100d; color: #a1b070">&gt;
      &lt;</span><span style="background: #10100d; color: #d6d694">chartingToolkit</span><span style="background: #10100d; color: #a1b070">:</span><span style="background: #10100d; color: #d6d694">Chart.Series</span><span style="background: #10100d; color: #a1b070">&gt;
         &lt;</span><span style="background: #10100d; color: #d6d694">chartingToolkit</span><span style="background: #10100d; color: #a1b070">:</span><span style="background: #10100d; color: #d6d694">PieSeries    <br />                </span><span style="background: #10100d; color: #009b00">x</span><span style="background: #10100d; color: #a1b070">:</span><span style="background: #10100d; color: #009b00">Name</span><span style="background: #10100d; color: #a1b070">=</span><span style="background: #10100d; color: #44b1e3">&quot;lnSeries&quot;
                </span><span style="background: #10100d; color: #009b00">IndependentValuePath </span><span style="background: #10100d; color: #a1b070">=</span><span style="background: #10100d; color: #44b1e3">&quot;DepartMentName&quot;
                </span><span style="background: #10100d; color: #009b00">DependentValuePath </span><span style="background: #10100d; color: #a1b070">=</span><span style="background: #10100d; color: #44b1e3">&quot;Employees.Count&quot;
                </span><span style="background: #10100d; color: #009b00">SelectionChanged</span><span style="background: #10100d; color: #a1b070">=</span><span style="background: #10100d; color: #44b1e3">&quot;DepartmentSelected&quot;
                </span><span style="background: #10100d; color: #009b00">IsSelectionEnabled </span><span style="background: #10100d; color: #a1b070">=</span><span style="background: #10100d; color: #44b1e3">&quot;True&quot; </span><span style="background: #10100d; color: #a1b070">&gt;
         &lt;/</span><span style="background: #10100d; color: #d6d694">chartingToolkit</span><span style="background: #10100d; color: #a1b070">:</span><span style="background: #10100d; color: #d6d694">PieSeries</span><span style="background: #10100d; color: #a1b070">&gt;
      &lt;/</span><span style="background: #10100d; color: #d6d694">chartingToolkit</span><span style="background: #10100d; color: #a1b070">:</span><span style="background: #10100d; color: #d6d694">Chart.Series</span><span style="background: #10100d; color: #a1b070">&gt;
  &lt;/</span><span style="background: #10100d; color: #d6d694">chartingToolkit</span><span style="background: #10100d; color: #a1b070">:</span><span style="background: #10100d; color: #d6d694">Chart</span><span style="background: #10100d; color: #a1b070">&gt;</span></pre>
<p><a href="http://11011.net/software/vspaste"></a></p>
<p>
  </p>
<p><a href="http://11011.net/software/vspaste"></a></p>
<p><strong>The function to bind the Pie series with the Department information</strong></p>
<pre class="code"><span style="background: #10100d; color: #d6d694"> private void </span><span style="background: #10100d; color: #e8e8e8">LoadDepartmentsAndEmployees</span><span style="background: #10100d; color: #a79a86">() {
    </span><span style="background: #10100d; color: #009b00">DataServiceQuery</span><span style="background: #10100d; color: #80ff00">&lt;</span><span style="background: #10100d; color: #009b00">Department</span><span style="background: #10100d; color: #80ff00">&gt; </span><span style="background: #10100d; color: #e8e8e8">deptQueryWithEmployees </span><span style="background: #10100d; color: #80ff00">= </span><span style="background: #10100d; color: #e8e8e8">context</span><span style="background: #10100d; color: #80ff00">.</span><span style="background: #10100d; color: #e8e8e8">Departments</span><span style="background: #10100d; color: #80ff00">.</span><span style="background: #10100d; color: #e8e8e8">Expand</span><span style="background: #10100d; color: #a79a86">(</span><span style="background: #10100d; color: #44b1e3">&quot;Employees&quot;</span><span style="background: #10100d; color: #a79a86">) <br />                                 </span><span style="background: #10100d; color: #d6d694">as </span><span style="background: #10100d; color: #009b00">DataServiceQuery</span><span style="background: #10100d; color: #80ff00">&lt;</span><span style="background: #10100d; color: #009b00">Department</span><span style="background: #10100d; color: #80ff00">&gt;</span><span style="background: #10100d; color: #a79a86">;
    </span><span style="background: #10100d; color: #e8e8e8">deptQueryWithEmployees</span><span style="background: #10100d; color: #80ff00">.</span><span style="background: #10100d; color: #e8e8e8">QueryAndCall</span><span style="background: #10100d; color: #a79a86">(
       (</span><span style="background: #10100d; color: #e8e8e8">deparmentStatistics</span><span style="background: #10100d; color: #a79a86">) </span><span style="background: #10100d; color: #80ff00">=&gt;  </span><span style="background: #10100d; color: #a79a86">{
          </span><span style="background: #10100d; color: #e8e8e8">Dispatcher</span><span style="background: #10100d; color: #80ff00">.</span><span style="background: #10100d; color: #e8e8e8">BeginInvoke</span><span style="background: #10100d; color: #a79a86">(
           () </span><span style="background: #10100d; color: #80ff00">=&gt;  </span><span style="background: #10100d; color: #a79a86">{
                </span><span style="background: #10100d; color: #009b00">PieSeries </span><span style="background: #10100d; color: #e8e8e8">series </span><span style="background: #10100d; color: #80ff00">= </span><span style="background: #10100d; color: #e8e8e8">chEmployeesByDepartment</span><span style="background: #10100d; color: #80ff00">.</span><span style="background: #10100d; color: #e8e8e8">Series</span><span style="background: #10100d; color: #a79a86">[</span><span style="background: #10100d; color: cyan">0</span><span style="background: #10100d; color: #a79a86">] </span><span style="background: #10100d; color: #d6d694">as </span><span style="background: #10100d; color: #009b00">PieSeries</span><span style="background: #10100d; color: #a79a86">;
                </span><span style="background: #10100d; color: #e8e8e8">series</span><span style="background: #10100d; color: #80ff00">.</span><span style="background: #10100d; color: #e8e8e8">ItemsSource </span><span style="background: #10100d; color: #80ff00">= </span><span style="background: #10100d; color: #e8e8e8">deparmentStatistics</span><span style="background: #10100d; color: #a79a86">;
               }
            );
         }); }</span></pre>
<p><a href="http://11011.net/software/vspaste"></a></p>
<p><strong>Populating employee information when a department is selected in the Pie Series<br />
    <br /></strong>We need to setup the Pie Series in the chart control to allow selection of chart points&#160; and hook into the</p>
<p>SelectionChanged event of the Pie Series. We do this by:</p>
<ol>
<li>Setting IsSelectionEnabled to true on the Pie Series </li>
<li>Hooking up to the SelectionChanged event of the Pie Series </li>
</ol>
<pre class="code"><span style="background: #10100d; color: #a79a86">        </span><span style="background: #10100d; color: #d6d694">private void </span><span style="background: #10100d; color: #e8e8e8">DepartmentSelected</span><span style="background: #10100d; color: #a79a86">(</span><span style="background: #10100d; color: #d6d694">object </span><span style="background: #10100d; color: #e8e8e8">sender</span><span style="background: #10100d; color: #a79a86">, </span><span style="background: #10100d; color: #009b00">SelectionChangedEventArgs </span><span style="background: #10100d; color: #e8e8e8">e</span><span style="background: #10100d; color: #a79a86">) {
            </span><span style="background: #10100d; color: #ff0080">//Get the series that caused this  event to be raised
            </span><span style="background: #10100d; color: #009b00">PieSeries </span><span style="background: #10100d; color: #e8e8e8">series </span><span style="background: #10100d; color: #80ff00">= </span><span style="background: #10100d; color: #e8e8e8">sender </span><span style="background: #10100d; color: #d6d694">as </span><span style="background: #10100d; color: #009b00">PieSeries</span><span style="background: #10100d; color: #a79a86">;
            </span><span style="background: #10100d; color: #ff0080">//Get the current selected department in the Series
            </span><span style="background: #10100d; color: #009b00">Department </span><span style="background: #10100d; color: #e8e8e8">selectedDepartment </span><span style="background: #10100d; color: #80ff00">= </span><span style="background: #10100d; color: #e8e8e8">series</span><span style="background: #10100d; color: #80ff00">.</span><span style="background: #10100d; color: #e8e8e8">SelectedItem </span><span style="background: #10100d; color: #d6d694">as </span><span style="background: #10100d; color: #009b00">Department</span><span style="background: #10100d; color: #a79a86">;
            </span><span style="background: #10100d; color: #d6d694">if </span><span style="background: #10100d; color: #a79a86">(</span><span style="background: #10100d; color: #e8e8e8">selectedDepartment </span><span style="background: #10100d; color: #80ff00">!= </span><span style="background: #10100d; color: #d6d694">null</span><span style="background: #10100d; color: #a79a86">) {
                </span><span style="background: #10100d; color: #ff0080">//Set the title of the data grid
                </span><span style="background: #10100d; color: #e8e8e8">lblSelectedDepartment</span><span style="background: #10100d; color: #80ff00">.</span><span style="background: #10100d; color: #e8e8e8">Text </span><span style="background: #10100d; color: #80ff00">= </span><span style="background: #10100d; color: #009b00">String</span><span style="background: #10100d; color: #80ff00">.</span><span style="background: #10100d; color: #e8e8e8">Format</span><span style="background: #10100d; color: #a79a86">(</span><span style="background: #10100d; color: #e8e8e8">strSelectedDepartmentMessage</span><span style="background: #10100d; color: #a79a86">, </span><span style="background: #10100d; color: #e8e8e8">selectedDepartment</span><span style="background: #10100d; color: #80ff00">.</span><span style="background: #10100d; color: #e8e8e8">DepartMentName</span><span style="background: #10100d; color: #a79a86">);
                </span><span style="background: #10100d; color: #ff0080">//Bind the employee grid with the employees for this department
                </span><span style="background: #10100d; color: #e8e8e8">dgEmployees</span><span style="background: #10100d; color: #80ff00">.</span><span style="background: #10100d; color: #e8e8e8">ItemsSource </span><span style="background: #10100d; color: #80ff00">= </span><span style="background: #10100d; color: #e8e8e8">selectedDepartment</span><span style="background: #10100d; color: #80ff00">.</span><span style="background: #10100d; color: #e8e8e8">Employees</span><span style="background: #10100d; color: #a79a86">;
            }
        }      </span></pre>
<p><a href="http://11011.net/software/vspaste"></a></p>
<p>Download sample project here :</p>
<p><iframe style="border-bottom: #dde5e9 1px solid; border-left: #dde5e9 1px solid; padding-bottom: 0px; background-color: #ffffff; margin: 3px; padding-left: 0px; width: 240px; padding-right: 0px; height: 26px; border-top: #dde5e9 1px solid; border-right: #dde5e9 1px solid; padding-top: 0px" marginheight="0" src="http://cid-925c2d2bb2d03c6b.skydrive.live.com/embedrow.aspx/SLToolkitAstoria/SLToolkitWithAstoria%7C_Chart%7C_DrillDown.zip" frameborder="0" marginwidth="0" scrolling="no"></iframe></p>

      </div>

      <a href="/silverlight-toolkit-with-ado-net-data-services-drill-down-charts-using-astoria/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/silverlight-toolkit-with-ado-net-data-services-master-details-with-accordion/">Silverlight toolkit with ADO.NET Data services , Master-Details with Accordion</a></h1>

      <div class="entry">
        <p>Download the sample Silverlight project here : </p>
<p> <iframe style="border-bottom: #dde5e9 1px solid; border-left: #dde5e9 1px solid; padding-bottom: 0px; background-color: #ffffff; margin: 3px; padding-left: 0px; width: 240px; padding-right: 0px; height: 26px; border-top: #dde5e9 1px solid; border-right: #dde5e9 1px solid; padding-top: 0px" marginheight="0" src="http://cid-925c2d2bb2d03c6b.skydrive.live.com/embedrow.aspx/SLToolkitAstoria/SLToolkitWithAstoria.zip" frameborder="0" marginwidth="0" scrolling="no"></iframe>
<p>About the Silverlight toolkit&#160; , </p>
<p>From their Codeplex page : <a title="http://silverlight.codeplex.com/" href="http://silverlight.codeplex.com/">http://silverlight.codeplex.com/</a></p>
<p><em>“The Silverlight Toolkit is a collection of Silverlight controls, components and utilities made available outside the normal Silverlight release cycle”</em></p>
<p>In the first of a series I am planning , we will talk about how to achieve a Master-Child display using the Accordion control&#160; <br />from the Silverlight Toolkit control.</p>
<p>The data model we will be binding looks like this :</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/Silverlighttoolk.NETDataservicesTreeView_10E57/SLToolkitAccordion_DataModel.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/Silverlighttoolk.NETDataservicesTreeView_10E57/SLToolkitAccordion_DataModel.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="SLToolkitAccordion_DataModel" border="0" alt="SLToolkitAccordion_DataModel" src="/assets/SLToolkitAccordion_DataModel_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/Silverlighttoolk.NETDataservicesTreeView_10E57/SLToolkitAccordion_DataModel_thumb.png" width="547" height="191" /></a> </p>
<p>Type Employee has a property called Department of type Department.    <br />Type Department has a collection of type Employee called Employees.</p>
<p>Employee and Department are related 1..1    <br />Department and Employee are related 1..M</p>
<p>We want to bind the Department names to the header of the Accordion and    <br />the employees as a list inside the content of the accordion.     <br />When we are done , the final output should look like this :</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/Silverlighttoolk.NETDataservicesTreeView_10E57/SLTOolkit_Accordionoutput.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/Silverlighttoolk.NETDataservicesTreeView_10E57/SLTOolkit_Accordionoutput.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="SLTOolkit_Accordionoutput" border="0" alt="SLTOolkit_Accordionoutput" src="/assets/SLTOolkit_Accordionoutput_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/Silverlighttoolk.NETDataservicesTreeView_10E57/SLTOolkit_Accordionoutput_thumb.png" width="464" height="115" /></a></p>
<p><strong>Configuring the header to show the DepartmentName</strong></p>
<p>The Header template of the Accordion has a textblock which binds to the DepartMentName property of the    <br />Department entity.     </p>
<pre class="code"><span style="color: blue"> &lt;</span><span style="color: #a31515">layoutToolkit</span><span style="color: blue">:</span><span style="color: #a31515">Accordion.HeaderTemplate </span><span style="color: blue">&gt;
       &lt;</span><span style="color: #a31515">DataTemplate</span><span style="color: blue">&gt;
            &lt;</span><span style="color: #a31515">TextBlock </span><span style="color: red">Text</span><span style="color: blue">=&quot;{</span><span style="color: #a31515">Binding </span><span style="color: red">Path</span><span style="color: blue">=DepartMentName}&quot;&gt;&lt;/</span><span style="color: #a31515">TextBlock</span><span style="color: blue">&gt;
       &lt;/</span><span style="color: #a31515">DataTemplate</span><span style="color: blue">&gt;
 &lt;/</span><span style="color: #a31515">layoutToolkit</span><span style="color: blue">:</span><span style="color: #a31515">Accordion.HeaderTemplate</span><span style="color: blue">&gt;</span></pre>
<p><strong>Configuring the content to show the names of the employees working in the department.</strong></p>
<p>The content of the Accordion pane would be a list box which is bound to the Employees collection of the Department<br />
  <br />entity type and shows the EmployeeName as the DisplayMember.</p>
<p></p>
<pre class="code"><span style="color: blue">&lt;</span><span style="color: #a31515">layoutToolkit</span><span style="color: blue">:</span><span style="color: #a31515">Accordion.ContentTemplate</span><span style="color: blue">&gt;
      &lt;</span><span style="color: #a31515">DataTemplate</span><span style="color: blue">&gt;
          &lt;</span><span style="color: #a31515">ListBox </span><span style="color: red">ItemsSource</span><span style="color: blue">=&quot;{</span><span style="color: #a31515">Binding </span><span style="color: red">Employees</span><span style="color: blue">}&quot; </span><span style="color: red">DisplayMemberPath</span><span style="color: blue">=&quot;EmployeeName&quot;&gt;
          &lt;/</span><span style="color: #a31515">ListBox</span><span style="color: blue">&gt;
      &lt;/</span><span style="color: #a31515">DataTemplate</span><span style="color: blue">&gt;
&lt;/</span><span style="color: #a31515">layoutToolkit</span><span style="color: blue">:</span><span style="color: #a31515">Accordion.ContentTemplate</span><span style="color: blue">&gt;</span></pre>
<p><a href="http://11011.net/software/vspaste"></a></p>
<p>To write the Silverlight client code for this project ,we will need to generate the Client classes with Databinding enabled.<br />
  <br />As shown in <a href="http://blogs.msdn.com/astoriateam/archive/2009/03/21/ado-net-data-services-v1-5-ctp1-data-binding-overview.aspx">this article</a> on our team blog .</p>
<p>Once this is done , we have two ways of binding the accordion ,<br />
  <br />Eager Loading : Download the employees for a department when you download the departments</p>
<p>Lazy Load : Download the employees for a department when the header of an accordion pane , i.e Department is clicked.</p>
<p><strong>Eager Loading :</strong></p>
<pre class="code"><span style="color: #2b91af">DataServiceQuery</span>&lt;<span style="color: #2b91af">Department</span>&gt; deptQueryWithEmployees = context.Departments.Expand(<span style="color: #a31515">&quot;Employees&quot;</span>) <span style="color: blue">as </span><span style="color: #2b91af">DataServiceQuery</span>&lt;<span style="color: #2b91af">Department</span>&gt;;<br />deptQueryWithEmployees.QueryAndBind(acDepartments);</pre>
<p><a href="http://11011.net/software/vspaste"></a><a href="http://11011.net/software/vspaste"></a></p>
<p>Since the query part itself isnt interesting in the context of this blog post , I’ve abstracted away the querying into an extension method ( QueryAndBind ) and will be available as part of the download.<br />
  </p>
<p>Here , as you can see , we are eager loading the Employees for the departments .<br />
  <br />I feel that this is wasteful if you have a large number of departments as this not only increases the amount of data on the wire , but it also means that all the data that comes down the wire will be useful .</p>
<p>For example, if you have about 15 departments and a user may click on 5 or less departments , then downloading employees for all the 15 departments seems inefficient.<br />
  </p>
<p><strong>Xaml for Eager Loading</strong></p>
<pre class="code"><span style="color: blue">&lt;</span><span style="color: #a31515">layoutToolkit</span><span style="color: blue">:</span><span style="color: #a31515">Accordion </span><span style="color: red">x</span><span style="color: blue">:</span><span style="color: red">Name</span><span style="color: blue">=&quot;acDepartments&quot; </span><span style="color: red">Width</span><span style="color: blue">=&quot;400&quot;&gt;
    &lt;</span><span style="color: #a31515">layoutToolkit</span><span style="color: blue">:</span><span style="color: #a31515">Accordion.HeaderTemplate </span><span style="color: blue">&gt;
        &lt;</span><span style="color: #a31515">DataTemplate</span><span style="color: blue">&gt;
            &lt;</span><span style="color: #a31515">TextBlock </span><span style="color: red">Text</span><span style="color: blue">=&quot;{</span><span style="color: #a31515">Binding </span><span style="color: red">Path</span><span style="color: blue">=DepartMentName}&quot;&gt;&lt;/</span><span style="color: #a31515">TextBlock</span><span style="color: blue">&gt;
        &lt;/</span><span style="color: #a31515">DataTemplate</span><span style="color: blue">&gt;
    &lt;/</span><span style="color: #a31515">layoutToolkit</span><span style="color: blue">:</span><span style="color: #a31515">Accordion.HeaderTemplate</span><span style="color: blue">&gt;
    &lt;</span><span style="color: #a31515">layoutToolkit</span><span style="color: blue">:</span><span style="color: #a31515">Accordion.ContentTemplate</span><span style="color: blue">&gt;
        &lt;</span><span style="color: #a31515">DataTemplate</span><span style="color: blue">&gt;
            &lt;</span><span style="color: #a31515">ListBox </span><span style="color: red">ItemsSource</span><span style="color: blue">=&quot;{</span><span style="color: #a31515">Binding </span><span style="color: red">Employees</span><span style="color: blue">}&quot; </span><span style="color: red">DisplayMemberPath</span><span style="color: blue">=&quot;EmployeeName&quot;&gt;
            &lt;/</span><span style="color: #a31515">ListBox</span><span style="color: blue">&gt;
        &lt;/</span><span style="color: #a31515">DataTemplate</span><span style="color: blue">&gt;
    &lt;/</span><span style="color: #a31515">layoutToolkit</span><span style="color: blue">:</span><span style="color: #a31515">Accordion.ContentTemplate</span><span style="color: blue">&gt;
&lt;/</span><span style="color: #a31515">layoutToolkit</span><span style="color: blue">:</span><span style="color: #a31515">Accordion</span><span style="color: blue">&gt;</span></pre>
<p><a href="http://11011.net/software/vspaste"></a></p>
<p><strong>Lazy Loading :<br />
    <br /></strong>In this case , we will only bind the Headers and&#160; will bind the Employees only if the header is clicked for that department. In the Silverlight Accordion control , the event SelectionChanged is fired when the header of an Accordion Pane is clicked.</p>
<p>By listening to this event , we can find out which department was clicked and load the Employees for that department using BeginLoadProperty .</p>
<p></p>
<pre class="code"><span style="color: blue">public </span>DelayLoad() {
           InitializeComponent();
           context = <span style="color: blue">new </span><span style="color: #2b91af">TreeViewDataProvider</span>(<span style="color: blue">new </span><span style="color: #2b91af">Uri</span>(<span style="color: #a31515">&quot;TreeViewDataService.svc&quot;</span>, <span style="color: #2b91af">UriKind</span>.RelativeOrAbsolute));
           LoadDepartments();
}
<span style="color: blue">private void </span>LoadDepartments(){
    ((<span style="color: #2b91af">DataServiceQuery</span>&lt;<span style="color: #2b91af">Department</span>&gt;)context.Departments).QueryAndBind(acDepartments);
}</pre>
<p>We will subscribe to the SelectionChanged event of the Accordion and add “LoadEmployeesForDepartment” as the event handler.</p>
<pre class="code"><span style="color: blue">private void </span>LoadEmployeesForDepartment(<span style="color: blue">object </span>sender, <span style="color: #2b91af">SelectionChangedEventArgs </span>e)
        {
            <span style="color: green">//The sender is the control that raised the event
            </span><span style="color: #2b91af">Accordion </span>acControl = sender <span style="color: blue">as </span><span style="color: #2b91af">Accordion</span>;
            <span style="color: green">//Get the Selected Department
            </span><span style="color: #2b91af">Department </span>selectedDepartment = acControl.SelectedItem <span style="color: blue">as </span><span style="color: #2b91af">Department</span>;
            <span style="color: blue">if </span>(
                <span style="color: green">//If the Selected object is department
                </span>selectedDepartment != <span style="color: blue">null
                </span>&amp;&amp; (
                <span style="color: green">// If the Employees collection is null or empty
                </span>selectedDepartment.Employees == <span style="color: blue">null </span>|| selectedDepartment.Employees.Count == 0)
                )
            {
                <span style="color: green">//Call load property , which updates the Employees collection of this instance
                //and the UI automatically updates itself, since Department type implements INotifyPropertyChanged
                </span>context.LoadPropertyAndCall&lt;<span style="color: #2b91af">Employee</span>&gt;(selectedDepartment, <span style="color: #a31515">&quot;Employees&quot;</span>,
                    <span style="color: blue">null</span>);
            }

        }</pre>
<p><a href="http://11011.net/software/vspaste"></a></p>
<p><strong>XAML for Delay Load :</strong></p>
<pre class="code"><span style="color: blue">&lt;</span><span style="color: #a31515">layoutToolkit</span><span style="color: blue">:</span><span style="color: #a31515">Accordion </span><span style="color: red">x</span><span style="color: blue">:</span><span style="color: red">Name</span><span style="color: blue">=&quot;acDepartments&quot; </span><span style="color: red">SelectionChanged</span><span style="color: blue">=&quot;LoadEmployeesForDepartment&quot;&gt;
    &lt;</span><span style="color: #a31515">layoutToolkit</span><span style="color: blue">:</span><span style="color: #a31515">Accordion.HeaderTemplate </span><span style="color: blue">&gt;
        &lt;</span><span style="color: #a31515">DataTemplate</span><span style="color: blue">&gt;
            &lt;</span><span style="color: #a31515">TextBlock </span><span style="color: red">Text</span><span style="color: blue">=&quot;{</span><span style="color: #a31515">Binding </span><span style="color: red">Path</span><span style="color: blue">=DepartMentName}&quot;&gt;&lt;/</span><span style="color: #a31515">TextBlock</span><span style="color: blue">&gt;
        &lt;/</span><span style="color: #a31515">DataTemplate</span><span style="color: blue">&gt;
    &lt;/</span><span style="color: #a31515">layoutToolkit</span><span style="color: blue">:</span><span style="color: #a31515">Accordion.HeaderTemplate</span><span style="color: blue">&gt;
    &lt;</span><span style="color: #a31515">layoutToolkit</span><span style="color: blue">:</span><span style="color: #a31515">Accordion.ContentTemplate</span><span style="color: blue">&gt;
        &lt;</span><span style="color: #a31515">DataTemplate</span><span style="color: blue">&gt;
            &lt;</span><span style="color: #a31515">ListBox </span><span style="color: red">ItemsSource</span><span style="color: blue">=&quot;{</span><span style="color: #a31515">Binding </span><span style="color: red">Employees</span><span style="color: blue">}&quot; </span><span style="color: red">DisplayMemberPath</span><span style="color: blue">=&quot;EmployeeName&quot;&gt;
            &lt;/</span><span style="color: #a31515">ListBox</span><span style="color: blue">&gt;
        &lt;/</span><span style="color: #a31515">DataTemplate</span><span style="color: blue">&gt;
    &lt;/</span><span style="color: #a31515">layoutToolkit</span><span style="color: blue">:</span><span style="color: #a31515">Accordion.ContentTemplate</span><span style="color: blue">&gt;
&lt;/</span><span style="color: #a31515">layoutToolkit</span><span style="color: blue">:</span><span style="color: #a31515">Accordion</span><span style="color: blue">&gt;</span></pre>
<p><a href="http://11011.net/software/vspaste"></a></p>
<p>Download the sample Silverlight project here : </p>
<p><iframe style="border-bottom: #dde5e9 1px solid; border-left: #dde5e9 1px solid; padding-bottom: 0px; background-color: #ffffff; margin: 3px; padding-left: 0px; width: 240px; padding-right: 0px; height: 26px; border-top: #dde5e9 1px solid; border-right: #dde5e9 1px solid; padding-top: 0px" marginheight="0" src="http://cid-925c2d2bb2d03c6b.skydrive.live.com/embedrow.aspx/SLToolkitAstoria/SLToolkitWithAstoria.zip" frameborder="0" marginwidth="0" scrolling="no"></iframe></p>
<p><strong>Running the sample app </strong></p>
<ol>
<li>Set SLToolkitWithAstoriaWeb as the Start-up project. </li>
<li>Set SLToolkitWithAstoriaTestPage.html as the start-up page. </li>
<li>To run the EagerLoading sample , just hit F5 </li>
<li>To run the DelayLoad sample , follow a-c and add the Query string ?delayLoad to the address bar in the browser that comes up. </li>
</ol>

      </div>

      <a href="/silverlight-toolkit-with-ado-net-data-services-master-details-with-accordion/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/set-based-operations-in-ado-net-data-services-part-ii/">Set Based Operations in Ado.net Data Services Part II</a></h1>

      <div class="entry">
        <p>As an extension to the last blog post dealing with <a href="http://blogs.msdn.com/phaniraj/archive/2008/07/17/set-based-operations-in-ado-net-data-services.aspx" mce_href="http://blogs.msdn.com/phaniraj/archive/2008/07/17/set-based-operations-in-ado-net-data-services.aspx">Set based filter operations in our client library</a> ,<br />we will introduce support for the specifying method calls in the filter expression.</p>
<p><b>What does this achieve ?</b><br />Currently , the IsIn operator only supports an equality comparision. <br />With support for Method Calls , you can now select entities in a set which when passed to a method , evaluate true. ex: You can generate Uris such as this : </p>
<ol>
<li>/northwind.svc/Customers?$filter = substringof('London',City) or substringof('Berlin',City) or substringof('Prague',City)
</li>
<li>/northwind.svc/Customers?$filter = startswith('London',City) or startswith('Berlin',City) or startswith('Prague',City)
</li>
<li>/northwind.svc/Customers?$filter = endswith('London',City) or endswith('Berlin',City) or endswith('Prague',City) </li>
</ol>
<p>Fortunately , not a lot of code change is required to get this support.</p>
<p>We will change the first parameter of the extension method from </p>
<pre class="code"><span style="COLOR: #2b91af">Expression</span>&lt;<span style="COLOR: #2b91af">Func</span>&lt;TEntity, <span style="COLOR: blue">object</span>&gt;&gt; propertyExpression</pre>
<p><a href="http://11011.net/software/vspaste" mce_href="http://11011.net/software/vspaste"></a></p>
<p>to </p>
<pre class="code"><span style="COLOR: #2b91af">Expression</span>&lt;<span style="COLOR: #2b91af">Func</span>&lt;TEntity, TValue, <span style="COLOR: blue">bool</span>&gt;&gt; comparisionInvokeExpression</pre>
<p><a href="http://11011.net/software/vspaste" mce_href="http://11011.net/software/vspaste"></a></p>
<p>which means that where we were initially sending an expression that selects a property of the entity , we now send the Extension method a delegate that accepts the entity and the value being compared against it and returns a boolean value after comparison using a method.</p>
<p><a href="http://11011.net/software/vspaste" mce_href="http://11011.net/software/vspaste"></a></p>
<p>example : </p>
<pre class="code"><span style="COLOR: #2b91af">Expression</span>&lt;<span style="COLOR: #2b91af">Func</span>&lt;T, <span style="COLOR: blue">object</span>&gt;&gt; propertyExpression <strong><em>means</em></strong></pre>
<pre class="code">customer =&gt; customer.City</pre>
<pre class="code"><span style="COLOR: #2b91af">Expression</span>&lt;<span style="COLOR: #2b91af">Func</span>&lt;TEntity, TValue, <span style="COLOR: blue">bool</span>&gt;&gt; comparisionInvokeExpression <strong><em>means</em></strong></pre>
<p><a href="http://11011.net/software/vspaste" mce_href="http://11011.net/software/vspaste"></a>
<pre class="code">(cust, cityName) =&gt; cust.City.ToLower().StartsWith(cityName)</pre>
<p><a href="http://11011.net/software/vspaste" mce_href="http://11011.net/software/vspaste"></a></p>
<p>The second change is in the location where we build the comparision expression for values in the set. <br />we change the line which does the comparision using Expression.Equal with a method call to the comparision expression passed in . <br />We will change&nbsp; :</p>
<pre class="code"><span style="COLOR: green">//Build a comparision expression which equats the Id of the ENtity with this value in the IDs list
// ex : e.Id == 1
</span><span style="COLOR: #2b91af">Expression </span>comparison = <span style="COLOR: #2b91af">Expression</span>.Equal(left, <span style="COLOR: #2b91af">Expression</span>.Constant(id));</pre>
<p>to : 
<pre class="code"><span style="COLOR: green">//The Left Hand Side of the Filter Expression
</span><span style="COLOR: #2b91af">MethodCallExpression </span>comaprisionMethod = comparisionInvokeExpression.Body <span style="COLOR: blue">as </span><span style="COLOR: #2b91af">MethodCallExpression</span>;</pre>
<pre class="code"><span style="COLOR: green">//Build a comparision expression which calls the method that does the comparision for us
//ex : c=&gt; c.City.Contains(id)
</span><span style="COLOR: #2b91af">Expression </span>comparison = <span style="COLOR: #2b91af">Expression</span>.Call(
                        comaprisionMethod.Object,
                        comaprisionMethod.Method,
                        <span style="COLOR: #2b91af">Expression</span>.Constant(id) );</pre>
<p><a href="http://11011.net/software/vspaste" mce_href="http://11011.net/software/vspaste"></a><a href="http://11011.net/software/vspaste" mce_href="http://11011.net/software/vspaste"></a></p>
<p>The complete code sample is here : <br />
<script src="http://gist.github.com/117227.js" mce_src="http://gist.github.com/117227.js"></script></p>

      </div>

      <a href="/set-based-operations-in-ado-net-data-services-part-ii/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/going-to-tech-ed/">Going to Tech Ed</a></h1>

      <div class="entry">
        <p>I'll be joining Shayne Burgess&nbsp;and Mike Flasko at Tech Ed in LA . </p>
<p>If you have question/feedback about project Astoria , please drop by the Data Development Technical Learning Center booth at Tech Ed. </p>
<p>Here's the times at which I'll be available at the TLC booth.</p>
<table style="BORDER-COLLAPSE: collapse" border="0">
<colgroup>
<col style="WIDTH: 214px" />
<col style="WIDTH: 193px" />
<col style="WIDTH: 207px" /></colgroup>
<tbody valign="top">
<tr style="BACKGROUND: white; HEIGHT: 16px">
<td style="BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; PADDING-LEFT: 7px; PADDING-RIGHT: 7px; BORDER-TOP: medium none; BORDER-RIGHT: medium none" colspan="3">&nbsp;</td>
</tr>
<tr style="HEIGHT: 16px">
<td style="BORDER-BOTTOM: #4bacc6 1pt solid; BORDER-LEFT: medium none; PADDING-LEFT: 7px; PADDING-RIGHT: 7px; BACKGROUND: white; BORDER-TOP: medium none; BORDER-RIGHT: #4bacc6 0.75pt solid">
<p><span style="COLOR: black"><strong>Tuesday, May 12, 2009</strong></span></p>
</td>
<td style="BORDER-BOTTOM: #4bacc6 1pt solid; BORDER-LEFT: medium none; PADDING-LEFT: 7px; PADDING-RIGHT: 7px; BACKGROUND: #a5d6e3; BORDER-TOP: medium none; BORDER-RIGHT: #4bacc6 0.75pt solid">
<p><span style="COLOR: black"><strong>Area</strong></span>&nbsp;</p>
</td>
<td style="BORDER-BOTTOM: #4bacc6 1pt solid; BORDER-LEFT: medium none; PADDING-LEFT: 7px; PADDING-RIGHT: 7px; BACKGROUND: #a5d6e3; BORDER-TOP: medium none; BORDER-RIGHT: #4bacc6 1pt solid">
<p><span style="COLOR: black"><strong>Station</strong></span>&nbsp;</p>
</td>
</tr>
<tr style="HEIGHT: 47px">
<td style="BORDER-BOTTOM: #4bacc6 1pt solid; BORDER-LEFT: medium none; PADDING-LEFT: 7px; PADDING-RIGHT: 7px; BACKGROUND: white; BORDER-TOP: medium none; BORDER-RIGHT: #4bacc6 1pt solid">
<p><span style="COLOR: black"><strong>9:30 AM - 12:30 PM</strong></span>&nbsp;</p>
</td>
<td style="BORDER-BOTTOM: #4bacc6 1pt solid; BORDER-LEFT: medium none; PADDING-LEFT: 7px; PADDING-RIGHT: 7px; BACKGROUND: #d2eaf1; BORDER-TOP: medium none; BORDER-RIGHT: #4bacc6 1pt solid">
<p><span style="COLOR: black">Developer Tools, Languages and Frameworks</span></p>
</td>
<td style="BORDER-BOTTOM: #4bacc6 1pt solid; BORDER-LEFT: medium none; PADDING-LEFT: 7px; PADDING-RIGHT: 7px; BACKGROUND: #d2eaf1; BORDER-TOP: medium none; BORDER-RIGHT: #4bacc6 1pt solid">
<p><span style="COLOR: black">TLC/BLUE/DTL: Microsoft Data Development</span>&nbsp;</p>
</td>
</tr>
<tr style="HEIGHT: 16px">
<td style="BORDER-BOTTOM: #4bacc6 1pt solid; BORDER-LEFT: medium none; PADDING-LEFT: 7px; PADDING-RIGHT: 7px; BACKGROUND: white; BORDER-TOP: medium none; BORDER-RIGHT: #4bacc6 0.75pt solid">
<p><span style="COLOR: black"><strong>Wednesday, May 13, 2009</strong></span></p>
</td>
<td style="BORDER-BOTTOM: #4bacc6 1pt solid; BORDER-LEFT: medium none; PADDING-LEFT: 7px; PADDING-RIGHT: 7px; BACKGROUND: #a5d6e3; BORDER-TOP: medium none; BORDER-RIGHT: #4bacc6 0.75pt solid">
<p><span style="COLOR: black"><strong>Area</strong></span>&nbsp;</p>
</td>
<td style="BORDER-BOTTOM: #4bacc6 1pt solid; BORDER-LEFT: medium none; PADDING-LEFT: 7px; PADDING-RIGHT: 7px; BACKGROUND: #a5d6e3; BORDER-TOP: medium none; BORDER-RIGHT: #4bacc6 1pt solid">
<p><span style="COLOR: black"><strong>Station</strong></span>&nbsp;</p>
</td>
</tr>
<tr style="HEIGHT: 63px">
<td style="BORDER-BOTTOM: #4bacc6 1pt solid; BORDER-LEFT: medium none; PADDING-LEFT: 7px; PADDING-RIGHT: 7px; BACKGROUND: white; BORDER-TOP: medium none; BORDER-RIGHT: #4bacc6 1pt solid">
<p><span style="COLOR: black"><strong>12:15 PM - 3:15 PM</strong></span>&nbsp;</p>
</td>
<td style="BORDER-BOTTOM: #4bacc6 1pt solid; BORDER-LEFT: medium none; PADDING-LEFT: 7px; PADDING-RIGHT: 7px; BACKGROUND: #d2eaf1; BORDER-TOP: medium none; BORDER-RIGHT: #4bacc6 1pt solid">
<p><span style="COLOR: black">Developer Tools, Languages and Frameworks</span>&nbsp;</p>
</td>
<td style="BORDER-BOTTOM: #4bacc6 1pt solid; BORDER-LEFT: medium none; PADDING-LEFT: 7px; PADDING-RIGHT: 7px; BACKGROUND: #d2eaf1; BORDER-TOP: medium none; BORDER-RIGHT: #4bacc6 1pt solid">
<p><span style="COLOR: black">TLC/BLUE/DTL: Microsoft Data Development</span>&nbsp;</p>
</td>
</tr>
<tr style="HEIGHT: 16px">
<td style="BORDER-BOTTOM: #4bacc6 1pt solid; BORDER-LEFT: medium none; PADDING-LEFT: 7px; PADDING-RIGHT: 7px; BACKGROUND: white; BORDER-TOP: medium none; BORDER-RIGHT: #4bacc6 0.75pt solid">
<p><span style="COLOR: black"><strong>Thursday, May 14, 2009</strong></span></p>
</td>
<td style="BORDER-BOTTOM: #4bacc6 1pt solid; BORDER-LEFT: medium none; PADDING-LEFT: 7px; PADDING-RIGHT: 7px; BACKGROUND: #a5d6e3; BORDER-TOP: medium none; BORDER-RIGHT: #4bacc6 0.75pt solid">
<p><span style="COLOR: black"><strong>Area</strong></span>&nbsp;</p>
</td>
<td style="BORDER-BOTTOM: #4bacc6 1pt solid; BORDER-LEFT: medium none; PADDING-LEFT: 7px; PADDING-RIGHT: 7px; BACKGROUND: #a5d6e3; BORDER-TOP: medium none; BORDER-RIGHT: #4bacc6 1pt solid">
<p><span style="COLOR: black"><strong>Station</strong></span>&nbsp;</p>
</td>
</tr>
<tr style="HEIGHT: 63px">
<td style="BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; PADDING-LEFT: 7px; PADDING-RIGHT: 7px; BACKGROUND: white; BORDER-TOP: medium none; BORDER-RIGHT: #4bacc6 1pt solid">
<p><span style="COLOR: black"><strong>8:00 AM - 11:00 AM</strong></span></p>
</td>
<td style="BORDER-BOTTOM: #4bacc6 1pt solid; BORDER-LEFT: medium none; PADDING-LEFT: 7px; PADDING-RIGHT: 7px; BACKGROUND: #d2eaf1; BORDER-TOP: medium none; BORDER-RIGHT: #4bacc6 1pt solid">
<p><span style="COLOR: black">Developer Tools, Languages and Frameworks</span>&nbsp;</p>
</td>
<td style="BORDER-BOTTOM: #4bacc6 1pt solid; BORDER-LEFT: medium none; PADDING-LEFT: 7px; PADDING-RIGHT: 7px; BACKGROUND: #d2eaf1; BORDER-TOP: medium none; BORDER-RIGHT: #4bacc6 1pt solid">
<p><span style="COLOR: black">TLC/BLUE/DTL: Microsoft Data Development</span>&nbsp;</p>
</td>
</tr>
</tbody>
</table>
<p mce_keep="true">&nbsp;</p>

      </div>

      <a href="/going-to-tech-ed/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/reporting-with-ado-net-data-services-and-telerik-report-viewer/">Reporting with ADO.NET Data Services and Telerik Report Viewer</a></h1>

      <div class="entry">
        <p>Telerik has a range of controls that work with ADO.NET Data Services as the data source . Take a look at them here :</p>
<p><a href="http://blogs.telerik.com/SearchResults.aspx?IndexCatalogue=Blogs&amp;SearchQuery=ado.net%20data%20services" target="_blank" mce_href="http://blogs.telerik.com/SearchResults.aspx?IndexCatalogue=Blogs&amp;SearchQuery=ado.net%20data%20services">ADO.NET Data Services with Telerik Controls</a></p>
<p><a href="http://www.myviewstate.net/blog/post/2009/05/01/A-fresh-starte280a6.aspx" target="_blank" mce_href="http://www.myviewstate.net/blog/post/2009/05/01/A-fresh-starte280a6.aspx">Kevin Babcock</a> has a great post over at Telerik where he talks about <a href="http://blogs.telerik.com/kevinbabcock/posts/09-04-24/connecting_the_dots_ado_net_data_services_and_telerik_reporting.aspx" target="_blank" mce_href="http://blogs.telerik.com/kevinbabcock/posts/09-04-24/connecting_the_dots_ado_net_data_services_and_telerik_reporting.aspx">using ADO.NET Data Services with Telerik Reporting suite</a> .</p>
<p>I wanted to address one small point in the blog post which I felt can be improved upon. </p>
<p><script src="http://gist.github.com/109416.js" mce_src="http://gist.github.com/109416.js"></script></p>
<p>“You might be curious why I chose to iterate through the list of categories in the report parameter value, calling the web service for each one and appending the results to a collection. <br />The reason is that, due to the limitations of ADO.NET Data Services, you can’t use methods like Contains to filter data in your LINQ queries.“</p>
<p>Yes , this is absolutely correct. <br />We don't support the “Contains” operator to select a primitive property of the Entity Type from a given range of values. <br />The client linq implementation doesn't support Contains on Navigation properties is because we don't have a URI Query operator&nbsp; that corresponds to the "Contains" function to select a value from a set. But you can semantically achieve the same effect by “OR”ing a couple of “EQUALS” expressions.</p>
<p>ex: </p>
<p>If A={0,1,2,3}&nbsp; , then A.Contains(B) is equivalent to ( B == A[0] OR B ==A[1] OR B == A[2])</p>
<p>I wrote about achieving this effect here :&nbsp; <a href="http://blogs.msdn.com/phaniraj/archive/2008/07/17/set-based-operations-in-ado-net-data-services.aspx" mce_href="http://blogs.msdn.com/phaniraj/archive/2008/07/17/set-based-operations-in-ado-net-data-services.aspx">Set Based Operations in Ado.net Data Services</a></p>
<p>Now, in this sample , we are filtering an Entity Set (Products) based on the value of a primitive property ( CategoryID ) of a Navigation Property (Categories). <br />Now , since this is the Northwind model Schema, Products are related to categories in a 1..M association and Categories to Products in a 1..M association. </p>
<p>What this means is that the above query can be expressed as :&nbsp; <br /><span style="COLOR: green"></span></p>
<p><script src="http://gist.github.com/109412.js" mce_src="http://gist.github.com/109412.js"></script></p>
<p>Now , this is still not as optimal as it can be , but we reduced the number of round trips as we download only relevant categories and their associated Products. <br />To make this even easier , we use the IsIn&lt;T&gt; extension method I wrote from <a href="http://blogs.msdn.com/phaniraj/archive/2008/07/17/set-based-operations-in-ado-net-data-services.aspx" mce_href="http://blogs.msdn.com/phaniraj/archive/2008/07/17/set-based-operations-in-ado-net-data-services.aspx">Set Based Operations in Ado.net Data Services</a>.</p>
<p><script src="http://gist.github.com/109419.js" mce_src="http://gist.github.com/109419.js"></script></p>
<p>So , there you have it , we reduced the number of network calls and also the lines of code to achieve this filtering.</p>
<p>On a side note , <a href="http://blogs.telerik.com/blogs/09-05-02/saying_goodbye_hellip.aspx" target="_blank" mce_href="http://blogs.telerik.com/blogs/09-05-02/saying_goodbye_hellip.aspx">Kevin has left Telerik</a> and now blogs at : <a title="http://www.myviewstate.net/blog/" href="http://www.myviewstate.net/blog/" mce_href="http://www.myviewstate.net/blog/">http://www.myviewstate.net/blog/</a></p>
<p>All the best for your future endeavours Kevin !!</p>

      </div>

      <a href="/reporting-with-ado-net-data-services-and-telerik-report-viewer/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/ado-net-data-services-friendly-feeds-mapping-edm-types-i/">ADO.NET Data Services Friendly Feeds , Mapping EDM Types - I</a></h1>

      <div class="entry">
        <p>As I mentioned in my <a href="http://blogs.msdn.com/phaniraj/archive/2009/03/18/introducing-web-friendly-feeds-aka-friendly-feeds.aspx" mce_href="http://blogs.msdn.com/phaniraj/archive/2009/03/18/introducing-web-friendly-feeds-aka-friendly-feeds.aspx">last blog post</a> , here are some samples of how to map your entity properties to Atom/custom markup in the atom:entry element. <br />You can apply Friendly Feed mappings on the EDM entity types by adding attributes to the CSDL of the Entity Data Model . <br />We will focus on the kinds of mappings and how to achieve them . </p>
<p><strong>Pre-requisites </p>
<p></strong>1. To edit the CSDL , you will need to open the EDM model in Xml view .To do this , right-click the EDM model (.EDMX file ) in Visual Studio <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; and select “Open with”-&gt;”Xml Editor” . <br />2. Add a reference to this namespace in the <strong>&lt;edmx:ConceptualModels&gt; </strong>node&nbsp; of the CSDL section in the EDMX file : <br />&nbsp;&nbsp;&nbsp; ex: <em><strong>xmlns:m2="</strong></em><a title="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata" href="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata" mce_href="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"><strong>http://schemas.microsoft.com/ado/2007/08/dataservices/metadata</strong></a><em><strong>"</strong></em></p>
<p><strong>1) Mapping to ATOM elements in the atom:entry payload :&nbsp; <br /></strong>The EntityPropertyMapping (EPM) attribute has two constructors , one which binds the property to an Atom element in the feed , <br />and another which binds the property to a custom element . We shall discuss the former in this section. </p>
<p>For ATOM Mappings , the EPM markup has the following attributes .</p>
<ol>
<li><b>m2:FC_SourcePath</b>: The <b>m2:FC_SourcePath</b> is used when <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a) The Property you are mapping exists in a base type and not on the current type . <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b) The property you are mapping exists in a complex type and not on the current type . </li>
<li><b>m2:FC_TargetPath </b>: The atom:entry element to which this property has to be mapped to </li>
<li><strong>m2:FC_ContentKind</strong>: The content-type of the mapped&nbsp; atom:entry element </li>
<li><b>m2:FC_KeepInContent </b>: set this to false if you want the entity’s property value to turn up only in the mapped atom:entry element and not in the &lt;contents&gt; section. </li>
</ol>
<p>Lets proceed&nbsp; , using the same BlogPost&nbsp; type that we <a href="http://blogs.msdn.com/phaniraj/archive/2009/03/18/introducing-web-friendly-feeds-aka-friendly-feeds.aspx" mce_href="http://blogs.msdn.com/phaniraj/archive/2009/03/18/introducing-web-friendly-feeds-aka-friendly-feeds.aspx">discussed last time</a> . <br />This is the EDM Markup for the type : </p>
<pre class="code"><span style="COLOR: blue">&lt;</span><span style="COLOR: #a31515">EntityType </span><span style="COLOR: red">Name</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">BlogPost</span>"<span style="COLOR: blue">&gt;
  &lt;</span><span style="COLOR: #a31515">Key</span><span style="COLOR: blue">&gt;
    &lt;</span><span style="COLOR: #a31515">PropertyRef </span><span style="COLOR: red">Name</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">BlogPostID</span>" <span style="COLOR: blue">/&gt;
  &lt;/</span><span style="COLOR: #a31515">Key</span><span style="COLOR: blue">&gt;
  &lt;</span><span style="COLOR: #a31515">Property </span><span style="COLOR: red">Name</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Lat</span>" <span style="COLOR: red">Type</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Edm.Double</span>" <span style="COLOR: red">Nullable</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">false</span>"<span style="COLOR: blue">/&gt;
  &lt;</span><span style="COLOR: #a31515">Property </span><span style="COLOR: red">Name</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Long</span>" <span style="COLOR: red">Type</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Edm.Double</span>" <span style="COLOR: red">Nullable</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">false</span>"<span style="COLOR: blue">/&gt;
  &lt;</span><span style="COLOR: #a31515">Property </span><span style="COLOR: red">Name</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Published</span>" <span style="COLOR: red">Type</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Edm.DateTime</span>" <span style="COLOR: red">Nullable</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">false</span>" <span style="COLOR: blue">/&gt;
  &lt;</span><span style="COLOR: #a31515">Property </span><span style="COLOR: red">Name</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">BlogPostID</span>" <span style="COLOR: red">Type</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Edm.Int32</span>" <span style="COLOR: red">Nullable</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">false</span>" <span style="COLOR: blue">/&gt;
  &lt;</span><span style="COLOR: #a31515">Property </span><span style="COLOR: red">Name</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Title</span>" <span style="COLOR: red">Type</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Edm.String</span>" <span style="COLOR: red">Nullable</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">true</span>"<span style="COLOR: blue">/&gt;
  &lt;</span><span style="COLOR: #a31515">Property </span><span style="COLOR: red">Name</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Body</span>" <span style="COLOR: red">Type</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Edm.String</span>" <span style="COLOR: red">Nullable</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">true</span>" <span style="COLOR: blue">/&gt;
  &lt;</span><span style="COLOR: #a31515">Property </span><span style="COLOR: red">Name</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Author</span>" <span style="COLOR: red">Type</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Edm.String</span>" <span style="COLOR: red">Nullable</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">true</span>"<span style="COLOR: blue">/&gt;
  &lt;</span><span style="COLOR: #a31515">Property </span><span style="COLOR: red">Name</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">PostURI</span>" <span style="COLOR: red">Type</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Edm.String</span>" <span style="COLOR: red">Nullable</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">true</span>" <span style="COLOR: blue">/&gt;
  &lt;</span><span style="COLOR: #a31515">Property </span><span style="COLOR: red">Name</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">ContentSummary</span>" <span style="COLOR: red">Type</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Edm.String</span>" <span style="COLOR: red">Nullable</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">true</span>" <span style="COLOR: blue">/&gt;
  &lt;</span><span style="COLOR: #a31515">Property </span><span style="COLOR: red">Name</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">IconUri</span>" <span style="COLOR: red">Type</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Edm.String</span>" <span style="COLOR: red">Nullable</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">true</span>"<span style="COLOR: blue">/&gt;
&lt;/</span><span style="COLOR: #a31515">EntityType</span><span style="COLOR: blue">&gt;</span>&nbsp;</pre>
<p><a href="http://11011.net/software/vspaste" mce_href="http://11011.net/software/vspaste"></a></p>
<p>1. Map the “Title” property&nbsp; of the BlogPost Entity type to the entry:title element </p>
<p>When decorating EDM&nbsp; types , the markup specifying the mapping goes on the property you are mapping , <br />ex:</p>
<pre class="code"><span style="COLOR: blue">&lt;</span><span style="COLOR: #a31515">Property </span><span style="COLOR: red">Name</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Title</span>" <span style="COLOR: red">Type</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Edm.String</span>" <span style="COLOR: red">Nullable</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">true</span>"
  <span style="COLOR: red">m2:FC_TargetPath</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">SyndicationTitle</span>"
  <span style="COLOR: red">m2:FC_EpmContentKind</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Plaintext</span>"
  <span style="COLOR: red">m2:FC_EpmKeepInContent</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">true</span>" <span style="COLOR: blue">/&gt;</span></pre>
<p><a href="http://11011.net/software/vspaste" mce_href="http://11011.net/software/vspaste"></a><a href="http://11011.net/software/vspaste" mce_href="http://11011.net/software/vspaste"></a></p>
<p>2. Map the “Author” property to entry:author element&nbsp; </p>
<p>This is what the markup would look like :</p>
<pre class="code"><span style="COLOR: blue">&lt;</span><span style="COLOR: #a31515">Property </span><span style="COLOR: red">Name</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Author</span>" <span style="COLOR: red">Type</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Edm.String</span>" <span style="COLOR: red">Nullable</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">true</span>"
           <span style="COLOR: red">m2:FC_TargetPath</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">SyndicationAuthorName</span>"
           <span style="COLOR: red">m2:FC_ContentKind</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Plaintext</span>"
           <span style="COLOR: red">m2:FC_KeepInContent</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">true</span>" <span style="COLOR: blue">/&gt;</span></pre>
<p><a href="http://11011.net/software/vspaste" mce_href="http://11011.net/software/vspaste"></a><a href="http://11011.net/software/vspaste" mce_href="http://11011.net/software/vspaste"></a></p>
<p>As described in&nbsp; my previous blog post , you can map an Entity’s properties to the following atom:entry elements in the payload <strong>:</strong></p>
<table border="0" cellspacing="0" cellpadding="2" width="512">
<tbody>
<tr>
<td valign="top" width="200"><strong>atom:entry Element </strong></td>
<td valign="top" width="310"><b>m2:FC_TargetPath </b></td>
</tr>
<tr>
<td valign="top" width="200">entry:author/email </td>
<td valign="top" width="310">SyndicationAuthorEmail</td>
</tr>
<tr>
<td valign="top" width="200">entry:author/name</td>
<td valign="top" width="310">SyndicationAuthorName</td>
</tr>
<tr>
<td valign="top" width="200">entry:author/uri </td>
<td valign="top" width="310">SyndicationAuthorUri</td>
</tr>
<tr>
<td valign="top" width="200">entry:published </td>
<td valign="top" width="310">SyndicationPublished</td>
</tr>
<tr>
<td valign="top" width="200">entry:rights </td>
<td valign="top" width="310">SyndicationRights</td>
</tr>
<tr>
<td valign="top" width="200">entry:summary </td>
<td valign="top" width="310">SyndicationRights</td>
</tr>
<tr>
<td valign="top" width="200">entry:title </td>
<td valign="top" width="310">SyndicationTitle</td>
</tr>
</tbody>
</table>
<p></p>
<table border="0" cellspacing="0" cellpadding="2" width="400">
<tbody>
<tr>
<td valign="top" width="204"><b>Content-Kind </b></td>
<td valign="top" width="196"><strong>m2:FC_ContentKind</strong></td>
</tr>
<tr>
<td valign="top" width="204">Plaintext</td>
<td valign="top" width="196">Plaintext</td>
</tr>
<tr>
<td valign="top" width="204">Html</td>
<td valign="top" width="196">Html</td>
</tr>
<tr>
<td valign="top" width="204">Xhtml</td>
<td valign="top" width="196">XHtml</td>
</tr>
<tr>
<td valign="top" width="204">Default if not specified. </td>
<td valign="top" width="196">PlainText</td>
</tr>
</tbody>
</table>
<p><strong>2) Mapping to non-ATOM/custom&nbsp; elements in the atom:entry payload :&nbsp; </strong></p>
<p>For non-ATOM/custom Mappings , the EPM markup requires the following attributes.</p>
<ol>
<li><b>m2:FC_SourcePath&nbsp;&nbsp; </b>: The property of the Entity Type whose value should be mapped </li>
<li><b>m2:FC_TargetPath&nbsp; </b>&nbsp; : The xml path markup which describes the path to the custom markup this property should be mapped to . </li>
<li><b>m2:FC_NsPrefix&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </b>: The xml prefix for the custom element/attribute that this property is mapped to. </li>
<li><b>m2:FC_NsUri&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </b>: The xml namespace to which the custom element/attribute that this property is mapped should be under. </li>
<li><b>m2:FC_KeepInContent </b>: set this to false if you want the entity’s property value to turn up only in the mapped atom:entry element and not in the &lt;contents&gt; section. </li>
</ol>
<p><strong></strong></p>
<p><strong>The Xml Path syntax for custom mappings.</strong></p>
<p>this syntax is very logical and looks like the following . <br />Lets say that you wanted to map a property to a custom element in markup that looks like this : </p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">mycustomRoot</span> <span class="attr">xmlns</span><span class="kwrd">=”<a href="http://www.mycustomformat.org/" mce_href="http://www.mycustomFormat.org">http://www.mycustomFormat.org</a>”</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">customElement</span><span class="kwrd">&gt;</span>property value goes here<span class="kwrd">&lt;/</span><span class="html">customElement</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">mycustomRoot</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">
<p>.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }</style>
<p>for this example , <br /><b>m2:FC_TargetPath&nbsp; </b>would be “<span class="html">mycustomRoot</span>/<span>customElement” <br /><b>m2:FC_NsPrefix&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </b>would be an empty string as this markup has no custom prefix. <br /><b>m2:FC_NsUri&nbsp; </b>would be “<a href="http://www.mycustomformat.org/" mce_href="http://www.mycustomFormat.org">http://www.mycustomFormat.org</a>” <br /><b>m2:FC_KeepInContent </b>is subjective to whether you want to keep the property value in the &lt;content&gt; section or not.</span></p>
<p>and now , lets say that you wanted to map a property to a custom attribute of an element in markup that looks like this : </p>
<pre class="csharpcode"><span class="kwrd">&lt;me:</span><span class="html">mycustomRoot</span> <span class="attr">xmlns:me</span><span class="kwrd">="http://www.georss.org.georss"</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;me:</span><span class="html">customElement</span> <span class="attr">customAttribute</span><span class="kwrd">="property value goes here"</span><span class="kwrd">&gt;&lt;/me:</span><span class="html">customElement</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/me:</span><span class="html">mycustomRoot</span><span class="kwrd">&gt;</span></pre>
<p>for this example , <br /><b>m2:FC_TargetPath&nbsp; </b>would be <a href="mailto:“mycustomRoot/customElement/@customAttribute" mce_href="mailto:“mycustomRoot/customElement/@customAttribute">“mycustomRoot/customElement/@customAttribute</a>” <br /><b>m2:FC_NsPrefix&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </b>would be “me”. <br /><b>m2:FC_NsUri&nbsp; </b>would be “http://www.mycustomFormat.org” <br /><b>m2:FC_KeepContent </b>is subjective to whether you want to keep the property value in the &lt;content&gt; section or not. </p>
<p>A note , the complexity of your custom markup has a direct effect on the performance costs&nbsp; for Serialization/De-Serialization of the entity type . <br />with this example , lets map the lat &amp; long properties to geoRss markup ,which looks like this : </p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">geo:lat</span> <span class="attr">xmlns:geo</span><span class="kwrd">="http://www.georss.org/georss"</span><span class="kwrd">&gt;</span>47.684<span class="kwrd">&lt;/</span><span class="html">geo:lat</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">geo:long</span> <span class="attr">xmlns:geo</span><span class="kwrd">="http://www.georss.org/georss"</span><span class="kwrd">&gt;</span>-122.122<span class="kwrd">&lt;/</span><span class="html">geo:long</span><span class="kwrd">&gt;</span></pre>
<p>Final type definition looks like this : </p>
<pre class="code"><span style="COLOR: blue">&lt;</span><span style="COLOR: #a31515">EntityType </span><span style="COLOR: red">Name</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">BlogPost</span>"<span style="COLOR: blue">&gt;
  &lt;</span><span style="COLOR: #a31515">Key</span><span style="COLOR: blue">&gt;
    &lt;</span><span style="COLOR: #a31515">PropertyRef </span><span style="COLOR: red">Name</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">BlogPostID</span>" <span style="COLOR: blue">/&gt;
  &lt;/</span><span style="COLOR: #a31515">Key</span><span style="COLOR: blue">&gt;
  &lt;!-- </span><span style="COLOR: green">map the Lat property to the &lt;geo:lat&gt; element  </span><span style="COLOR: blue">--&gt;
  &lt;</span><span style="COLOR: #a31515">Property </span><span style="COLOR: red">Name</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Lat</span>" <span style="COLOR: red">Type</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Edm.Double</span>" <span style="COLOR: red">Nullable</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">false</span>"
            <span style="COLOR: red">m2:FC_TargetPath</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">lat</span>"
            <span style="COLOR: red">m2:FC_NsUri</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">http://www.georss.org/georss</span>"
            <span style="COLOR: red">m2:FC_NsPrefix</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">geo</span>"
            <span style="COLOR: red">m2:FC_KeepContent</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">true</span>" <span style="COLOR: blue">/&gt;
  &lt;!-- </span><span style="COLOR: green">map the Long property to the &lt;geo:long&gt; element  </span><span style="COLOR: blue">--&gt;
  &lt;</span><span style="COLOR: #a31515">Property </span><span style="COLOR: red">Name</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Long</span>" <span style="COLOR: red">Type</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Edm.Double</span>" <span style="COLOR: red">Nullable</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">false</span>"
            <span style="COLOR: red">m2:FC_TargetPath</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">long</span>"
            <span style="COLOR: red">m2:FC_NsUri</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">http://www.georss.org/georss</span>"
            <span style="COLOR: red">m2:FC_NsPrefix</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">geo</span>"
            <span style="COLOR: red">m2:FC_KeepContent</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">true</span>" <span style="COLOR: blue">/&gt;
  &lt;!-- </span><span style="COLOR: green">Map the “Title” property  of the BlogPost Entity type to the entry:title element </span><span style="COLOR: blue">--&gt;
  &lt;</span><span style="COLOR: #a31515">Property </span><span style="COLOR: red">Name</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Title</span>" <span style="COLOR: red">Type</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Edm.String</span>" <span style="COLOR: red">Nullable</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">true</span>"
            <span style="COLOR: red">m2:FC_TargetPath</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">EpmSyndicationTitle</span>"
            <span style="COLOR: red">m2:FC_ContentKind</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">EpmPlaintext</span>"
            <span style="COLOR: red">m2:FC_KeepContent</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">true</span>" <span style="COLOR: blue">/&gt;
  &lt;</span><span style="COLOR: #a31515">Property </span><span style="COLOR: red">Name</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Body</span>" <span style="COLOR: red">Type</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Edm.String</span>" <span style="COLOR: red">Nullable</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">true</span>" <span style="COLOR: blue">/&gt;
  &lt;!-- </span><span style="COLOR: green">Map the “Author” property to entry:author element  </span><span style="COLOR: blue">--&gt;
  &lt;</span><span style="COLOR: #a31515">Property </span><span style="COLOR: red">Name</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Author</span>" <span style="COLOR: red">Type</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Edm.String</span>" <span style="COLOR: red">Nullable</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">true</span>"
            <span style="COLOR: red">m2:FC_TargetPath</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">EpmSyndicationAuthorName</span>"
            <span style="COLOR: red">m2:FC_ContentKind</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">EpmPlaintext</span>"
            <span style="COLOR: red">m2:FC_KeepContent</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">true</span>" <span style="COLOR: blue">/&gt;
  &lt;</span><span style="COLOR: #a31515">Property </span><span style="COLOR: red">Name</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">BlogPostID</span>" <span style="COLOR: red">Type</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Edm.Int32</span>" <span style="COLOR: red">Nullable</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">false</span>" <span style="COLOR: blue">/&gt;
  &lt;</span><span style="COLOR: #a31515">Property </span><span style="COLOR: red">Name</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Published</span>" <span style="COLOR: red">Type</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Edm.DateTime</span>" <span style="COLOR: red">Nullable</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">false</span>" <span style="COLOR: blue">/&gt;
  &lt;</span><span style="COLOR: #a31515">Property </span><span style="COLOR: red">Name</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">PostURI</span>" <span style="COLOR: red">Type</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Edm.String</span>" <span style="COLOR: red">Nullable</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">true</span>" <span style="COLOR: blue">/&gt;
  &lt;</span><span style="COLOR: #a31515">Property </span><span style="COLOR: red">Name</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">ContentSummary</span>" <span style="COLOR: red">Type</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Edm.String</span>" <span style="COLOR: red">Nullable</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">true</span>" <span style="COLOR: blue">/&gt;
  &lt;</span><span style="COLOR: #a31515">Property </span><span style="COLOR: red">Name</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">IconUri</span>" <span style="COLOR: red">Type</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Edm.String</span>" <span style="COLOR: red">Nullable</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">true</span>"<span style="COLOR: blue">/&gt;
&lt;/</span><span style="COLOR: #a31515">EntityType</span><span style="COLOR: blue">&gt;
</span></pre>
<p><a href="http://11011.net/software/vspaste" mce_href="http://11011.net/software/vspaste"></a></p>
<p><strong>Special cases </strong></p>
<p><strong>I . Complex type properties</strong></p>
<p>[I’ll leave the type definitions as CLR types so that its easier to visualize the relations.] </p>
<p>Consider the following model , </p>
<pre class="code"><span style="COLOR: blue">public class </span><span style="COLOR: #2b91af">Address
    </span>{
        <span style="COLOR: blue">public long </span>DoorNumber { <span style="COLOR: blue">get</span>; <span style="COLOR: blue">set</span>; }
        <span style="COLOR: blue">public string </span>Street { <span style="COLOR: blue">get</span>; <span style="COLOR: blue">set</span>; }
        <span style="COLOR: blue">public int </span>ZipCode { <span style="COLOR: blue">get</span>; <span style="COLOR: blue">set</span>; }
    }
    [<span style="COLOR: #2b91af">DataServiceKey</span>(<span style="COLOR: #a31515">"CustomerID"</span>)]
    <span style="COLOR: blue">public class </span><span style="COLOR: #2b91af">Customer
    </span>{
        <span style="COLOR: blue">public int </span>CustomerID { <span style="COLOR: blue">get</span>; <span style="COLOR: blue">set</span>; }
        <span style="COLOR: blue">public </span><span style="COLOR: #2b91af">Address </span>myAddress { <span style="COLOR: blue">get</span>; <span style="COLOR: blue">set</span>; }
    }</pre>
<p><a href="http://11011.net/software/vspaste" mce_href="http://11011.net/software/vspaste"></a></p>
<p>and lets say that you wanted to map the property Street of the complex type Address when accessed through the <br />entity type “Customer”&nbsp; to the atom:title element ,</p>
<p>this can be achieved via setting the <strong>EpmSourcePath </strong>property to “Street”&nbsp; . <br />In this case , the Epm markup would look like this :</p>
<pre class="code"><span style="COLOR: blue">&lt;</span><span style="COLOR: #a31515">EntityType </span><span style="COLOR: red">Name</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Customer</span>"<span style="COLOR: blue">&gt;
  &lt;!-- </span><span style="COLOR: green">Map the Street property of the Address complex type to the entry:title element </span><span style="COLOR: blue">--&gt;
  &lt;</span><span style="COLOR: #a31515">Property </span><span style="COLOR: red">Name</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">myAddress</span>" <span style="COLOR: red">Type</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">MyModelNamespace.Address</span>"
<strong>            <span style="COLOR: red">me:EpmSourcePath</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">Street</span>"
</strong>            <span style="COLOR: red">m2:FC_Atom</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">true</span>"
            <span style="COLOR: red">m2:FC_TargetPath</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">EpmSyndicationTitle</span>"
            <span style="COLOR: red">m2:FC_ContentKind</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">EpmPlaintext</span>"
            <span style="COLOR: red">m2:FC_KeepContent</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">true</span>"<span style="COLOR: blue">/&gt;
  &lt;!-- </span><span style="COLOR: green">other properties removed for brevity</span><span style="COLOR: blue">--&gt;
&lt;/</span><span style="COLOR: #a31515">EntityType</span><span style="COLOR: blue">&gt;</span></pre>
<p><a href="http://11011.net/software/vspaste" mce_href="http://11011.net/software/vspaste"></a><a href="http://11011.net/software/vspaste" mce_href="http://11011.net/software/vspaste"></a><a href="http://11011.net/software/vspaste" mce_href="http://11011.net/software/vspaste"></a><a href="http://11011.net/software/vspaste" mce_href="http://11011.net/software/vspaste"></a><a href="http://11011.net/software/vspaste" mce_href="http://11011.net/software/vspaste"></a></p>
<p><strong>II Mapping properties declared&nbsp; on base type </p>
<p></strong>Consider this data model :</p>
<pre class="code">[<span style="COLOR: #2b91af">DataServiceKey</span>(<span style="COLOR: #a31515">"CustomerID"</span>)]
<span style="COLOR: blue">public class </span><span style="COLOR: #2b91af">Customer
</span>{
        <span style="COLOR: blue">public int </span>CustomerID { <span style="COLOR: blue">get</span>; <span style="COLOR: blue">set</span>; }
        <span style="COLOR: blue">public </span><span style="COLOR: #2b91af">Address </span>myAddress { <span style="COLOR: blue">get</span>; <span style="COLOR: blue">set</span>; }
        <span style="COLOR: blue">public string </span>BaseTypeField { <span style="COLOR: blue">get</span>; <span style="COLOR: blue">set</span>; }
}

<span style="COLOR: blue">public class </span><span style="COLOR: #2b91af">DerivedCustomer </span>: <span style="COLOR: #2b91af">Customer
</span>{
  <span style="COLOR: blue">public string </span>DerivedTypeField { <span style="COLOR: blue">get</span>; <span style="COLOR: blue">set</span>; }
}</pre>
<p>and you want to map a property declared on the Base type “Customer” on the derived type “DerivedCustomer” <br />The EPM Markup would look like this :
<pre class="code"><span style="COLOR: blue">&lt;!-- </span><span style="COLOR: green">Map the "BaseTypeField" property of the base type "Customer" to the entry:title element </span><span style="COLOR: blue">--&gt;
&lt;</span><span style="COLOR: #a31515">EntityType </span><span style="COLOR: red">Name</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">DerivedCustomer</span>" <span style="COLOR: red">BaseType</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">MyModelNamespace.Customer</span>"
<strong>            <span style="COLOR: red">m2:FC_SourcePath</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">BaseTypeField</span>"
</strong>            <span style="COLOR: red">m2:FC_TargetPath</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">EpmSyndicationAuthorName</span>"
            <span style="COLOR: red">m2:FC_ContentKind</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">EpmPlaintext</span>"
            <span style="COLOR: red">m2:FC_KeepContent</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">true</span>"<span style="COLOR: blue">&gt;
  &lt;!-- </span><span style="COLOR: green">other properties removed for brevity</span><span style="COLOR: blue">--&gt;
&lt;/</span><span style="COLOR: #a31515">EntityType</span><span style="COLOR: blue">&gt;</span></pre>
<p><a href="http://11011.net/software/vspaste" mce_href="http://11011.net/software/vspaste"></a><a href="http://11011.net/software/vspaste" mce_href="http://11011.net/software/vspaste"></a><strong></strong></p>
<p><strong>Considerations for location&nbsp; of EPM markup in EDM Schema</strong></p>
<p>Use the following guidelines to decide where in the EDM Schema you should add the attribute for either ATOM or custom Mappings,</p>
<table border="0" cellspacing="0" cellpadding="2" width="736">
<tbody>
<tr>
<td valign="top" width="292"><strong>Where is property defined ?</strong></td>
<td valign="top" width="305"><strong>Where do I apply the EPM attribute?</strong></td>
<td valign="top" width="137"><strong>SourcePath </strong></td>
</tr>
<tr>
<td valign="top" width="292">Simple property on the Entity Type <br />ex: <br />“Title” property of “BlogPost” type above</td>
<td valign="top" width="305">&lt;Property&gt; node in the &lt;Entitytype&gt; markup</td>
<td valign="top" width="137">Not required</td>
</tr>
<tr>
<td valign="top" width="292">Simple property on entity’s base type</td>
<td valign="top" width="305">&lt;EntityType&gt; node </td>
<td valign="top" width="137">Base type property name</td>
</tr>
<tr>
<td valign="top" width="292">Complex Property on the Entity Type</td>
<td valign="top" width="305">Complex Types cannot be mapped directly </td>
<td valign="top" width="137">N/A</td>
</tr>
<tr>
<td valign="top" width="292">Simple property defined on complex type which is a property on an Entity Type</td>
<td valign="top" width="305">&lt;Property&gt; node in the &lt;EntityType&gt; </td>
<td valign="top" width="137">Complex type’s simple property name</td>
</tr>
</tbody>
</table>
<p>Hope you enjoyed this post about applying Friendly Feeds mappings to EDMdata models. <br />The second part of this post will discuss more special cases in EDM Models and troubleshooting failing mappings <br />and also a sample project for EDM Friendly Feeds Mappings.</p>

      </div>

      <a href="/ado-net-data-services-friendly-feeds-mapping-edm-types-i/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/versioning-note-writing-sl-3-0-applications-with-astoria-v1-5-sl-2-0-sdk-library/">Versioning note , writing SL 3.0 applications with Astoria v1.5 Sl 2.0 SDK Library</a></h1>

      <div class="entry">
        <p>As part&nbsp; of the v1.5 install, we also shipped a Silverlight 2.0 SDK library that is capable of talking to a v1.5 Astoria Service. </p>
<p><strong>Did you know that you could use the Silverlight 2.0 client library we shipped as part of our v1.5 CTP1 release in Silverlight 3.0 applications?</strong></p>
<p>From a Silverlight SDK library point of view ,to use <a href="http://blogs.msdn.com/MFlasko" mce_href="http://blogs.msdn.com/MFlasko">Mike Flasko’s</a> words, ”we are nothing but user code”. <br />We have no dependencies on the Runtime that have changed in SL 3.0 , <strong><em>yet</em></strong>. <br />So , you can use the Silverlight 2.0 SDK library that we shipped in v1.5 CTP1 , by <br />replacing the reference to “System.Data.Services.Client.dll” with “Microsoft.Data.Services.Client.dll”</p>
<p>In your Silverlight project , </p>
<p>1. If you already have a reference to “System.Data.Services.Client.dll” in your SIlverlight application , remove it .</p>
<p>2. If you have the v1.5 CTP1 installed , the Silverlight client binaries are stored in the following location , <br /><span style="BACKGROUND-COLOR: #ffcc00">%ProgramFiles%\ADO.NET Data Services V1.5 CTP1\sl_bin</span></p>
<p>3. Bring up the “Add Reference” window by right clicking the “References” node for the Silverlight 3.0 Project in Visual Studio.</p>
<p>4. Use the “Browse” tab of the “Add Reference” window to browse to this location to add a reference to “Microsoft.Data.Services.Client.dll”.</p>
<p>5. Rebuild and run the app . </p>
<p><a></a></p>
<p><strong>What about Code-gen , <br /></strong><strong>Can I point the Silverlight 3.0 application at a v1.5 CTP1 service and get all the binding &amp; Friendly Feeds mappings generated in the Client types?</strong></p>
<p><strong>No </strong>, there is no integration for v1.5 codegeneration tools in Visual Studio for Sl 3.0 Projects . <br />You will have to use the DataSvcUtil.exe tool from the following directory manually to generate the types with binding information for SL 3.0 projects .</p>
<p>Location for DataSvcUtil.exe : <span style="BACKGROUND-COLOR: #ffcc00">%ProgramFiles%\ADO.NET Data Services V1.5 CTP1\bin</span></p>
<p><strong>From a runtime perspective , is there any functionality in the v1.5 SL 2.0 library that is not present when the dll is inside a xap built with SL 3.0 tools ?</strong></p>
<p>No , none , everything should just work . If something doesn’t work , please leave a comment on this post or write to me at PhaniRaj At Microsoft Dot Com.</p>
<p><strong>What about Silverlight 3 Out-Of-Browser applications ?</strong></p>
<p>The Astoria Silverlight client library doesn’t yet work with Out of the Browser Silverlight applications.</p>

      </div>

      <a href="/versioning-note-writing-sl-3-0-applications-with-astoria-v1-5-sl-2-0-sdk-library/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/ado-net-data-services-silverlight-project-error-system-io-filenotfoundexception/">ADO.NET Data Services Silverlight Project Error : System.IO.FileNotFoundException</a></h1>

      <div class="entry">
        <p>Imagine this , you just downloaded the Astoria V1.5 CTP1 and are happily chugging along and decide to make a Silverlight Project    <br />that uses the latest Silverlight client library to make some cool app.     <br />You open an existing Silverlight app&#160; /create a new Silverlight app ,     <br />and generate the client types by running “Add Service Reference” from Visual Studio.     <br />and write some code in the app and hit F5 to run the app .     <br />Now , Instead of seeing the poetic beauty that is a Silverlight app built with Astoria , you see this : </p></p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/cf33f5160cc9_FD05/M_D_S_C_Unhandled_Exception.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/cf33f5160cc9_FD05/M_D_S_C_Unhandled_Exception.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="M_D_S_C_Unhandled_Exception" border="0" alt="M_D_S_C_Unhandled_Exception" src="/assets/M_D_S_C_Unhandled_Exception_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/cf33f5160cc9_FD05/M_D_S_C_Unhandled_Exception_thumb.png" width="439" height="484" /></a> </p>
<p>The Exception message is : </p>
<p>System.IO.FileNotFoundException occurred    <br />&#160; Message=&quot;Could not load file or assembly 'Microsoft.Data.Services.Client, Version=2.0.5.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a' or one of its dependencies.     <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; The system cannot find the file specified.&quot;     <br />&#160; StackTrace:     <br />&#160;&#160;&#160;&#160;&#160;&#160; at SilverlightProject1.Page..ctor()     <br />&#160;&#160;&#160;&#160;&#160;&#160; at SilverlightProject1.App.Application_Startup(Object sender, StartupEventArgs e)     <br />&#160; InnerException: </p>
<p>&#160;<strong>What just happened ?</strong></p>
<p><strong></strong></p>
<p>When the tools which generate the client code for an Astoria Service for Silverlight applications ran , they added a reference to the new client dll,    <br />Microsoft.Data.Services.Client.dll with “Copy Local” set to false.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/cf33f5160cc9_FD05/M_D_S_C_Silverlight_Reference_1.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/cf33f5160cc9_FD05/M_D_S_C_Silverlight_Reference_1.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="M_D_S_C_Silverlight_Reference" border="0" alt="M_D_S_C_Silverlight_Reference" src="/assets/M_D_S_C_Silverlight_Reference_thumb_1.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/cf33f5160cc9_FD05/M_D_S_C_Silverlight_Reference_thumb_1.png" width="276" height="484" /></a> </p>
<p> If your code looks like this,
<pre class="code"><span style="color: blue">public </span>Page(){
InitializeComponent();
nwServiceReference.<span style="color: #2b91af">BlogServiceProvider </span>prov =
                <span style="color: blue">new </span>SilverlightProject1.nwServiceReference.<span style="color: #2b91af">BlogServiceProvider</span>(<span style="color: blue">new </span><span style="color: #2b91af">Uri</span>(<span style="color: #a31515">&quot;http://ServiceEndPoint&quot;</span>));
}</pre>
<p><a href="http://11011.net/software/vspaste"></a><a href="http://11011.net/software/vspaste"></a></p>
<p>When the JIT compiler compiles your Page() constructor method, it scans the method, sees that it references a type named <span style="color: #2b91af">BlogServiceProvider </span>, and attempts to load Microsoft.Data.Services.Client.dll so that the reference can be resolved.</p>
<p>Now , Since we set Copy Local to false , the Client DLL is not copied into the XAP file ,and the Silverlight CLR cannot find the file , it throws the above exception.</p>
<p>We can verify by opening the xap file in winrar or some other archiving utility.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/cf33f5160cc9_FD05/Xap_No_CLient_Library.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/cf33f5160cc9_FD05/Xap_No_CLient_Library.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="Xap_No_CLient_Library" border="0" alt="Xap_No_CLient_Library" src="/assets/Xap_No_CLient_Library_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/cf33f5160cc9_FD05/Xap_No_CLient_Library_thumb.png" width="644" height="327" /></a> </p>
<p><strong>Resolution :</strong></p>
<p>In your Silverlight project, for the reference to “'Microsoft.Data.Services.Client.dll” ,&#160; Set “Copy Local” to “True” and rebuild your Silverlight XAP.</p>
<p><strong>What about “Update Service Reference”?<br />
    <br /></strong>Same issue , follow same resolution.</p>
<p><strong>When will this be fixed?<br />
    <br /></strong>We are tracking this issue and will release a fix in a future release of ADO.NET Data Services v1.5 </p>

      </div>

      <a href="/ado-net-data-services-silverlight-project-error-system-io-filenotfoundexception/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/ado-net-data-services-friendly-feeds-mapping-clr-types/">ADO.NET Data Services Friendly Feeds , Mapping CLR Types</a></h1>

      <div class="entry">
        <p>As I mentioned in my <a href="http://blogs.msdn.com/phaniraj/archive/2009/03/18/introducing-web-friendly-feeds-aka-friendly-feeds.aspx">last blog post</a> , here are some samples of how to map your entity properties to Atom/custom markup in the atom:entry element.     </p>
<p>You can apply Friendly Feed mappings on the CLR entity types by decorating the Entity classes with the EntityPropertyMappingAttribute type.     <br />We will focus on the kinds of mappings and how to achieve them .     </p>
<p><strong>1) Mapping to ATOM elements in the atom:entry payload :&#160; <br /></strong></p>
<p>The EntityPropertyMapping (EPM) attribute has two constructors , one which binds the property to an Atom element in the feed ,    <br />and another which binds the property to a custom element . We shall discuss the former in this section. </p>
<p>For ATOM Mappings , the EPM Attribute constructor takes the following parameters.</p>
<ol>
<li><strong>propertyName </strong>: The property of the Entity Type whose value should be mapped </li>
<li><strong>targetSyndicationItem </strong>: The atom:entry element to which this property has to be mapped to </li>
<li><strong>targetTextContentKind </strong>: The content-type of the mapped&#160; atom:entry element </li>
<li><strong>keepInContent </strong>: set this to false if you want the entity’s property value to turn up only in the mapped atom:entry element and not in the &lt;contents&gt; section. </li>
</ol>
<p>Lets proceed&#160; , using the same BlogPost&#160; type that we <a href="http://blogs.msdn.com/phaniraj/archive/2009/03/18/introducing-web-friendly-feeds-aka-friendly-feeds.aspx">discussed last time</a> .</p>
<pre class="code"><span style="color: blue">public class </span><span style="color: #2b91af">BlogPost
</span>{
    <span style="color: blue">public double </span>Lat { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
    <span style="color: blue">public double </span>Long { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
    <span style="color: blue">public int </span>BlogPostID { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
    <span style="color: blue">public string </span>Title { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
    <span style="color: blue">public string </span>Body { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
    <span style="color: blue">public string </span>Author { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
    <span style="color: blue">public string </span>PostURI { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
    <span style="color: blue">public string </span>ContentSummary { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
}</pre>
<p><a href="http://11011.net/software/vspaste"></a></p>
<p>1. Map the “Title” property&#160; of the BlogPost Entity type to the entry:title element<br />
  <br />2. Map the “Author” property to entry:author element&#160; </p>
<p>This is what the code would look like :</p>
<pre class="code">[<span style="color: #2b91af">EntityPropertyMapping</span>(
       <span style="color: #a31515">&quot;Title&quot;</span>,<span style="color: green">/*Source property path , the property of the Entity type to be mapped*/
       </span><span style="color: #2b91af">SyndicationItemProperty</span>.Title,<span style="color: green">/* Syndication item to which the Source Property is mapped*/
       </span><span style="color: #2b91af">SyndicationTextContentKind</span>.Plaintext,<span style="color: green">/* Syndication content kind for the syndication item this property is bound to */
       </span><span style="color: blue">true</span><span style="color: green">/* If  false the property value is only placed at the mapped location &amp; removed from the &lt;content&gt; section of the atom:entry*/
       </span>)]
[<span style="color: #2b91af">EntityPropertyMapping</span>(<span style="color: #a31515">&quot;Author&quot;</span>, <span style="color: #2b91af">SyndicationItemProperty</span>.AuthorName, <span style="color: #2b91af">SyndicationTextContentKind</span>.Plaintext, <span style="color: blue">true</span>)]
<span style="color: blue">public class </span><span style="color: #2b91af">BlogPost</span></pre>
<p><a href="http://11011.net/software/vspaste"></a></p>
<p>As described in&#160; my previous blog post , you can map an Entity’s properties to the following atom:entry elements in the payload <strong>:</strong></p>
<table border="0" cellspacing="0" cellpadding="2" width="512">
<tbody>
<tr>
<td valign="top" width="200"><strong>atom:entry Element </strong></td>
<td valign="top" width="310"><strong>TargetSyndicationItem</strong></td>
</tr>
<tr>
<td valign="top" width="200">entry:author/email </td>
<td valign="top" width="310">SyndicationItemProperty.AuthorEmail</td>
</tr>
<tr>
<td valign="top" width="200">entry:author/name</td>
<td valign="top" width="310">SyndicationItemProperty.AuthorName</td>
</tr>
<tr>
<td valign="top" width="200">entry:author/uri </td>
<td valign="top" width="310">SyndicationItemProperty.AuthorUri</td>
</tr>
<tr>
<td valign="top" width="200">entry:published </td>
<td valign="top" width="310">SyndicationItemProperty.Published</td>
</tr>
<tr>
<td valign="top" width="200">entry:rights </td>
<td valign="top" width="310">SyndicationItemProperty.Rights</td>
</tr>
<tr>
<td valign="top" width="200">entry:summary </td>
<td valign="top" width="310">SyndicationItemProperty.Summary</td>
</tr>
<tr>
<td valign="top" width="200">entry:title </td>
<td valign="top" width="310">SyndicationItemProperty.Title</td>
</tr>
<tr>
<td valign="top" width="200">entry:Updated</td>
<td valign="top" width="310">SyndicationItemProperty.Updated</td>
</tr>
<tr>
<td valign="top" width="200">entry:contributor/name</td>
<td valign="top" width="310">SyndicationItemProperty.ContributorName</td>
</tr>
<tr>
<td valign="top" width="200">entry:contributor/email</td>
<td valign="top" width="310">SyndicationItemProperty.ContributorEmail</td>
</tr>
<tr>
<td valign="top" width="200">entry:contributor/uri</td>
<td valign="top" width="310">SyndicationItemProperty.ContributorUri</td>
</tr>
</tbody>
</table>
<p>&#160;</p>
<p><strong>2) Mapping to non-ATOM/custom&#160; elements in the atom:entry payload :&#160; </strong></p>
<p>For non-ATOM/custom Mappings , the EPM Attribute constructor takes the following parameters.</p>
<ol>
<li><strong>propertyName</strong> : The property of the Entity Type whose value should be mapped </li>
<li><strong>targetName</strong>&#160; (<strong>Target Path</strong>)&#160;&#160; : The xml path markup which describes the path to the custom markup this property should be mapped to . </li>
<li><strong>targetNamespacePrefix</strong>: The xml prefix for the custom element/attribute that this property is mapped to. </li>
<li><strong>targetNamespaceUri</strong>: The xml namespace to which the custom element/attribute that this property is mapped should be under. </li>
<li><strong>keepInContent </strong>: set this to false if you want the entity’s property value to turn up only in the mapped atom:entry element and not in the &lt;contents&gt; section. </li>
</ol>
<p><strong></strong></p>
<p><strong>The Xml Path syntax for custom mappings.</strong></p>
<p>this syntax is very logical and looks like the following .<br />
  <br />Lets say that you wanted to map a property to a custom element in markup that looks like this : </p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">mycustomRoot</span> <span class="attr">xmlns</span><span class="kwrd">=”<a href="http://www.mycustomFormat.org">http://www.mycustomFormat.org</a>”</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">customElement</span><span class="kwrd">&gt;</span>property value goes here<span class="kwrd">&lt;/</span><span class="html">customElement</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">mycustomRoot</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">
<p>.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }</style>
<p>for this example ,</p>
<p><strong>targetName</strong>&#160; would be “<span class="html">mycustomRoot</span>/<span>customElement”<br />
  <br /><strong>targetNamespacePrefix</strong> would be an empty string as this markup has no custom prefix.</p>
<p><strong>targetNamespaceUri </strong>would be “<a href="http://www.mycustomFormat.org">http://www.mycustomFormat.org</a>”</p>
<p><strong>keepInContent</strong>&#160; is subjective to whether you want to keep the property value in the &lt;content&gt; section or not.</span></p>
<p>and now , lets say that you wanted to map a property to a custom attribute of an element in markup that looks like this : </p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">mycustomRoot</span> <span class="attr">xmlns:me</span><span class="kwrd">=&quot;http://www.georss.org.georss&quot;</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;me:</span><span class="html">customElement</span> <span class="attr">customAttribute</span><span class="kwrd">=&quot;property value goes here&quot;</span><span class="kwrd">&gt;&lt;/me:</span><span class="html">customElement</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">mycustomRoot</span><span class="kwrd">&gt;</span></pre>
<p>for this example ,<br />
  <br /><strong>targetName</strong>&#160; would be <a href="mailto:&ldquo;mycustomRoot/customElement/@customAttribute">“mycustomRoot/customElement/@customAttribute</a>”</p>
<p><strong>targetNamespacePrefix</strong> would be “me”.</p>
<p><strong>targetNamespaceUri </strong>would be “http://www.mycustomFormat.org”</p>
<p><strong>keepInContent</strong>&#160; is subjective to whether you want to keep the property value in the &lt;content&gt; section or not. </p>
<p>A note , the complexity of your custom markup has a direct effect on the performance costs&#160; for Serialization/De-Serialization of the entity type .</p>
<p>with this ,example , lets map the lat &amp; long properties to geoRss markup ,which looks like this :<br />
  </p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">geo:lat</span> <span class="attr">xmlns:geo</span><span class="kwrd">=&quot;http://www.georss.org/georss&quot;</span><span class="kwrd">&gt;</span>47.684<span class="kwrd">&lt;/</span><span class="html">geo:lat</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">geo:long</span> <span class="attr">xmlns:geo</span><span class="kwrd">=&quot;http://www.georss.org/georss&quot;</span><span class="kwrd">&gt;</span>-122.122<span class="kwrd">&lt;/</span><span class="html">geo:long</span><span class="kwrd">&gt;</span></pre>
<p>Final type definition looks like this :<br />
  </p>
<pre class="code">   [<span style="color: #2b91af">EntityPropertyMapping</span>(
        <span style="color: #a31515">&quot;Title&quot;</span>,<span style="color: green">/*Source property path , the property of the Entity type to be mapped*/
        </span><span style="color: #2b91af">SyndicationItemProperty</span>.Title,<span style="color: green">/* Syndication item to which the Source Property is mapped*/
        </span><span style="color: #2b91af">SyndicationTextContentKind</span>.Plaintext,<span style="color: green">/* Syndication content kind for the syndication item this property is bound to */
        </span><span style="color: blue">true</span><span style="color: green">/* If  false the property value is only placed at the mapped location &amp; removed from the &lt;content&gt; section of the atom:entry*/
        </span>)]
    [<span style="color: #2b91af">EntityPropertyMapping</span>(<span style="color: #a31515">&quot;Author&quot;</span>, <span style="color: #2b91af">SyndicationItemProperty</span>.AuthorName, <span style="color: #2b91af">SyndicationTextContentKind</span>.Plaintext, <span style="color: blue">true</span>)]
    [<span style="color: #2b91af">EntityPropertyMapping</span>(<span style="color: #a31515">&quot;Lat&quot;</span>,<span style="color: green">/*Source property path , the property of the Entity type to be mapped*/
        </span><span style="color: #a31515">&quot;lat&quot;</span>,<span style="color: green">/*The xml path markup which describes the path to the custom markup this property should be mapped to . */
        </span><span style="color: #a31515">&quot;geo&quot;</span>,<span style="color: green">/*The xml prefix for the custom element/attribute that this property is mapped to. */
        </span><span style="color: #a31515">&quot;http://www.georss.org/georss&quot;</span>, <span style="color: green">/*The xml namespace to which the custom element/attribute that this property is mapped should be under*/
        </span><span style="color: blue">true </span><span style="color: green">/*set this to false if you want the entity’s property value to turn up only in the mapped atom:entry element and not in the &lt;contents&gt; section. */
        </span>)]
    [<span style="color: #2b91af">EntityPropertyMapping</span>(<span style="color: #a31515">&quot;Long&quot;</span>, <span style="color: #a31515">&quot;long&quot;</span>, <span style="color: #a31515">&quot;geo&quot;</span>, <span style="color: #a31515">&quot;http://www.georss.org/georss&quot;</span>, <span style="color: blue">true</span>)]
    <span style="color: blue">public class </span><span style="color: #2b91af">BlogPost
    </span>{
        <span style="color: blue">public double </span>Lat { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
        <span style="color: blue">public double </span>Long { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
        <span style="color: blue">public </span><span style="color: #2b91af">DateTime </span>Published { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
        <span style="color: blue">public int </span>BlogPostID { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
        <span style="color: blue">public string </span>Title { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
        <span style="color: blue">public string </span>Body { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
        <span style="color: blue">public string </span>Author { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
        <span style="color: blue">public string </span>PostURI { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
        <span style="color: blue">public string </span>ContentSummary{ get;set;   }
        <span style="color: blue">public string </span>IconUri {get;set;}<span style="color: green">
    </span>}</pre>
<p><strong>Special cases </strong></p>
<p><strong>I . Complex type properties</strong></p>
<p>
  <br />Consider the following model , </p>
<pre class="code"><span style="color: blue">public class </span><span style="color: #2b91af">Address
    </span>{
        <span style="color: blue">public long </span>DoorNumber { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
        <span style="color: blue">public string </span>Street { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
        <span style="color: blue">public int </span>ZipCode { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
    }
    [<span style="color: #2b91af">DataServiceKey</span>(<span style="color: #a31515">&quot;CustomerID&quot;</span>)]
    <span style="color: blue">public class </span><span style="color: #2b91af">Customer
    </span>{
        <span style="color: blue">public int </span>CustomerID { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
        <span style="color: blue">public </span><span style="color: #2b91af">Address </span>myAddress { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
    }</pre>
<p><a href="http://11011.net/software/vspaste"></a></p>
<p>
  <br />and lets say that you wanted to map the property Street of the complex type Address when accessed through the</p>
<p>entity type “Customer”&#160; to the atom:title element ,</p>
<p>this can be achieved via setting the <strong>propertyName </strong>property to an appropriate path .</p>
<p>because <strong>propertyName </strong>not just takes the property name , it also accepts a path to the property’s location.&#160; <br />&#160; <br />in this case , the <strong>propertyName </strong>would be : “<strong>myAddress/Street</strong>”&#160; , and the Epm attribute would look like this :</p>
<pre class="code">[<span style="color: #2b91af">DataServiceKey</span>(<span style="color: #a31515">&quot;CustomerID&quot;</span>)]
[<span style="color: #2b91af">EntityPropertyMapping</span>(
        <span style="color: #a31515">&quot;myAddress/Street&quot;</span>,
        <span style="color: #2b91af">SyndicationItemProperty</span>.Title,
        <span style="color: #2b91af">SyndicationTextContentKind</span>.Plaintext,
        <span style="color: blue">true
        </span>)]
<span style="color: blue">public class </span><span style="color: #2b91af">Customer
</span>{
   <span style="color: blue">public int </span>CustomerID { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
   <span style="color: blue">public </span><span style="color: #2b91af">Address </span>myAddress { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
}</pre>
<p><a href="http://11011.net/software/vspaste"></a><a href="http://11011.net/software/vspaste"></a><a href="http://11011.net/software/vspaste"></a></p>
<p><strong>II Mapping properties declared&#160; on base type</p>
<p></strong>Consider this data model :</p>
<pre class="code">[<span style="color: #2b91af">DataServiceKey</span>(<span style="color: #a31515">&quot;CustomerID&quot;</span>)]
<span style="color: blue">public class </span><span style="color: #2b91af">Customer
</span>{
        <span style="color: blue">public int </span>CustomerID { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
        <span style="color: blue">public </span><span style="color: #2b91af">Address </span>myAddress { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
        <span style="color: blue">public string </span>BaseTypeField { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
}

<span style="color: blue">public class </span><span style="color: #2b91af">DerivedCustomer </span>: <span style="color: #2b91af">Customer
</span>{
  <span style="color: blue">public string </span>DerivedTypeField { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
}</pre>
<p>and you want to map a property declared on the Base type “Customer” on the derived type “DerivedCustomer”</p>
<p>The type declaration would look like this :</p>
<pre class="code">[<span style="color: #2b91af">EntityPropertyMapping</span>(<span style="color: #a31515">&quot;BaseTypeField&quot;</span>, <span style="color: #2b91af">SyndicationItemProperty</span>.Title, <span style="color: #2b91af">SyndicationTextContentKind</span>.Plaintext, <span style="color: blue">true</span>)]
<span style="color: blue">public class </span><span style="color: #2b91af">DerivedCustomer </span>: <span style="color: #2b91af">Customer </span>{
   <span style="color: blue">public string </span>DerivedTypeField { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
}</pre>
<p>In other words , when specifying the propertyName , property paths always make simple properties look like they are declared</p>
<p>on the type which has annotations , mapping inherited properties is no different from mapping properties declared on the same type. <a href="http://11011.net/software/vspaste"></a><strong></strong></p>
<p><strong>Considerations for location&#160; of EPM Attribute </strong></p>
<p>Use the following guidelines to decide where in the entity model you should add the attribute for either ATOM or custom Mappings,</p>
<table border="0" cellspacing="0" cellpadding="2" width="647">
<tbody>
<tr>
<td valign="top" width="261"><strong>Where is property defined ?</strong></td>
<td valign="top" width="384"><strong>Where do I apply the EPM attribute?</strong></td>
</tr>
<tr>
<td valign="top" width="271">Simple property on the Entity Type<br />
        <br />ex:</p>
<p>“Title” property of “BlogPost” type above</td>
<td valign="top" width="384">Entity Type</td>
</tr>
<tr>
<td valign="top" width="271">Simple property on entity’s base type</td>
<td valign="top" width="384">Derived Entity Type or Base Entity Type</td>
</tr>
<tr>
<td valign="top" width="271">Complex Property on the Entity Type</td>
<td valign="top" width="384">Complex Types cannot be mapped directly See , 3</td>
</tr>
<tr>
<td valign="top" width="271">Simple property defined on complex type which is a property on an Entity Type</td>
<td valign="top" width="384">Entity Type</td>
</tr>
</tbody>
</table>
<p>Hope you enjoyed this post about applying Friendly Feeds mappings to CLR data models.<br />
  <br />The next blog post will discuss how to apply the same mappings to EDM models.</p>

      </div>

      <a href="/ado-net-data-services-friendly-feeds-mapping-clr-types/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/introducing-web-friendly-feeds-aka-friendly-feeds/">Introducing Web Friendly Feeds aka Friendly Feeds</a></h1>

      <div class="entry">
        <p>Hello all , with the recent release of ADO.NET Data v1.5 Services CTP 1 , we introduced a new feature called as “Web Friendly Feeds”. <br /><strong>What is this feature about ?</strong></p>
<p>This is what the markup for one of the the resources of Customers looks like in ADO.NET Data Services v1 .</p>
<pre class="csharpcode"><span class="kwrd">&lt;?</span><span class="html">xml</span> <span class="attr">version</span><span class="kwrd">="1.0"</span> <span class="attr">encoding</span><span class="kwrd">="utf-8"</span> <span class="attr">standalone</span><span class="kwrd">="yes"</span> ?<span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">entry</span>
<span class="attr">xml:base</span><span class="kwrd">=<a href="http://localhost:26503/northwind.svc/" mce_href="http://localhost:26503/northwind.svc/">http://localhost:26503/northwind.svc/</a></span> <br /><span class="attr"><br />xmlns:d</span><span class="kwrd">=<a href="http://schemas.microsoft.com/ado/2007/08/dataservices" mce_href="http://schemas.microsoft.com/ado/2007/08/dataservices">http://schemas.microsoft.com/ado/2007/08/dataservices</a></span> <br /><span class="attr">xmlns:m</span><span class="kwrd">=<a href="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata" mce_href="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata">http://schemas.microsoft.com/ado/2007/08/dataservices/metadata</a></span> <br /><span class="attr">xmlns</span><span class="kwrd">="http://www.w3.org/2005/Atom"</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">id</span><span class="kwrd">&gt;</span>http://localhost:26503/northwind.svc/Customers('ALFKI')<span class="kwrd">&lt;/</span><span class="html">id</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">title</span> <span class="attr">type</span><span class="kwrd">="text"</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">updated</span><span class="kwrd">&gt;</span>2009-03-18T20:30:20Z<span class="kwrd">&lt;/</span><span class="html">updated</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">author</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">name</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">author</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">category</span> <span class="attr">term</span><span class="kwrd">="NorthwindModel.Customers"</span> <span class="attr">scheme</span><span class="kwrd">="http://schemas.microsoft.com/ado/2007/08/dataservices/scheme"</span> <span class="kwrd">/&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">content</span> <span class="attr">type</span><span class="kwrd">="application/xml"</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:CustomerID</span><span class="kwrd">&gt;</span>ALFKI<span class="kwrd">&lt;/</span><span class="html">d:CustomerID</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:CompanyName</span><span class="kwrd">&gt;</span>Alfreds Futterkiste<span class="kwrd">&lt;/</span><span class="html">d:CompanyName</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:ContactName</span><span class="kwrd">&gt;</span>Maria Anders<span class="kwrd">&lt;/</span><span class="html">d:ContactName</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:ContactTitle</span><span class="kwrd">&gt;</span>Sales Representative<span class="kwrd">&lt;/</span><span class="html">d:ContactTitle</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Address</span><span class="kwrd">&gt;</span>Obere Str. 57<span class="kwrd">&lt;/</span><span class="html">d:Address</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:City</span><span class="kwrd">&gt;</span>Berlin<span class="kwrd">&lt;/</span><span class="html">d:City</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Region</span> <span class="attr">m:null</span><span class="kwrd">="true"</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:PostalCode</span><span class="kwrd">&gt;</span>12209<span class="kwrd">&lt;/</span><span class="html">d:PostalCode</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Country</span><span class="kwrd">&gt;</span>Germany<span class="kwrd">&lt;/</span><span class="html">d:Country</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Phone</span><span class="kwrd">&gt;</span>030-0074321<span class="kwrd">&lt;/</span><span class="html">d:Phone</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Fax</span><span class="kwrd">&gt;</span>030-0076545<span class="kwrd">&lt;/</span><span class="html">d:Fax</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">content</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">entry</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">
<p>.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }</style>
<p>In the markup above , a couple of things are missing </p>
<p>1) The &lt;title&gt; element is empty </p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">title</span> <span class="attr">type</span><span class="kwrd">="text"</span> <span class="kwrd">/&gt;</span></pre>
<p>2) The author/name element is empty </p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">author</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">name</span> <span class="kwrd">/&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">author</span><span class="kwrd">&gt;</span></pre>
<p>In v 1.5 , through Friendly Feeds , we will now be able to assign a property of the “Customers” entity type to turn up in these element locations in the atom:entry payload.</p>
<p>Now , let’s say that we wanted to map the “ContactName” as the author name element of the entry element and Title to be “ContactTitle” as the title of the entry element. <br />Then , the payload would look like this : </p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">entry</span> <span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">id</span><span class="kwrd">&gt;</span>http://localhost:26503/northwind.svc/Customers('ALFKI')<span class="kwrd">&lt;/</span><span class="html">id</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">title</span> <span class="attr">type</span><span class="kwrd">="text"</span><span class="kwrd">&gt;</span>Sales Representative<span class="kwrd">&lt;/</span><span class="html">title</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">updated</span><span class="kwrd">&gt;</span>2009-03-18T20:46:42Z<span class="kwrd">&lt;/</span><span class="html">updated</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">author</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">name</span><span class="kwrd">&gt;</span>Maria Anders<span class="kwrd">&lt;/</span><span class="html">name</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">author</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">category</span> <span class="attr">term</span><span class="kwrd">="NorthwindModel.Customers"</span> <span class="attr">scheme</span><span class="kwrd">="http://schemas.microsoft.com/ado/2007/08/dataservices/scheme"</span> <span class="kwrd">/&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">content</span> <span class="attr">type</span><span class="kwrd">="application/xml"</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:CustomerID</span><span class="kwrd">&gt;</span>ALFKI<span class="kwrd">&lt;/</span><span class="html">d:CustomerID</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:CompanyName</span><span class="kwrd">&gt;</span>Alfreds Futterkiste<span class="kwrd">&lt;/</span><span class="html">d:CompanyName</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:ContactName</span><span class="kwrd">&gt;</span>Maria Anders<span class="kwrd">&lt;/</span><span class="html">d:ContactName</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:ContactTitle</span><span class="kwrd">&gt;</span>Sales Representative<span class="kwrd">&lt;/</span><span class="html">d:ContactTitle</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Address</span><span class="kwrd">&gt;</span>Obere Str. 57<span class="kwrd">&lt;/</span><span class="html">d:Address</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:City</span><span class="kwrd">&gt;</span>Berlin<span class="kwrd">&lt;/</span><span class="html">d:City</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Region</span> <span class="attr">m:null</span><span class="kwrd">="true"</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:PostalCode</span><span class="kwrd">&gt;</span>12209<span class="kwrd">&lt;/</span><span class="html">d:PostalCode</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Country</span><span class="kwrd">&gt;</span>Germany<span class="kwrd">&lt;/</span><span class="html">d:Country</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Phone</span><span class="kwrd">&gt;</span>030-0074321<span class="kwrd">&lt;/</span><span class="html">d:Phone</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Fax</span><span class="kwrd">&gt;</span>030-0076545<span class="kwrd">&lt;/</span><span class="html">d:Fax</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">content</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">entry</span><span class="kwrd">&gt;</span></pre>
<p>This also means , that IE now displays the Title &amp; author Name elements when you browse to the “Customers” entity set .</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/AStoria_Feed_Reading_View.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/AStoria_Feed_Reading_View.png" mce_href="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/AStoria_Feed_Reading_View.png"><img style="BORDER-RIGHT-WIDTH: 0px; DISPLAY: inline; BORDER-TOP-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px" title="AStoria_Feed_Reading_View" border="0" alt="AStoria_Feed_Reading_View" src="/assets/AStoria_Feed_Reading_View_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/AStoria_Feed_Reading_View_thumb.png" width="644" height="322" mce_src="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/AStoria_Feed_Reading_View_thumb.png" /></a></p>
<p><strong>Which elements in the atom:entry element can I map to an entity type properties ?</strong></p>
<ol>
<li>entry:author/email </li>
<li>entry:author/name </li>
<li>entry:author/uri </li>
<li>entry:published </li>
<li>entry:rights </li>
<li>entry:summary </li>
<li>entry:title </li>
</ol>
<p><strong>Once a property is mapped , if keeping the value of the property&nbsp; in the entry:contents section doesn’t make sense,can I remove it ? <br /></strong>Yes , absolutely , in the above case , we can remove the ContactName &amp; ContactTitle elements from being repeated in the &lt;contents&gt; section. <br />Ex:</p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">entry</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">id</span><span class="kwrd">&gt;</span>http://localhost:26503/northwind.svc/Customers('ALFKI')<span class="kwrd">&lt;/</span><span class="html">id</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">title</span> <span class="attr">type</span><span class="kwrd">="text"</span><span class="kwrd">&gt;</span>Sales Representative<span class="kwrd">&lt;/</span><span class="html">title</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">updated</span><span class="kwrd">&gt;</span>2009-03-18T21:04:20Z<span class="kwrd">&lt;/</span><span class="html">updated</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">author</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">name</span><span class="kwrd">&gt;</span>Maria Anders<span class="kwrd">&lt;/</span><span class="html">name</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">author</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">category</span> <span class="attr">term</span><span class="kwrd">="NorthwindModel.Customers"</span> <span class="attr">scheme</span><span class="kwrd">="http://schemas.microsoft.com/ado/2007/08/dataservices/scheme"</span> <span class="kwrd">/&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">content</span> <span class="attr">type</span><span class="kwrd">="application/xml"</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:CustomerID</span><span class="kwrd">&gt;</span>ALFKI<span class="kwrd">&lt;/</span><span class="html">d:CustomerID</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:CompanyName</span><span class="kwrd">&gt;</span>Alfreds Futterkiste<span class="kwrd">&lt;/</span><span class="html">d:CompanyName</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Address</span><span class="kwrd">&gt;</span>Obere Str. 57<span class="kwrd">&lt;/</span><span class="html">d:Address</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:City</span><span class="kwrd">&gt;</span>Berlin<span class="kwrd">&lt;/</span><span class="html">d:City</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Region</span> <span class="attr">m:null</span><span class="kwrd">="true"</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:PostalCode</span><span class="kwrd">&gt;</span>12209<span class="kwrd">&lt;/</span><span class="html">d:PostalCode</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Country</span><span class="kwrd">&gt;</span>Germany<span class="kwrd">&lt;/</span><span class="html">d:Country</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Phone</span><span class="kwrd">&gt;</span>030-0074321<span class="kwrd">&lt;/</span><span class="html">d:Phone</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Fax</span><span class="kwrd">&gt;</span>030-0076545<span class="kwrd">&lt;/</span><span class="html">d:Fax</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">content</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">entry</span><span class="kwrd">&gt;</span></pre>
<p><strong>Great , what else can I do with this new feature ? <br /></strong>Well, did I mention you can <font size="4">embed your own markup in the &lt;entry&gt; element for an entity type !!!</font></p>
<p>consider the following entity type , BlogPost , which looks like this </p>
<pre class="code"><span style="COLOR: blue">public class </span><span style="COLOR: #2b91af">BlogPost </span>{
        <span style="COLOR: blue">public double </span>Lat { <span style="COLOR: blue">get</span>; <span style="COLOR: blue">set</span>; }
        <span style="COLOR: blue">public double </span>Long { <span style="COLOR: blue">get</span>; <span style="COLOR: blue">set</span>; }
        <span style="COLOR: blue">public int </span>BlogPostID { <span style="COLOR: blue">get</span>; <span style="COLOR: blue">set</span>; }
        <span style="COLOR: blue">public string </span>Title { <span style="COLOR: blue">get</span>; <span style="COLOR: blue">set</span>; }
        <span style="COLOR: blue">public string </span>Body { <span style="COLOR: blue">get</span>; <span style="COLOR: blue">set</span>; }
        <span style="COLOR: blue">public string </span>Author { <span style="COLOR: blue">get</span>; <span style="COLOR: blue">set</span>; }
        <span style="COLOR: blue">public string </span>PostURI { <span style="COLOR: blue">get</span>; <span style="COLOR: blue">set</span>; }
        <span style="COLOR: blue">public string </span>ContentSummary{get;set;}
}</pre>
<p>This type represents the entry for a blog post , and also contains the Geographical location information about where the post was made ( Lat /Long) <br />and also the author information. Now , if this data was exposed via a Data Service, the payload would contain the Lat/Long/Published fields as part of&nbsp; <br />the entry:content element and wouldn’t have any special meaning. <br />The author element should be the Author field of the atom:entry , and the Published field to be the atom:published. <br />the Lat &amp; Long fields should be a georss element that shows the location at which the Blog Post was made. <br />In short , it should look like this :</p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">entry</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">id</span><span class="kwrd">&gt;</span>http://localhost/AstoriaBoard/Services/BlogSvc.svc/Posts(1)<span class="kwrd">&lt;/</span><span class="html">id</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">title</span> <span class="attr">type</span><span class="kwrd">="text"</span><span class="kwrd">&gt;</span>Entities, How many ways do I count thee ?<span class="kwrd">&lt;/</span><span class="html">title</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">summary</span> <span class="attr">type</span><span class="kwrd">="html"</span><span class="kwrd">&gt;<br />          &lt;</span><span class="html">img</span> <span class="attr">class</span><span class="kwrd">='imgClass'</span> <span class="attr">width</span><span class="kwrd">='150px'</span> <span class="attr">height</span><span class="kwrd">='150px'</span> <span class="attr">src</span><span class="kwrd">='/AStoriaBoard/mug.jpg'</span><span class="kwrd">/&gt;&lt;</span><span class="html">br</span><span class="kwrd">/&gt;</span>Its a common ask that we introduce aggregatin<br />   <span class="kwrd">&lt;/</span><span class="html">summary</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">published</span><span class="kwrd">&gt;</span>2009-03-18T14:29:43-07:00<span class="kwrd">&lt;/</span><span class="html">published</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">updated</span><span class="kwrd">&gt;</span>2009-03-18T21:29:43Z<span class="kwrd">&lt;/</span><span class="html">updated</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">author</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">name</span><span class="kwrd">&gt;</span>Phani Raj<span class="kwrd">&lt;/</span><span class="html">name</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">author</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">link</span> <span class="attr">rel</span><span class="kwrd">="edit"</span> <span class="attr">title</span><span class="kwrd">="BlogPost"</span> <span class="attr">href</span><span class="kwrd">="Posts(1)"</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">category</span> <span class="attr">term</span><span class="kwrd">="Blogs.BlogPost"</span> <span class="attr">scheme</span><span class="kwrd">="http://schemas.microsoft.com/ado/2007/08/dataservices/scheme"</span> <span class="kwrd">/&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">content</span> <span class="attr">type</span><span class="kwrd">="application/xml"</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:BlogPostID</span> <span class="attr">m:type</span><span class="kwrd">="Edm.Int32"</span><span class="kwrd">&gt;</span>1<span class="kwrd">&lt;/</span><span class="html">d:BlogPostID</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Body</span><span class="kwrd">&gt;</span>Its a common ask that we introduce aggregating mechanisms in Data services <br />          so that one can do a Count of the number of entities present in an EntitySet easily. <br />          In this blog post , I will outline one method of implementing a “Count” method that works for you. <br />          The interface to the count method will be<span class="kwrd">&lt;/</span><span class="html">d:Body</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Author</span><span class="kwrd">&gt;</span>Phani Raj<span class="kwrd">&lt;/</span><span class="html">d:Author</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:PostURI</span> <span class="attr">m:null</span><span class="kwrd">="true"</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">content</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">geo</span> <span class="attr">xmlns</span><span class="kwrd">="http://www.georss.org/georss"</span><span class="kwrd">&gt;</span>
   <span class="kwrd">&lt;</span><span class="html">long</span><span class="kwrd">&gt;</span>-80.244445<span class="kwrd">&lt;/</span><span class="html">long</span><span class="kwrd">&gt;</span>
   <span class="kwrd">&lt;</span><span class="html">lat</span><span class="kwrd">&gt;</span>25.730752<span class="kwrd">&lt;/</span><span class="html">lat</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;/</span><span class="html">geo</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;/</span><span class="html">entry</span><span class="kwrd">&gt;</span></pre>
<p>Now that we got this markup , I feel like we should do something with it . How about showing this information on a MAP ? <br />I know !! We have a mapping solution , Virtual Earth , lets try and see if we can feed this feed to Virtual Earth and make it see our GeoRss markup. <br />Recently , ( November 2008 ), the Live team released the Map control as an asp.net control . Download it here :<a title="http://dev.live.com/tools/" href="http://dev.live.com/tools/" mce_href="http://dev.live.com/tools/">http://dev.live.com/tools/</a></p>
<p>Add this control to an aspx page in the same website as the Data Service .</p>
<pre class="code"><span style="BACKGROUND: #ffee62">&lt;%</span><span style="COLOR: blue">@ </span><span style="COLOR: #a31515">Page </span><span style="COLOR: red">Language</span><span style="COLOR: blue">="C#" </span><span style="COLOR: red">AutoEventWireup</span><span style="COLOR: blue">="true" </span><span style="COLOR: red">CodeFile</span><span style="COLOR: blue">="Default.aspx.cs" </span><span style="COLOR: red">Inherits</span><span style="COLOR: blue">="_Default" </span><span style="BACKGROUND: #ffee62">%&gt;

</span><span style="COLOR: blue">&lt;!</span><span style="COLOR: #a31515">DOCTYPE </span><span style="COLOR: red">html PUBLIC </span><span style="COLOR: blue">"-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;</span><span style="COLOR: #a31515">html </span><span style="COLOR: red">xmlns</span><span style="COLOR: blue">="http://www.w3.org/1999/xhtml"&gt;
&lt;</span><span style="COLOR: #a31515">head </span><span style="COLOR: red">runat</span><span style="COLOR: blue">="server"&gt;
    &lt;</span><span style="COLOR: #a31515">title</span><span style="COLOR: blue">&gt;&lt;/</span><span style="COLOR: #a31515">title</span><span style="COLOR: blue">&gt;
    &lt;</span><span style="COLOR: #a31515">style</span><span style="COLOR: blue">&gt;
        </span><span style="COLOR: #a31515">.imgClass</span>{
            <span style="COLOR: red">border</span>: <span style="COLOR: blue">solid 2px #99ccff</span>;}
    <span style="COLOR: blue">&lt;/</span><span style="COLOR: #a31515">style</span><span style="COLOR: blue">&gt;
&lt;/</span><span style="COLOR: #a31515">head</span><span style="COLOR: blue">&gt;
&lt;</span><span style="COLOR: #a31515">body</span><span style="COLOR: blue">&gt;
    &lt;</span><span style="COLOR: #a31515">form </span><span style="COLOR: red">id</span><span style="COLOR: blue">="form1" </span><span style="COLOR: red">runat</span><span style="COLOR: blue">="server"&gt;
    &lt;</span><span style="COLOR: #a31515">script </span><span style="COLOR: red">language</span><span style="COLOR: blue">="javascript"&gt;
        function </span>pageLoad() {
            HookUpWorkAround();
        }
    <span style="COLOR: blue">&lt;/</span><span style="COLOR: #a31515">script</span><span style="COLOR: blue">&gt;
    &lt;</span><span style="COLOR: #a31515">div </span><span style="COLOR: red">id</span><span style="COLOR: blue">="mapContainer"&gt;
        <strong>&lt;</strong></span><strong><span style="COLOR: #a31515">ve</span><span style="COLOR: blue">:</span><span style="COLOR: #a31515">Map </span><span style="COLOR: red">ID</span><span style="COLOR: blue">="geoRssMap" </span><span style="COLOR: red">runat</span><span style="COLOR: blue">="server" </span><span style="COLOR: red">Height</span><span style="COLOR: blue">="600px" </span><span style="COLOR: red">Width</span><span style="COLOR: blue">="75%" </span><span style="COLOR: red">ZoomLevel</span></strong><span style="COLOR: blue"><strong>="4" /&gt;
</strong>    &lt;/</span><span style="COLOR: #a31515">div</span><span style="COLOR: blue">&gt;
    &lt;</span><span style="COLOR: #a31515">asp</span><span style="COLOR: blue">:</span><span style="COLOR: #a31515">ScriptManager </span><span style="COLOR: red">ID</span><span style="COLOR: blue">="scrpManager" </span><span style="COLOR: red">runat</span><span style="COLOR: blue">="server"&gt;
        &lt;</span><span style="COLOR: #a31515">Scripts</span><span style="COLOR: blue">&gt;
            &lt;</span><span style="COLOR: #a31515">asp</span><span style="COLOR: blue">:</span><span style="COLOR: #a31515">ScriptReference </span><span style="COLOR: red">Path</span><span style="COLOR: blue">="~/Scripts/VEWorkAround.js" /&gt;
        &lt;/</span><span style="COLOR: #a31515">Scripts</span><span style="COLOR: blue">&gt;
    &lt;/</span><span style="COLOR: #a31515">asp</span><span style="COLOR: blue">:</span><span style="COLOR: #a31515">ScriptManager</span><span style="COLOR: blue">&gt;
    &lt;/</span><span style="COLOR: #a31515">form</span><span style="COLOR: blue">&gt;
&lt;/</span><span style="COLOR: #a31515">body</span><span style="COLOR: blue">&gt;
&lt;/</span><span style="COLOR: #a31515">html</span><span style="COLOR: blue">&gt;
</span></pre>
<p>In the code-behind file , </p>
<pre class="code"><span style="COLOR: blue">using </span>System;
<span style="COLOR: blue">using </span>Microsoft.Live.ServerControls.VE;

<span style="COLOR: blue">public partial class </span><span style="COLOR: #2b91af">_Default </span>: System.Web.UI.<span style="COLOR: #2b91af">Page
</span>{
    <span style="COLOR: blue">protected void </span>Page_Load(<span style="COLOR: blue">object </span>sender, <span style="COLOR: #2b91af">EventArgs </span>e)
    {
        <span style="COLOR: green">//Clear out any mapped locations
        </span>geoRssMap.Clear();
        <span style="COLOR: green">//Create a new shapelayer to import
        </span><span style="COLOR: #2b91af">ShapeLayer </span>geoRssLayer = <span style="COLOR: blue">new </span><span style="COLOR: #2b91af">ShapeLayer</span>();
        <span style="COLOR: green">//Point the shape layer at the data source returning the mapping information
        </span><span style="COLOR: #2b91af">ShapeSourceSpecification </span>georssSpec = <span style="COLOR: blue">new </span><span style="COLOR: #2b91af">ShapeSourceSpecification</span>(
                    <span style="COLOR: #2b91af">DataType</span>.GeoRSS, <span style="COLOR: #a31515">"Services/BlogSvc.svc/Posts"</span>, geoRssLayer
                    );
        <span style="COLOR: green">//Bind the feed to the map
        </span>geoRssMap.ImportShapeLayerData(georssSpec, <span style="COLOR: blue">null</span>, <span style="COLOR: blue">false</span>);
    }
}</pre>
<p><a href="http://11011.net/software/vspaste" mce_href="http://11011.net/software/vspaste"></a></p>
<p>You might be wondering why we need the HookUpWorkAround() function and what it does , I’ll explain that in a later blog post . <br />After this , set the web page as the startup page and browse to the page in <strong><em><u>FireFox , </u></em></strong>I’ll explain why Firefox in a later blog post . <br />And voila !! This is what the page looks like : <br /><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/FF_Ve_Firefox_2.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/FF_Ve_Firefox_2.png" mce_href="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/FF_Ve_Firefox_2.png"><img style="BORDER-RIGHT-WIDTH: 0px; DISPLAY: inline; BORDER-TOP-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px" title="FF_Ve_Firefox" border="0" alt="FF_Ve_Firefox" src="/assets/FF_Ve_Firefox_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/FF_Ve_Firefox_thumb.png" width="613" height="484" mce_src="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/FF_Ve_Firefox_thumb.png" /></a></p>
<p>You can download the&nbsp; sample project that demonstrates this feature by clicking on the link at the bottom of this post</p>
<p>All this demonstrates the <strong>what </strong>and not the <strong>how </strong>, we shall discuss the <strong>how </strong>in future blog posts.</p>
<p>In the meantime ,enjoy this sample app and try out your own mashups.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Components.PostAttachments/00/09/48/83/52/FFVeMapDemo.zip" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-components-postattachments/00-09-48-83-52/FFVeMapDemo.zip">FFVeMapDemo.zip</a></p>

      </div>

      <a href="/introducing-web-friendly-feeds-aka-friendly-feeds/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/batching-queries-using-the-ado-net-data-services-client-library/">Batching Queries using the ADO.NET Data Services CLient library</a></h1>

      <div class="entry">
        <p>Did you know you could execute batch queries using the Data Services client library ?</p>
<p>The API is ExecuteBatch for Synchronous access and Begin/End ExecuteBatch for asynchronous scenarios.</p>
<p><strong>1) Batching a set of URI Queries .</strong></p>
<p>The ExecuteBatch API accepts an array of <a href="http://msdn.microsoft.com/en-us/library/cc646604.aspx" mce_href="http://msdn.microsoft.com/en-us/library/cc646604.aspx">DataServiceRequest</a> objects. <br />Consider this example , you want to batch queries to be sent to the “Products” and “Categories” entity sets of a northwind service.</p>
<p><script src="http://gist.github.com/113153.js"></script></p>
<p><strong>2) Batching Linq Queries</strong></p>
<p>If you want to use strongly types Linq queries instead of string based URI queries , you can use the linq support to generate the linq query </p>
<p><script src="http://gist.github.com/113154.js"></script></p>
<p><strong>3) How do I Identify the response if I make duplicate requests with the same ElementType ?</strong></p>
<p>Consider this situation , You make 2 requests both of type DataServiceRequest&lt;Products&gt;&nbsp; , how do you identify <br />which response is for which request ?</p>
<p>One of the scenarios&nbsp; I can think of , is that the entity set contains multiple types related via inheritance .</p>
<p>ex: Customers entity set contains instances of types HappyCustomers and HappierCustomers inheriting from Customers.</p>
<p>The QueryOperationResponse type contains a <a href="http://msdn.microsoft.com/en-us/library/system.data.services.client.queryoperationresponse.query(VS.95).aspx" mce_href="http://msdn.microsoft.com/en-us/library/system.data.services.client.queryoperationresponse.query(VS.95).aspx">Query</a> property which returns the DataServiceRequest that this response corresponds to .</p>
<p>You can pass along the requests you made in the batch as a state to the callback and then compare the Query property of the QueryOperationResponse <br />to match the response to the request.</p>
<p>ex: </p>
<p><script src="http://gist.github.com/113156.js"></script></p>

      </div>

      <a href="/batching-queries-using-the-ado-net-data-services-client-library/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/astoria-ski-day-v2/">Astoria Ski Day V2</a></h1>

      <div class="entry">
        <p>I buckled under <a href="http://blogs.msdn.com/marcelolr/archive/2009/02/16/a-plea-for-ado-net-data-services-black-belt.aspx">peer pressure</a> .Here are the pics from the&#160; 2nd Annual Astoria Ski Day . </p>
<p>Explanations will come soon .</p>
<p><iframe style="border-bottom: #dde5e9 1px solid; border-left: #dde5e9 1px solid; padding-bottom: 0px; background-color: #ffffff; margin: 3px; padding-left: 0px; width: 240px; padding-right: 0px; height: 66px; border-top: #dde5e9 1px solid; border-right: #dde5e9 1px solid; padding-top: 0px" marginheight="0" src="http://cid-925c2d2bb2d03c6b.skydrive.live.com/embedrowdetail.aspx/Astoria%20Ski%20Trip%20V2" frameborder="0" marginwidth="0" scrolling="no"></iframe></p>
<p>If you have a facebook account , here are the same pictures ,tagged.</p>
<p> <a href="http://www.facebook.com/home.php?#/photo_search.php?oid=33958235421&amp;view=all">Astoria Ski Day V2</a></p>

      </div>

      <a href="/astoria-ski-day-v2/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/working-with-inheritance-in-ado-net-data-services/">Working with Inheritance in Ado.net Data Services</a></h1>

      <div class="entry">
        <p>I’ve seen this question quite often on the Astoria forums and wanted to write something down so that our users can gain from the discussions that go on in our forums.    <br />We will discuss how one deals with entities ( tables / records / resources ) that participate in an inheritance hierarchy.     <br />We shall take the following Data Model to discuss some key scenarios involving the Client Library. </p>
<pre class="darkcsharpcode"><span class="rem">//Base Class</span>
[DataServiceKey(<span class="str">&quot;PersonID&quot;</span>)]
<span class="kwrd">public</span> <span class="kwrd">class</span> Person {
        <span class="kwrd">public</span> <span class="kwrd">int</span> PersonID { get; set; }
        <span class="kwrd">public</span> <span class="kwrd">string</span> Name { get; set; }
    }

<span class="rem">//Derived Class</span>
<span class="kwrd">public</span> <span class="kwrd">class</span> Employee : Person {
        <span class="kwrd">public</span> <span class="kwrd">int</span> EmployeeID { get; set; }
}</pre>
<p>And you expose an IQueryable&lt;Person&gt; from your data source,</p>
<pre class="darkcsharpcode"><span class="kwrd">public</span> <span class="kwrd">class</span> InheritedProvider {
        <span class="kwrd">static</span> List&lt;Person&gt; _people;
        <span class="kwrd">private</span> <span class="kwrd">static</span> <span class="kwrd">void</span> Initialize()  {
            _people = <span class="kwrd">new</span> List&lt;Person&gt;(){
                <span class="kwrd">new</span> Person  {
                    PersonID =1,
                    Name=<span class="str">&quot;Phani&quot;</span>
                },
                <span class="kwrd">new</span> Employee {
                    PersonID =2,
                    EmployeeID =3,
                    Name =<span class="str">&quot;Raj&quot;</span>
                }
            };
        }
        <span class="kwrd">public</span> IQueryable&lt;Person&gt; People {
            get {
                <span class="kwrd">if</span> (_people == <span class="kwrd">null</span>)
                    Initialize();
                <span class="kwrd">return</span> _people.AsQueryable&lt;Person&gt;();
            }
        }
    }</pre>
<p>Browsing to the /People endpoint of the service gives you : </p>
<p>
  <br />&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;yes&quot; ?&gt;</p>
<p>&lt;feed …Namespace Declarations… &gt;</p>
<p>&#160; &lt;title type=&quot;text&quot;&gt;People&lt;/title&gt;</p>
<p>&#160; &lt;id&gt;<a href="http://localhost:13975/Inheritance.svc/People">http://localhost:13975/Inheritance.svc/People</a>&lt;/id&gt;</p>
<p>&#160; &lt;updated&gt;2008-12-23T20:56:47Z&lt;/updated&gt;</p>
<p>&#160; &lt;link rel=&quot;self&quot; title=&quot;People&quot; href=&quot;People&quot; /&gt;</p>
<p>&#160; &lt;entry&gt;</p>
<p>&#160; &lt;id&gt;<a href="http://localhost:13975/Inheritance.svc/People(1)">http://localhost:13975/Inheritance.svc/People(1)</a>&lt;/id&gt;</p>
<p>&#160; &lt;title type=&quot;text&quot; /&gt;</p>
<p>&#160; &lt;updated&gt;2008-12-23T20:56:47Z&lt;/updated&gt;</p>
<p>&#160; &lt;author&gt;</p>
<p>&#160; &lt;name /&gt;</p>
<p>&#160; &lt;/author&gt;</p>
<p>&#160; &lt;link rel=&quot;edit&quot; title=&quot;Person&quot; href=&quot;People(1)&quot; /&gt;&#160;&#160; </p>
<pre class="darkcsharpcode"><span class="kwrd">&lt;</span><span class="html">category</span> <span class="attr">term</span><span class="kwrd">=&quot;Repro.Person&quot;</span> <span class="attr">scheme</span><span class="kwrd">=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/scheme&quot;</span> <span class="kwrd">/&gt;</span> </pre>
<p>&lt;content type=&quot;application/xml&quot;&gt;<br />
  <br />&#160; &lt;m:properties&gt;</p>
<p>&#160; &lt;d:PersonID m:type=&quot;Edm.Int32&quot;&gt;1&lt;/d:PersonID&gt;</p>
<p>&#160; &lt;d:Name&gt;Phani&lt;/d:Name&gt;</p>
<p>&#160; &lt;/m:properties&gt;</p>
<p>&#160; &lt;/content&gt;</p>
<p>&#160; &lt;/entry&gt;</p>
<p>&#160; &lt;entry&gt;</p>
<p>&#160; &lt;id&gt;<a href="http://localhost:13975/Inheritance.svc/People(2)">http://localhost:13975/Inheritance.svc/People(2)</a>&lt;/id&gt;</p>
<p>&#160; &lt;title type=&quot;text&quot; /&gt;</p>
<p>&#160; &lt;updated&gt;2008-12-23T20:56:47Z&lt;/updated&gt;</p>
<p>&#160; &lt;author&gt;</p>
<p>&#160; &lt;name /&gt;</p>
<p>&#160; &lt;/author&gt;</p>
<p>&#160; &lt;link rel=&quot;edit&quot; title=&quot;Person&quot; href=&quot;People(2)&quot; /&gt;&#160; </p>
<pre class="darkcsharpcode"><span class="kwrd">&lt;</span><span class="html">category</span> <span class="attr">term</span><span class="kwrd">=&quot;Repro.Employee&quot;</span> <span class="attr">scheme</span><span class="kwrd">=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/scheme&quot;</span> <span class="kwrd">/&gt;</span></pre>
<p>&#160; &lt;content type=&quot;application/xml&quot;&gt;<br />
  <br />&#160; &lt;m:properties&gt;</p>
<p>&#160; &lt;d:PersonID m:type=&quot;Edm.Int32&quot;&gt;2&lt;/d:PersonID&gt;</p>
<p>&#160; &lt;d:Name&gt;Raj&lt;/d:Name&gt;</p>
<p>&#160; &lt;d:EmployeeID m:type=&quot;Edm.Int32&quot;&gt;3&lt;/d:EmployeeID&gt;</p>
<p>&#160; &lt;/m:properties&gt;</p>
<p>&#160; &lt;/content&gt;</p>
<p>&#160; &lt;/entry&gt;</p>
<p>&#160; &lt;/feed&gt; </p>
<p>As you can see , the &lt;Category&gt; element of an &lt;entry&gt; element represents the Entity Type that this &lt;entry&gt; represents.<br />
  </p>
<h5>How does this help one with working with against an Entity Set using Inheritance ?</h5>
<p>Consider the following snippet of Client Code :</p>
<pre class="darkcsharpcode">DataServiceContext dsc = <span class="kwrd">new</span> DataServiceContext(<span class="kwrd">new</span> Uri(<span class="str">&quot;URI_TO_DATASERVICE&quot;</span>));
Employee newEmployee = <span class="kwrd">new</span> Employee() {Name = <span class="str">&quot;Peter Qian&quot;</span>};
dsc.AddObject(<span class="str">&quot;People&quot;</span>, newEmployee);
dsc.SaveChanges();</pre>
<p>Can you guess what is wrong with this ?</p>
<p>Yep, since the client library sees that you are trying to insert a Person Entity , we put the Entity Type as “Person”</p>
<p>in the payload , i.e , the above operation results in the payload :</p>
<pre class="darkcsharpcode"><span class="kwrd">&lt;</span><span class="html">entry</span> <span class="attr">xmlns:d</span><span class="kwrd">=<a href="http://schemas.microsoft.com/ado/2007/08/dataservices">http://schemas.microsoft.com/ado/2007/08/dataservices</a></span> <br /><span class="attr">       xmlns:m</span><span class="kwrd">=<a href="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata">http://schemas.microsoft.com/ado/2007/08/dataservices/metadata</a></span> <br /><span class="attr">       xmlns</span><span class="kwrd">=&quot;http://www.w3.org/2005/Atom&quot;</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">updated</span><span class="kwrd">&gt;</span>2008-12-23T21:23:38.5935141Z<span class="kwrd">&lt;/</span><span class="html">updated</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">content</span> <span class="attr">type</span><span class="kwrd">=&quot;application/xml&quot;</span><span class="kwrd">&gt;</span>
   <span class="kwrd">&lt;</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
     <span class="kwrd">&lt;</span><span class="html">d:EmployeeID</span> <span class="attr">m:type</span><span class="kwrd">=&quot;Edm.Int32&quot;</span><span class="kwrd">&gt;</span>0<span class="kwrd">&lt;/</span><span class="html">d:EmployeeID</span><span class="kwrd">&gt;</span>
     <span class="kwrd">&lt;</span><span class="html">d:Name</span><span class="kwrd">&gt;</span>Peter Qian<span class="kwrd">&lt;/</span><span class="html">d:Name</span><span class="kwrd">&gt;</span>
     <span class="kwrd">&lt;</span><span class="html">d:PersonID</span> <span class="attr">m:type</span><span class="kwrd">=&quot;Edm.Int32&quot;</span><span class="kwrd">&gt;</span>0<span class="kwrd">&lt;/</span><span class="html">d:PersonID</span><span class="kwrd">&gt;</span>
   <span class="kwrd">&lt;/</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">content</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">entry</span><span class="kwrd">&gt;</span></pre>
<p></p>
<p>And this causes the Server to respond with :<br />
  </p>
<pre class="darkcsharpcode"><span class="kwrd">&lt;?</span><span class="html">xml</span> <span class="attr">version</span><span class="kwrd">=&quot;1.0&quot;</span> <span class="attr">encoding</span><span class="kwrd">=&quot;utf-8&quot;</span> <span class="attr">standalone</span><span class="kwrd">=&quot;yes&quot;</span>?<span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">error</span> <span class="attr">xmlns</span><span class="kwrd">=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/metadata&quot;</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">code</span><span class="kwrd">&gt;&lt;/</span><span class="html">code</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">message</span> <span class="attr">xml:lang</span><span class="kwrd">=&quot;en-US&quot;</span><span class="kwrd">&gt;</span>Error processing request stream.
    Type information must be specified for types that take part in inheritance.<span class="kwrd">&lt;/</span><span class="html">message</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">error</span><span class="kwrd">&gt;</span></pre>
<p>This error is because , as you can see in the request payload , the &lt;category&gt; element which specifies the Entity Type is missing form the Request Payload.<br />
  <br />Since the Client library doesn’t resolve the Names/Types of the Entities for you , it provides you hooks to customize the name/type resolution</p>
<p>so that the right entity type is specified in the payloads.</p>
<h5>Why can’t the Client library do this automatically ?</h5>
<p>Main reason , Since we allow POCO , the type hierarchy of entities on the client can be different compared to the server.<br />
  </p>
<p>In your client code , set the <a href="http://msdn.microsoft.com/en-us/library/system.data.services.client.dataservicecontext.resolvename(VS.95).aspx" target="_blank">ResolveName</a> and <a href="http://msdn.microsoft.com/en-us/library/system.data.services.client.dataservicecontext.resolvetype.aspx" target="_blank">ResolveType</a> Properties on the&#160; DataServiceContext instance to</p>
<p>override the default type resolution behavior.</p>
<p></p>
<p>ex :</p></p>
<pre class="darkcsharpcode">DataServiceContext dsc = <span class="kwrd">new</span> DataServiceContext(<span class="kwrd">new</span> Uri(<span class="str">&quot;URI_TO_DATASERVICE&quot;</span>));
dsc.ResolveName = <span class="kwrd">delegate</span>(Type entityType) {
     <span class="kwrd">return</span> entityType.FullName.Replace(<span class="str">&quot;&lt;ClientNamespace&gt;&quot;</span>, <span class="str">&quot;&lt;ServerNamespace&gt;&quot;</span>);
};
dsc.ResolveType = <span class="kwrd">delegate</span>(<span class="kwrd">string</span> entitySetName) {
      <span class="kwrd">return</span> Type.GetType(entitySetName);
};
Employee newEmployee = <span class="kwrd">new</span> Employee() {Name = <span class="str">&quot;Peter Qian&quot;</span>};
dsc.AddObject(<span class="str">&quot;People&quot;</span>, newEmployee);
dsc.SaveChanges();</pre>
<p>Since we provide the right Entity Type Name in the ResolveName property , the right Entity Type</p>
<p>is placed in the payload.</p>
<pre class="darkcsharpcode"><span class="kwrd">&lt;</span><span class="html">entry</span> <span class="attr">xmlns:d</span><span class="kwrd">=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices&quot;</span>
<span class="attr">       xmlns:m</span><span class="kwrd">=<a href="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata">http://schemas.microsoft.com/ado/2007/08/dataservices/metadata</a><br /></span><span class="attr">       xmlns</span><span class="kwrd">=&quot;http://www.w3.org/2005/Atom&quot;</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">category</span> <span class="attr">scheme</span><span class="kwrd">=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/scheme&quot;</span> <span class="attr">term</span><span class="kwrd">=&quot;ServerNamespace.Employee&quot;</span> <span class="kwrd">/&gt;</span>
<span class="kwrd">&lt;</span><span class="html">updated</span><span class="kwrd">&gt;</span>2008-12-23T21:52:44.8021175Z<span class="kwrd">&lt;/</span><span class="html">updated</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">content</span> <span class="attr">type</span><span class="kwrd">=&quot;application/xml&quot;</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
      <span class="kwrd">&lt;</span><span class="html">d:EmployeeID</span> <span class="attr">m:type</span><span class="kwrd">=&quot;Edm.Int32&quot;</span><span class="kwrd">&gt;</span>0<span class="kwrd">&lt;/</span><span class="html">d:EmployeeID</span><span class="kwrd">&gt;</span>
      <span class="kwrd">&lt;</span><span class="html">d:Name</span><span class="kwrd">&gt;</span>Peter Qian<span class="kwrd">&lt;/</span><span class="html">d:Name</span><span class="kwrd">&gt;</span>
      <span class="kwrd">&lt;</span><span class="html">d:PersonID</span> <span class="attr">m:type</span><span class="kwrd">=&quot;Edm.Int32&quot;</span><span class="kwrd">&gt;</span>0<span class="kwrd">&lt;/</span><span class="html">d:PersonID</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;/</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">content</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">entry</span><span class="kwrd">&gt;</span></pre>
<p>Hope this helps .</p>

      </div>

      <a href="/working-with-inheritance-in-ado-net-data-services/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/the-halls-are-empty/">The halls are empty</a></h1>

      <div class="entry">
        <p>I probably brought this onto myself by taking all my vacation time in November to go back home for a month long visit.    </p>
<p>Now that its December , almost 80% of the team is on vacation and I am in office. Its not just my team , most of my floor     <br />in building 35 is on vacation. I hardly see anyone in the hallways nowadays , the silence feels unusual.     <br />Most of the people with whom I used to discuss any new ideas are on vacation , and not having anyone around     <br />to bounce my ideas off of feels weird . Although , the silence lets me get a lot done though , no distractions.     </p>
<p>Thanks to the unusual ( in Redmond terms) snow, the campus shuttles are shut down for these snowed-in days .    <br />That means my walk to work for&#160; a distance of mere 3 mile feels like 10 miles as I have to walk real slow     <br />to prevent slipping on the ice and falling . And not to mention that it gets dark by 4 PM in the evening .     </p>
<p>So I go to work in the dark and go home in the dark, but only have an eight hour day.     <br />Guess I can check off one of the items in the list of <a target="_blank" href="http://www.skrause.org/humor/northwest.shtml">You Might be from the Pacific Northwest if You</a>….     </p>
<p>This is how evenings look when I step out in the evenings to go home .     <br /><a href="http://www.flickr.com/photos/64066546@N00/3126800793/"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="DSCN0333" border="0" alt="DSCN0333" src="/assets/DSCN0333.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/Thehallsareempty_1275B/DSCN0333.jpg" width="244" height="184" /></a></p>
<p>Pretty awesome , isn’t it !    </p>
<p>Oh and before I forget , <strong>Happy Holidays Readers !! </strong></p>

      </div>

      <a href="/the-halls-are-empty/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/customizing-serialization-of-entities-in-the-ado-net-data-services-client-library/">Customizing Serialization of Entities in the ADO.NET Data Services Client Library</a></h1>

      <div class="entry">
        <p>This post is inspired by this forum thread :<a href="http://social.msdn.microsoft.com/Forums/en-US/adodotnetdataservices/thread/b7a9e01d-c5c2-4478-8f01-00f7f6e0f75f" target="_blank" mce_href="http://social.msdn.microsoft.com/Forums/en-US/adodotnetdataservices/thread/b7a9e01d-c5c2-4478-8f01-00f7f6e0f75f">Data services client -- exception on saveChanges</a></p>
<h4>Problem Statement </h4>
<p></p>
<p>I have added some custom proeprties to the Entity Types Generated by DataSvcUtil.exe /Add Service Reference / Hand Coded , <br />these properties do not exist on the server and should not be sent to the server . <br />When I try to save an object of a Type which has custom client-Side only properties to the Data Service using AddObject and SaveChanges, <br />I get the following error :</p>
<pre class="csharpcode">Error processing request stream. The property name <span class="str">'{PropertyName}'</span> specified <span class="kwrd">for</span> type '{TypeName} <span class="kwrd">is</span> not valid</pre>
<p>This error is basically from the server telling the client library that its sending a payload which does not seem to match the definition <br />of the Entity Type on the server. </p>
<p>We can solve this problem by customizing the Payload that the client generates when it sends the entity to the server. <br />The DataServiceContext exposes an event called <a href="http://msdn.microsoft.com/en-us/library/system.data.services.client.dataservicecontext.writingentity.aspx" target="_blank" mce_href="http://msdn.microsoft.com/en-us/library/system.data.services.client.dataservicecontext.writingentity.aspx">WritingEntity</a> that is fired right before we send the payload over the wire.</p>
<p>Its argumentlist contains <a href="http://msdn.microsoft.com/en-us/library/system.data.services.client.readingwritingentityeventargs.aspx" target="_blank" mce_href="http://msdn.microsoft.com/en-us/library/system.data.services.client.readingwritingentityeventargs.aspx">ReadingWritingEntityEventArgs</a> which gives you access to the Entity Instance being Serialized ( e.Entity )&nbsp; <br />and the ATOM Payload (e.Data ) we are about to send to the Server.</p>
<h5>Removing a property from the ATOM Payload that is being sent to the server.</h5>
<pre class="darkcsharpcode"><span class="kwrd">void</span> dataContext_WritingEntity(<span class="kwrd">object</span> sender, ReadingWritingEntityEventArgs e) {

    <span class="rem">// e.Data gives you the XElement for the Serialization of the Entity </span>
    <span class="rem">//Using XLinq  , you can  add/Remove properties to the element Payload  </span>
    XName xnEntityProperties = XName.Get(<span class="str">"properties"</span>, e.Data.GetNamespaceOfPrefix(<span class="str">"m"</span>).NamespaceName);
    XElement xePayload = e.Data.Descendants().Where&lt;XElement&gt;(xe =&gt; xe.Name == xnEntityProperties).First&lt;XElement&gt;();
   <span class="rem">//The XName of the property we are going to remove from the payload</span>
    XName xnProperty = XName.Get(“{PropertyName}”, e.Data.GetNamespaceOfPrefix(<span class="str">"d"</span>).NamespaceName);

    <span class="rem">//Get the Property of the entity  you don't want sent to the server</span>
    XElement xeRemoveThisProperty = xePayload.Descendants().Where&lt;XElement&gt;(xe =&gt; xe.Name == xnProperty).First&lt;XElement&gt;();
    <span class="rem">//Remove this property from the Payload sent to the server </span>
     xeRemoveThisProperty.Remove();

     }
}</pre>
<p>Generalizing this further , we want to make it easier to customize the serialization of multiple entity types without having to write <br />multiple copies of the WritingEntity event handler. <br />We will add an attribute that specfies that a certain CLR property should not be serialized in the ATOM Payload when the client library <br />sends the entity to the server.</p>
<pre class="darkcsharpcode">    <span class="rem">/// &lt;summary&gt;</span>
    <span class="rem">/// Properties marked with this Attribute are not serialized in the payload when sent to the server</span>
    <span class="rem">/// &lt;/summary&gt;</span>
    [AttributeUsage(AttributeTargets.Property)]
    <span class="kwrd">public</span> <span class="kwrd">class</span> DoNotSerializeAttribute : Attribute
    {
    }</pre>
<p>Now , we change the WritingEntity Event handler to remove any property&nbsp; that has this attribute on it . </p>
<pre class="darkcsharpcode">        <span class="kwrd">void</span> DataServiceContextEx_WritingEntity(<span class="kwrd">object</span> sender, ReadingWritingEntityEventArgs e)
        {
            <span class="rem">// e.Data gives you the XElement for the Serialization of the Entity </span>
            <span class="rem">//Using XLinq  , you can  add/Remove properties to the element Payload  </span>
            XName xnEntityProperties = XName.Get(<span class="str">"properties"</span>, e.Data.GetNamespaceOfPrefix(<span class="str">"m"</span>).NamespaceName);
            XElement xePayload = <span class="kwrd">null</span>;
            <span class="kwrd">foreach</span> (PropertyInfo property <span class="kwrd">in</span> e.Entity.GetType().GetProperties())
            {
                <span class="kwrd">object</span>[] doNotSerializeAttributes = property.GetCustomAttributes(<span class="kwrd">typeof</span>(DoNotSerializeAttribute), <span class="kwrd">false</span>);
                <span class="kwrd">if</span> (doNotSerializeAttributes.Length &gt; 0)
                {
                    <span class="kwrd">if</span> (xePayload == <span class="kwrd">null</span>)
                    {
                        xePayload = e.Data.Descendants().Where&lt;XElement&gt;(xe =&gt; xe.Name == xnEntityProperties).First&lt;XElement&gt;();
                    }
                    <span class="rem">//The XName of the property we are going to remove from the payload</span>
                    XName xnProperty = XName.Get(property.Name, e.Data.GetNamespaceOfPrefix(<span class="str">"d"</span>).NamespaceName);
                    <span class="rem">//Get the Property of the entity  you don't want sent to the server</span>
                    XElement xeRemoveThisProperty = xePayload.Descendants().Where&lt;XElement&gt;(xe =&gt; xe.Name == xnProperty).First&lt;XElement&gt;();
                    <span class="rem">//Remove this property from the Payload sent to the server </span>
                    xeRemoveThisProperty.Remove();
                }
            }
        }</pre>
<p>We can encapsulate this functionality into its own class and any DataServiceContext type that inherits from this class should be able to <br />inherit this functionality too . <br />Complete Source Code :</p>
<p><script src="http://gist.github.com/113147.js" mce_src="http://gist.github.com/113147.js"></script></p>
<h4>Using this in your applications : </h4>
<p>Create a partial class with the same name as shown above and include it in your application to get this behavior.</p>
<p>Attribute your types with the DoNotSerializeAttribute&nbsp; attribute so that this property is not serialized. </p>
<pre class="darkcsharpcode"> <span class="kwrd">public</span> <span class="kwrd">class</span> TestType
    {
        <span class="kwrd">public</span> <span class="kwrd">int</span> ID { get; set; }
        <span class="rem">/// &lt;summary&gt;</span>
        <span class="rem">/// This Property is client-only , should not be sent to the server</span>
        <span class="rem">/// &lt;/summary&gt;</span>
        [DoNotSerialize]
        <span class="kwrd">public</span> <span class="kwrd">string</span> ClientOnlyProperty { get; set; }
    }</pre>

      </div>

      <a href="/customizing-serialization-of-entities-in-the-ado-net-data-services-client-library/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/working-with-associations-in-ado-net-data-services-part-2/">Working with associations in ADO.NET Data Services , Part 2</a></h1>

      <div class="entry">
        <p>In part 2 ,we will talk about how to use the client library to deal with :</p>
<h1>1..N Associations</h1>
<p>This is the case of entities associated with each other 1..N . An example from Northwind is the relation between Categories and Products Entities. </p>
<p>An instance of the Categories entity type should have associated Products entities, this is another way of saying “ A row in the Products table should have links to a row in the Categories table”.    <br />In case of 1..N relations , the left( child ) ends of the association are expressed as Collection properties on the right ( parent ) end of the relation.     <br />This is shown in the metadata of the service as :</p>
<pre class="darkcsharpcode"><span class="kwrd">&lt;</span><span class="html">EntityType</span> <span class="attr">Name</span><span class="kwrd">=&quot;Categories&quot;</span><span class="kwrd">&gt;</span>
<span class="rem">&lt;!-- Primary Key--&gt;</span>
<span class="kwrd">&lt;</span><span class="html">Key</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">PropertyRef</span> <span class="attr">Name</span><span class="kwrd">=&quot;CategoryID&quot;</span> <span class="kwrd">/&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">Key</span><span class="kwrd">&gt;</span>
 <span class="rem">&lt;!--Primitive Properties--&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">Property</span> <span class="attr">Name</span><span class="kwrd">=&quot;CategoryID&quot;</span> <span class="attr">Type</span><span class="kwrd">=&quot;Edm.Int32&quot;</span> <span class="attr">Nullable</span><span class="kwrd">=&quot;false&quot;</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">Property</span> <span class="attr">Name</span><span class="kwrd">=&quot;CategoryName&quot;</span> <span class="attr">Type</span><span class="kwrd">=&quot;Edm.String&quot;</span> <span class="attr">Nullable</span><span class="kwrd">=&quot;false&quot;</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">Property</span> <span class="attr">Name</span><span class="kwrd">=&quot;Description&quot;</span> <span class="attr">Type</span><span class="kwrd">=&quot;Edm.String&quot;</span> <span class="attr">Nullable</span><span class="kwrd">=&quot;true&quot;</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">Property</span> <span class="attr">Name</span><span class="kwrd">=&quot;Picture&quot;</span> <span class="attr">Type</span><span class="kwrd">=&quot;Edm.Binary&quot;</span> <span class="attr">Nullable</span><span class="kwrd">=&quot;true&quot;</span> <span class="kwrd">/&gt;</span>
 <span class="rem">&lt;!-- Child Entity Set--&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">NavigationProperty</span>
        <span class="attr">Name</span><span class="kwrd">=&quot;Products&quot;</span>
        <span class="attr">Relationship</span><span class="kwrd">=&quot;northwind.FK_Products_Categories&quot;</span>
        <span class="attr">FromRole</span><span class="kwrd">=&quot;Categories&quot;</span>
        <span class="attr">ToRole</span><span class="kwrd">=&quot;Products&quot;</span> <span class="kwrd">/&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">EntityType</span><span class="kwrd">&gt;</span></pre>
<p>This leads the client utility( DataSvcUtil.exe ) to generate a type Individual which has instances of types Customer and Contact as Properties.</p></p>
<p>The generated class on the client looks like this :<br />
  </p>
<pre class="darkcsharpcode"><span class="kwrd">public</span> <span class="kwrd">class</span> Categories {
  <span class="kwrd">public</span> global::System.Collections.ObjectModel.Collection&lt;Products&gt; Products {
            get {
                <span class="kwrd">return</span> <span class="kwrd">this</span>._Products;
            }
            set {
                <span class="kwrd">if</span> ((<span class="kwrd">value</span> != <span class="kwrd">null</span>))
                {
                    <span class="kwrd">this</span>._Products = <span class="kwrd">value</span>;
                }
            }
        }
}</pre>
<p>Now that we have set the stage, lets look at how one would use the client library to interact with the related types.</p>
<h5>Creating the link between the entities </h5>
<p>You have new instances of Individual , Contact and Customer and you want to persist the new entities and their relation to the store. </p>
<pre class="darkcsharpcode">DataServiceContext dsc = <span class="kwrd">new</span> DataServiceContext(<span class="kwrd">new</span> Uri(<span class="str">&quot;http://ServiceEndpoint&quot;</span>));
Categories freeProductsCategory = <span class="kwrd">new</span> Categories()
{
    CategoryName = <span class="str">&quot;Free Products&quot;</span>,
    Description = <span class="str">&quot;These products are free&quot;</span>,
};
Products freeHeadPhones = Products.CreateProducts(0, <span class="str">&quot;Free Headphones&quot;</span>, <span class="kwrd">false</span>);
Products freeZune = Products.CreateProducts(1, <span class="str">&quot;Free Zune&quot;</span>, <span class="kwrd">false</span>);

dsc.AddObject(<span class="str">&quot;Categories&quot;</span>, freeProductsCategory);
dsc.AddObject(<span class="str">&quot;Products&quot;</span>, freeHeadPhones);
dsc.AddObject(<span class="str">&quot;Products&quot;</span>, freeZune);</pre>
<p><strong>Now what ?</strong></p>
<p>Since the entities are created and added to the store can’t I just set the Customer and Contact Property to the Individual object and that will save the relation ?<br />
  </p>
<pre class="darkcsharpcode">freeProductsCategory.Products.Add(freeHeadPhones);
freeProductsCategory.Products.Add(freeZune);
dsc.SaveChanges();</pre></p>
<p>Shouldn’t this be enough ?<br />
  <br />Nope , that’s not enough to save the relation to the store.</p>
<p><strong>Why ?</strong></p></p>
<p>Remember that the client context only gives you POCO access to entities in the store and any new entities that you create.<br />
  <br />The Client context <strong>does not track any relations </strong>unless you <strong>explicitly ask it to do so !</strong></p>
<p><strong>Neat&#160; , now how do I ask it to do that ? </strong></p>
<p>You use the AddLink method defined on the context.<br />
  </p>
<pre class="darkcsharpcode">dsc.AddLink(freeProductsCategory, <span class="str">&quot;Products&quot;</span>, freeHeadPhones);
dsc.AddLink(freeProductsCategory, <span class="str">&quot;Products&quot;</span>, freeZune);</pre>
<p>The signature and the intent of the SetLink method is lucid , it binds 2 entities into a relation , its kinda like a priest at a wedding,<br />
  <br />This is what it looks like ..</p>
<p>AddLink ( Parentinstance ,”ChildPropertyName”,ChildInstance)</p>
<h5><strong>Deleting the parent entity</strong></h5>
<p>Deleting the parent entity means that the relations with the child entities are also removed.<br />
  <br />Think of this as the argument of “How do I delete an entity that has 1..1 links with other&#160;&#160; entities?”</p>
<p></p>
<p><strong>What happens if I delete the parent entity without deleting the links ?</strong></p>
<p>It depends on your store . If your database is configured to do a cascade delete on deletion of the parent entity ,you might get away with deleting the entity without removing the links</p>
<p>The right way to delete the entity is to remove all the links it has with the child entities and then delete the entity itself.<br />
  <br />The code would look like this..</p>
<p></p>
<pre class="darkcsharpcode">DataServiceContext dsc = <span class="kwrd">new</span> DataServiceContext(<span class="kwrd">new</span> Uri(<span class="str">&quot;http://ServiceEndpoint&quot;</span>));
<span class="rem">//Load an existing parent</span>
Categories freeProductsCategory = dsc<br />                                  .CreateQuery&lt;Categories&gt;(<span class="str">&quot;Categories&quot;</span>)
                                  .Where(cat =&gt; cat.CategoryName == <span class="str">&quot;Free Products&quot;</span>)
                                  .First();
<span class="rem">//Load all the related child Entities</span>
dsc.LoadProperty(freeProductsCategory, <span class="str">&quot;Products&quot;</span>);

<span class="rem">//Delete the links with each of the child entities</span>
<span class="kwrd">foreach</span> (Products freeProduct <span class="kwrd">in</span> freeProductsCategory.Products) {
    dsc.DeleteLink(freeProductsCategory, <span class="str">&quot;Products&quot;</span>, freeProduct);
}
<span class="rem">//Delete the parent entity</span>
dsc.DeleteObject(freeProductsCategory);
dsc.SaveChanges();</pre>
<p><strong>Wait !! what’s with the LoadProperty there ?<br />
    <br /></strong>Well, if you need to delete the relation , the way to identify the relation or the link is to have both the right and the left end of the relations to be materialized. without the expand , the Contact and the Customer property are null , and we don’t know which relation to delete.In case of 1..1 relations it might be easy to predict based on the relation name ,</p>
<p>but wouldn’t be easy in case of 1..n relations.</p>
<p></p>
<p><strong>Deleting the child entity</strong></p>
<pre class="darkcsharpcode"><span class="rem">//Load an existing parent</span>
Categories freeProductsCategory = dsc
                                   .CreateQuery&lt;Categories&gt;(<span class="str">&quot;Categories&quot;</span>)
                                   .Where(cat =&gt; cat.CategoryName == <span class="str">&quot;Free Products&quot;</span>)
                                   .First();
<span class="rem">//Load all the related child Entities</span>
dsc.LoadProperty(freeProductsCategory, <span class="str">&quot;Products&quot;</span>);

<span class="rem">//Delete the links with each of the child entities</span>
<span class="kwrd">foreach</span> (Products freeProduct <span class="kwrd">in</span> freeProductsCategory.Products) {
    dsc.DeleteLink(freeProductsCategory, <span class="str">&quot;Products&quot;</span>, freeProduct);
<span class="rem">    //Delete the child entity</span>
    dsc.DeleteObject(freeProduct);
}
dsc.SaveChanges();</pre>
<h5>Special Consideration for Navigation properties that are named differently than the Entity Type</h5>
<p>This is a special case because of a bug in the client library at the time of writing this post.<br />
  <br />If you have a navigation property&#160; which is named differently than the EntityType and try to delete the link between the source</p>
<p>and the navigation property , we produce an invalid URI for the DELETE of the link.</p>
<p>ex: </p>
<p><strong>Entity Type :</strong> Customers , <strong>EntitySet Name : </strong>Customers</p>
<p><strong>Navigation Properties :<br />
    <br /></strong>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <strong>EntityType :</strong> Orders , <strong>Navigation Property Name :</strong> CashOrders</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <strong>EntityType : </strong>Orders , <strong>Navigation Property Name : </strong>CreditCardOrders</p>
<p></p>
<p>
  <br />Upon calling ,</p>
<p>dataContext.DeleteLink(customerInstance,”CashOrders”,orderInstance);</p>
<p>We generate a DELETE to the URI</p>
<p>/Customers(Key)/$links/Orders(Key)</p>
<p>This is wrong , the DELETE should go to :</p>
<p>/Customers(Key)/$links/CashOrders(Key)</p>
<p>We will address this issue in a future release .In the meantime ,&#160; use the workaround below , </p>
<pre class="darkcsharpcode"><span class="kwrd">public</span> <span class="kwrd">partial</span> <span class="kwrd">class</span> YourDataContextClass {

    <span class="kwrd">public</span> <span class="kwrd">void</span> DeleteLinkManual(<span class="kwrd">object</span> source, <span class="kwrd">string</span> associationName, <span class="kwrd">object</span> target) {
            System.Uri UriOfParent;
            System.Uri UriOfChild;
            <span class="kwrd">this</span>.TryGetUri(source, <span class="kwrd">out</span> UriOfParent);
            <span class="kwrd">this</span>.TryGetUri(target, <span class="kwrd">out</span> UriOfChild);

            <span class="rem">//Get the Segment of the URI with the Key </span>
            <span class="kwrd">string</span> strChildAssociationURI = UriOfChild.Segments.Last();
            strChildAssociationURI = strChildAssociationURI.Substring(strChildAssociationURI.IndexOf(<span class="str">'('</span>));

            <span class="rem">//ServiceEndPoint/ParentEntitySet/$links/NavigationPropertyName(ChildEntitySetKey)</span>
            <span class="kwrd">string</span> requestUriForLinkDelete = System.String.Format(<span class="str">&quot;{0}/{1}/$links/{2}{3}&quot;</span>,
                                             <span class="kwrd">this</span>.BaseUri.OriginalString,
                                             UriOfParent.Segments.Last(),
                                             associationName,
                                             strChildAssociationURI);

            System.Net.WebRequest request = System.Net.WebRequest.Create(requestUriForLinkDelete);
            request.Method = <span class="str">&quot;DELETE&quot;</span>;
            System.Net.HttpWebResponse response = request.GetResponse() <span class="kwrd">as</span> System.Net.HttpWebResponse;
            <span class="kwrd">if</span> (response.StatusCode != System.Net.HttpStatusCode.NoContent)
            {
                <span class="kwrd">throw</span> (<span class="kwrd">new</span> System.Data.Services.Client.DataServiceClientException(<span class="str">&quot;Delete Failed&quot;</span>));
            }
            <span class="rem">//Detach this link as the link no longer exists and keep the context consistent</span>
            <span class="kwrd">this</span>.DetachLink(source, associationName, target);
      }
}</pre>
<p>and then , in your code , </p>
<p></p>
<pre class="darkcsharpcode">YourDataContext dataContext = new YourDataContext(&lt;Uri&gt;);<br />dataContext.DeleteLinkManual(customerInstance,”CashOrders”,orderInstance);</pre>
<p>This will produce the right URI : </p>
<p></p>
<pre class="darkcsharpcode">ServiceEndPoint/Customers(Key)/$links/CashOrders(Key) </pre>
<p>Note that this doesnt work in Silverlight , I will create a separate sample for Silverlight later .<br />
  </p>
<p>If you have any questions&#160; , leave a comment . If you have any issues with code and need help , please post your query on the astoria forums as I can’t promise that I will be able to reply to emails sent to me directly .The whole team is very active on the forums and the more eyes on a problem the better. </p>

      </div>

      <a href="/working-with-associations-in-ado-net-data-services-part-2/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/accessing-cross-domain-ado-net-data-services-from-the-silverlight-client-library/">Accessing Cross-Domain ADO.NET Data Services from the Silverlight Client Library</a></h1>

      <div class="entry">
        <p>When we built the client library for Silverlight in Silverlight 2.0 , the underlying Network Stack provided by Silverlight core libraries    <br />was very limited in terms of the Status Codes and Request Verbs that it supported.Our options were :     <br />a) Use the System.Net libraries provided by the agClr and give a limited subset of the functionality available on the desktop.     <br />b) Cook up our own Network stack and provide all the functionality provided on the desktop , in Silverlight.</p>
<p>We went with Option (b) and built a network stack that uses the browser’s underlying XmlHttpRequest object.    <br />This means that the <a href="http://msdn.microsoft.com/en-us/library/cc197955(VS.95).aspx">cross domain access available in Silverlight networking stack</a> is not available in our networking stack.     </p>
<p>Forums user Ben Hayat asked a <a href="http://forums.microsoft.com/Forums/ShowPost.aspx?PostID=3995200&amp;SiteID=1">question</a> about the guidelines for Cross-Domain access using our Silverlight Client Library .     </p>
<p>Now , this is not supported out of the box . But ,you can use the same solution as you would for an Ajax application ,    <br />which is building&#160; a server-side proxy that talks to the remote service and is completely transparent to the client library.     </p>
<p>Below is a sample Server-Side proxy that would help one talk to Data Services hosted on a different domain than the Silverlight application.     </p>
<p>There are a couple of issues that a Server-Side proxy needs to solve for an ADO.NET Data Service ,     <br />&#160; a) Appear totally transparent     <br />&#160; b) Resolve Identities of resources to appear as they would from the Proxy service and not the original Data Service.     </p>
<p>Issue a) is easy , Issue b) is a little more involved.     </p>
<p>When the client library receives a Payload back as part of a query ,we construct the entity’s identity based on the following rules,     <br />ex: If you browse to <a href="http://ServiceEndpoint/Northwind.svc/"><strong>http://ServiceEndpoint</strong></a><strong>/Northwind.svc/Customers('ALFKI') ,</strong>the response looks like this :</p>
<pre class="csharpcode">&#160;<span class="kwrd">&lt;</span><span class="html">entry</span> <strong><font color="#800040"><span class="attr">xml:base</span><span class="kwrd">=&quot;http://ServiceEndpointNorthwind.svc/&quot;</span>
</font></strong>       <span class="attr">xmlns:d</span><span class="kwrd">=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices&quot;</span>
       <span class="attr">xmlns:m</span><span class="kwrd">=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/metadata&quot;</span>
       <span class="attr">xmlns</span><span class="kwrd">=&quot;http://www.w3.org/2005/Atom&quot;</span><span class="kwrd">&gt;</span>
<strong><font color="#800000"><span class="kwrd">&lt;</span><span class="html">link</span> <span class="attr">rel</span><span class="kwrd">=&quot;edit&quot;</span> <span class="attr">title</span><span class="kwrd">=&quot;Customers&quot;</span> <span class="attr">href</span><span class="kwrd">=&quot;Customers('ALFKI')&quot;</span> <span class="kwrd">/&gt;</span>
</font><span class="kwrd">&lt;</span><span class="html">id</span><span class="kwrd">&gt;</span>http://ServiceEndpointNorthwind.svc/Customers('ALFKI')<span class="kwrd">&lt;/</span><span class="html">id</span><span class="kwrd">&gt;</span> </strong>
    <span class="kwrd">&lt;</span><span class="html">content</span> <span class="attr">type</span><span class="kwrd">=&quot;application/xml&quot;</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
     <strong>Properties go here <br /></strong>    <span class="kwrd">&lt;/</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;/</span><span class="html">content</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">entry</span><span class="kwrd">&gt;</span></pre>
<p>&#160;</p>
<p>When we get the above payload back as a response , we&#160; create&#160; a Customer object and its identity is the value of the &lt;id&gt; field in the payload.<br />
  <br />When you make any edits to this Customer object, <u>the edits are sent to the URI specified in the &lt;link rel=”edit”&gt; value of the payload.<br />
    <br /></u>Which means that the proxy server has to modify the payload it recieves from the real Data Service to make sure that all links , Id and Edit</p>
<p>point to the proxy Data Service and not the real Data Service. The easiest way to do this is to do a String.Replace replacing all occurrences of the</p>
<p>the original Service end point with the Proxy Service end point in the payload.</p>
<p>Without further stalling&#160; , here is the&#160; <a href="http://blogs.msdn.com/phaniraj/attachment/9008548.ashx">Proxy Handler</a>. </p>
<h5>A couple of words of caution so that I can keep my job, </h5>
<ol>
<li>This is only a sample implementation of what a proxy <strong>could</strong><em></em> look like. </li>
<li>Do <strong>NOT</strong> use this in your production applications. </li>
<li>This is <strong>NOT</strong> an official solution provided by the ADO.NET Data Services team ,
<p>this is just me illustrating how to write a proxy. </li>
<li>If you download this sample , it means that you understand these rules . </li>
<li>For any problems with this sample , leave a comment on my blog ,<br />
    <br />the ADO.NET Data Services Forums is <strong>NOT </strong>the right place for any issues with this proxy. </li>
</ol>
<h5>Running the sample&#160; </h5>
<ol>
<li>Download the sources from the link above. </li>
<li>Open the solution in Visual Studio 2008 and hit F5. </li>
<li>You should see the Silverlight application come up and<br />
    <br />get the data from the Data Service hosted in a different application. </li>
</ol>
<p>The Cross Domain Proxy is a generic AShx handler which receives the requests from the Client library and forwards them onto the<br />
  <br />original Data Service , gets the response , changes the ID and Edit Links and returns the response to the Silverlight Client . </p>
<ol>
<li>Client Sends request to Proxy Handler </li>
<li>Proxy Handler sends the request data to the Original Data Service </li>
<li>Data Service responds with response </li>
<li>Proxy handler reads response and changes the ID and EDIT links in the payload </li>
<li>In case of POST , the Proxy Handler changes the response “Location” Header<br />
    <br />so that the identity points to the Proxy Handler and not the Data Service. </li>
<li>Proxy handler returns the response data to the client . </li>
</ol>
<h5>How do I use this in my application ?</h5>
<p></p>
<p>The source available for download contains “CrossDomainHandlerBase” which is the class that contains the functionality required<br />
  <br />for recieving requests from clients and forwarding the requests onto the Data Service. </p>
<h5>Setting up the Server-Side Proxy </h5>
<p></p>
<ol>
<li>Add a Generic ASHX Handler to the application that contains the Web page hosting the Silverlight application ,
<ol>
<li>Right-Click on Project </li>
<li>Add –&gt; New Item –&gt; Generic Handler<br />
        <br />&#160;<a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/AccessingCrossDomainDataServicesfromtheS_C375/image_2.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/AccessingCrossDomainDataServicesfromtheS_C375/image_2.png"><img title="image" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="449" alt="image" src="/assets/image_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/AccessingCrossDomainDataServicesfromtheS_C375/image_thumb.png" width="644" border="0" /></a> </li>
</ol>
</li>
</ol>
<p>&#160;&#160;&#160; 2. This will create a Generic Handler which implements IHttpHandler.</p>
<p>&#160;&#160;&#160; 3. Remove the code stubs for IHttpHandler methods and properties .<br />
  <br />&#160;&#160;&#160; 4. Replace IHttpHandler with “CrossDomainHandlerBase”.&#160; <br />&#160;</p>
<pre class="csharpcode">    [WebService(Namespace = <span class="str">&quot;http://tempuri.org/&quot;</span>)]
    [WebServiceBinding(ConformsTo = WsiProfiles.BasicProfile1_1)]
    <span class="kwrd">public</span> <span class="kwrd">class</span> CrossDomainHandler : CrossDomainHandlerBase
    {
        <span class="kwrd">public</span> CrossDomainHandler()
            : <span class="kwrd">base</span>()
        {
            <span class="kwrd">this</span>.DataServiceURI = <span class="str">&quot;URI FOR THE DATA SERVICE&quot;</span>;
            <span class="kwrd">this</span>.ProxyServiceURI = <span class="str">&quot;URI FOR THE PROXY SERVICE&quot;</span>;
        }
     }</pre>
<p>&#160;&#160;&#160; 4.From this point on , for all purposes , the Proxy Handler service IS the Data Service</p>
<h5>Setting up the Silverlight application for Cross-Domain access</h5>
<ol>
<li>Right-Click on “References” in the Project </li>
<li>Select &quot;Add Service Reference&quot; </li>
<li>In the “Address” field , enter the URI for the proxy service , </li>
<li><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/AccessingCrossDomainDataServicesfromtheS_C375/image_6.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/AccessingCrossDomainDataServicesfromtheS_C375/image_6.png"><img title="image" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="484" alt="image" src="/assets/image_thumb_2.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/AccessingCrossDomainDataServicesfromtheS_C375/image_thumb_2.png" width="519" border="0" /></a>
<p></li>
<li>In case of the sample solution provided, the Provider is called “DataProvider”, hence<br />
    <br />the code-gen produces the code with a type “DataProvider” derived from DataServiceContext. </li>
<li>When you instantiate the Context in the Silverlight application , always specify the Base URI<br />
    <br />as the Proxy Handler’s URI,</p>
<p></p>
<pre class="csharpcode">DataProvider dataProvider = <span class="kwrd">new</span> DataProvider(
                <span class="kwrd">new</span> Uri(<span class="str">&quot;RELATIVE URI FOR THE PROXY SERVICE&quot;</span>,
                            UriKind.RelativeOrAbsolute)
                  );</pre>
</li>
<li>This is the most important step of all <strong>, Party on !!</strong> </li>
</ol>
<p>To do in the near future :</p>
<ol>
<li>Convert the Handler to be an IHttpAsyncHandler so that we dont block on waiting for the response from the Data Service </li>
<li>Provide better mechanisms for Identity Resolution other than String.Replace . </li>
<li>Write a better demo app than something which binds all the parts of my name to a Grid. </li>
<li>Your suggestion goes here . </li>
</ol>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Components.PostAttachments/00/09/00/85/48/slCrossDomain.zip" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-components-postattachments/00-09-00-85-48/slCrossDomain.zip">slCrossDomain.zip</a></p>

      </div>

      <a href="/accessing-cross-domain-ado-net-data-services-from-the-silverlight-client-library/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/viewer-mail-1/">Viewer Mail , #1</a></h1>

      <div class="entry">
        <p><em>Disclaimer&#160; : These are my thoughts and opinions , although I work on the Astoria team , I am not the voice of the team.The team has its own voice and can be heard here : </em><a target="_blank" href="http://blogs.msdn.com/astoriateam/"><em>Project Astoria Team Blog</em></a></p>
<p>Hola ! </p>
<p>I am interrupting my regularly scheduled blog post to&#160; answer some really interesting questions about one of my blog posts , i.e <a target="_blank" href="http://blogs.msdn.com/phaniraj/archive/2008/07/02/working-with-relations-in-ado-net-data-services-beta-1.aspx" rel="nofollow">Working with Associations in ADO.NET Data Services</a>.&#160; These questions are from the comments on the post and     <br />also the public forums.     </p>
<p><strong>Vince says :      <br /></strong>”Hi,</p>
<p>I find bad to be forced to use the Addlink to allow us to save relational object in the DB.</p>
<p>We have a pretty full object model but the Addlink method needs string argument. As each entity knows all navigation properties, why to not have something like entity.NavigationObject rather than string SourceProperty. At least, myObject.MyNavigationProperty.Name or ToStringName would be better. </p>
<p>Thanks</p>
<p>Nice blogs</p>
<p>Regards</p>
<p>-Vince”</p>
<p>e    <br />Thank you Vince for the compliment and let me try to explain the reason we built the client this way.     </p>
<p>For V1 , we wanted to give you POCO access to the data classes. Although we could infer the relation based on the type of the navigation property , this would break scenarios where we have more than 1 navigation properties of the same type and belonging to the same entity Set.</p>
<p>Consider this entity ,</p>
<pre class="csharpcode"><span class="kwrd">public</span> <span class="kwrd">class</span> Customer {
<span class="kwrd">public</span> List&lt;Orders&gt; CashPurchases{get;set;}
<span class="kwrd">public</span> List&lt;Orders&gt; CreditCardPurchases{get;set;}
 }</pre>
<p>If you do an AddLink with just an instance of Orders, we would have to guess which navigation property we have to add the link to .</p>
<pre class="csharpcode">Customer newCustomer = <span class="kwrd">new</span> Customer();
Orders cashPurchase = <span class="kwrd">new</span> Orders();
Orders creditCardPurchase = <span class="kwrd">new</span> Orders();
context.AddLink( newCustomer , <span class="str">&quot;<strong>??</strong>&quot;</span>, cashPurchase);</pre>
<p>In the above case , trying to guess the name of the association will land us in hot water as we <strong>don't know which navigation property you intended </strong>.</p>
<p>we cant go the other way around and try to use the instance of Orders to guess the name of the association<br />
  <br />as we Orders may have other associations of type Customers and we dont know which one you intended.</p>
<p>If you do not wish to use the string to remember the association name , you can move that to a separate resource file and have all your strings localized in one place.</p>
<p>Consider this ..</p>
<pre class="csharpcode"><span class="kwrd">public</span> <span class="kwrd">class</span> StoreConstants{
<span class="kwrd">public</span> <span class="kwrd">static</span> <span class="kwrd">string</span> Customers_To_CashPurchases  =<span class="str">&quot;CashPurchases&quot;</span>;
<span class="kwrd">public</span> <span class="kwrd">static</span> <span class="kwrd">string</span> Customers_To_CreditCardPurchases  =<span class="str">&quot;CreditCardPurchases&quot;</span>;
}</pre>
<p>and then in your code ,</p>
<pre class="csharpcode">Customer newCustomer = <span class="kwrd">new</span> Customer();
Orders cashPurchase = <span class="kwrd">new</span> Orders();
Orders creditCardPurchase = <span class="kwrd">new</span> Orders();
context.AddLink( newCustomer , StoreConstants.Customers_To_CashPurchases , cashPurchase);
context.AddLink( newCustomer , StoreConstants.Customers_To_CreditCardPurchases , creditCardPurchase);</pre>
<p><strong>Simon says :<br />
    <br /></strong></p>
<p>”Hi Phani,</p>
<p>Nice clear exposition of the topic.</p>
<p>However, I would think that, given that we are working with a client-side proxy, the separation of object tracking and association tracking is a bit too abstract for the most common scenarios where this client class may be used, ie with out-of-the-box databinding to UI components etc.</p>
<p>I understand the nice separation of concerns etc, but surely if the Customer or Contact properties are set in code, the user intends them to be set.I guess it is about user intentions and usability. Could you provide an overload such as </p>
<p>Context.AddObject( String property,Object value, Boolean shouldTrackAssociations)</p>
<p>Just a thought/suggestion.</p>
<p></p>
<p>Cheers,<br />
  <br />Simon”</p>
<p>Thanks Simon for the compliment and lets explore this further,</p>
<p>I agree that the concept of treating associations as first class resources is somewhat new to the application scenarios where the client library is being used.</p>
<p>At the same time , we dont want to make assumptions on how the relation exists on the server as the client does not have enough information about the server schema. </p>
<p>Sure , we have the CLR types reflect the associations on the server i.e Reference for 1..1 relations and Collection types for 1..N relations.</p>
<p>But we really dont want to make assumptions about this.</p>
<p>Associations are first class resources on the server too , which means that any changes to associations should happen as separate requests or as part of another request. That making the assumption of a given relation causes an additional HTTP Request&#160; , which uses bandwidth you will be paying for .</p>
<p>Even if we added some magic to cause </p>
<p>newProduct.Categories.Add(newCategory) ;</p>
<p>to be </p>
<p>Context.AddLink(newProduct,&quot;Categories&quot;,newCategory);</p>
<p>then the entity classes Products and Category would have to know about the DataServiceContext ,</p>
<p>newProduct.Context = myDataServiceContext;</p>
<p>and this would just look ugly&#160; ,IMHO.</p>
<p>Now , that was just me explaining how things are and why we cant do this <strong><em>today </em></strong>.</p>
<p>Let me share my thoughts of how this should be done and see how this sits with you .</p>
<p>If an entity has only one navigation property of a specify type .</p>
<p><em>ex: Customers has only one Navigation property of type Address.<br />
    <br /></em>Regardless of whether it is a Reference property or a Collection property,</p>
<p>updating the CLR property on the entity should setup the link</p>
<p>ex:</p>
<p>Address newAddress = new Address(){</p>
<p>City=’Bellevue’,</p>
<p>State=’WA’</p>
<p>};</p>
<p>newCustomer.Address = newAddress;</p>
<p>should automatically set this relation up in this way ,</p>
<p>context.SetLink(newCustomer,”Address”,newAddress);</p>
<p>To achieve this ,<em> without letting the entities know about the context </em>,the entities would have to notify the context that they have navigation properties and the context should listen for changes to the navigation properties.</p>
<p>But when should the context hook itself up to the afore-mentioned events ?</p>
<p>when the source entity is modified in some way perhaps ?</p>
<p>ex : </p>
<pre class="csharpcode">context.AddObject(“Customers”,newCustomer);<br />
//pseudo code <span class="kwrd">for</span> AddObject<br />
<span class="kwrd">public</span> <span class="kwrd">void</span> AddObject(<span class="kwrd">string</span> entitySetName,<span class="kwrd">object</span> entity) {
   ICanHazNavigationProperties navProps = entity <span class="kwrd">as</span> ICanHazNavigationProperties ;
    <span class="kwrd">if</span>( navProps !=<span class="kwrd">null</span>) {
    navProps.RegisterHandler(HandleNavPropChange);
  }<br />// do something here
}

<span class="kwrd">private</span> <span class="kwrd">void</span> HandleNavPropChange(<span class="kwrd">object</span> source,<span class="kwrd">string</span> associationName,<br />               <span class="kwrd">object</span> target,Multiplicity associationMultiplicity,NavPropAction action) <br />{
<span class="kwrd">  switch</span>(action)
  {
    <span class="kwrd">case</span> ( NavPropAction.AddLink ) :
                <span class="kwrd">switch</span>(associationMultiplicity) {
                         <span class="kwrd">case</span> Multiplicity.One :
                           <span class="kwrd">this</span>.SetLink(source,associationName,target);
                          <span class="kwrd">break</span>;
               }
    <span class="kwrd">break</span>;      <br /> //Other cases skipped for brevity
    }
  }

}</pre>
<p>Now , if we go with this approach, the entity types themselves cannot be pure POCO objects if you want automatic<br />
  <br />link tracking.&#160; For auto generated types using DataSvcUtil.exe or “Add Service Reference” this is no big deal.</p>
<p>But what about cases where one has to <strong>hand-craft the entity types by hand ?</strong></p>
<p>Well, this was me just thinking out loud. If you agree/disagree , leave a comment and get featured in the next</p>
<p>“Viewer Mail”.</p>
<p></p>
<p>A data geek joke , just like associations are first class resources , comments are first class material for blog posts :)</p>

      </div>

      <a href="/viewer-mail-1/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/astoria-iis-http-400-bad-request-on-posting-large-payloads-to-an-astoria-service/">Astoria & IIS , HTTP 400 Bad Request on Posting Large Payloads to an astoria service</a></h1>

      <div class="entry">
        <p>We’ve seen this in the labs and also reported by our customers on the forums, If you try to post&nbsp; a large amount of data to <br />an astoria data service , you might receive a response code Http 400 Bad Request even though the response data is valid. </p>
<p>An ADO.NET Data Service sits on top of Windows Communication Foundation , although most of the required plumbing is hidden away from you&nbsp; ,&nbsp; you can still see the effects in scenarios such as this .</p>
<h6>Why do I get a generic 400 Bad Request in this case ?</h6>
<p>When the request size ( including headers ) exceeds 64 K ( 65536 bytes ) , WCF chokes on the request as this request size is greater than the limit on the maximum size of the request the service can recieve and sends out a HTTP 400 Bad Request as the request is invalid. </p>
<h6>How do I fix this ?</h6>
<p>a)The maximum size of the request which a WCF service can process is controlled by the <a href="http://msdn.microsoft.com/en-us/library/system.servicemodel.channels.transportbindingelement.maxreceivedmessagesize.aspx" mce_href="http://msdn.microsoft.com/en-us/library/system.servicemodel.channels.transportbindingelement.maxreceivedmessagesize.aspx">MaxReceivedMessageSize</a> property on the WCF binding. <br />The default value is 65536 ,exceeding which you get the 400 response code. </p>
<p>In the web.config of the web site hosting the service , add the following node in the &lt;System.ServiceModel&gt; section. </p>
<p>
<pre class="darkcsharpcode"><span class="kwrd">&lt;</span><span class="html">system.serviceModel</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">services</span><span class="kwrd">&gt;</span>
  <span class="rem">&lt;!-- The name of the service --&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">service</span> <span class="attr">name</span><span class="kwrd">="NorthwindService"</span><span class="kwrd">&gt;</span>
    <span class="rem">&lt;!-- you can leave the address blank or specify your end point URI --&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">endpoint</span> <span class="attr">address</span> <span class="kwrd">="YourServiceEndpoint"</span>
              <span class="attr">binding</span><span class="kwrd">="webHttpBinding"</span> <span class="attr">bindingConfiguration</span><span class="kwrd">="higherMessageSize"</span>
     <span class="attr">contract</span> <span class="kwrd">="System.Data.Services.IRequestHandler"</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;/</span><span class="html">endpoint</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">service</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">services</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">bindings</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">webHttpBinding</span><span class="kwrd">&gt;</span>
    <span class="rem">&lt;!-- configure the maxReceivedMessageSize  value to suit the max size of </span>
<span class="rem">         the request ( in bytes ) you want the service to recieve--&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">binding</span> <span class="attr">name</span><span class="kwrd">="higherMessageSize"</span> <span class="attr">maxReceivedMessageSize</span> <span class="kwrd">="MaxMessageSize"</span><span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">webHttpBinding</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">bindings</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">serviceHostingEnvironment</span> <span class="attr">aspNetCompatibilityEnabled</span><span class="kwrd">="true"</span><span class="kwrd">/&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">system.serviceModel</span><span class="kwrd">&gt;</span></pre>
<p>b) If hosted on IIS , the ASP.Net Request Size restriction can also cause a large request to be rejected, <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; You will need to set the <a href="http://msdn.microsoft.com/en-us/library/system.web.configuration.httpruntimesection.maxrequestlength.aspx" target="_blank" mce_href="http://msdn.microsoft.com/en-us/library/system.web.configuration.httpruntimesection.maxrequestlength.aspx">HttpRuntimeSection.MaxRequestLength</a> Property. </p>
<pre class="darkcsharpcode"><span class="kwrd">&lt;</span><span class="html">system.web</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">httpRuntime</span> <span class="attr">MaxRequestLength</span><span class="kwrd">="ValueInKiloBytes"</span> <span class="kwrd">/&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">system.web</span><span class="kwrd">&gt;</span></pre>
<h6>How do I Identify if the reason I am seeing a 400 Bad Request&nbsp; is because of the request size ?</h6>
<p>Identify if WCF is throwing an exception under the covers which is not being surfaced to you at the HTTP level. <br />You can <a title="Instructions on configuring WCF tracing" href="http://msdn.microsoft.com/en-us/library/ms733025.aspx" target="_blank" mce_href="http://msdn.microsoft.com/en-us/library/ms733025.aspx">configure WCF tracing</a> on the server-side to log the necessary information from the WCF layer. <br />Once you have tracing setup and you reproduced the failure , check if the log contains one or both of these exception messages.&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp;&nbsp; </p>
<pre class="darkcsharpcode">System.ServiceModel.ProtocolException
<span class="str">"The maximum message size quota for incoming messages (65536) has been exceeded.
To increase the quota, use the MaxReceivedMessageSize property on the appropriate binding element."
</span>
System.Web.HttpException
<span class="str">"Maximum request length exceeded."</span></pre>
<p>If you see that the log does contain this message , then you can be sure that the failure is because of the message size <br />and apply this fix accordingly.</p>

      </div>

      <a href="/astoria-iis-http-400-bad-request-on-posting-large-payloads-to-an-astoria-service/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/dataservicecontext-detect-if-there-are-pending-changes/">DataServiceContext , Detect if there are pending changes</a></h1>

      <div class="entry">
        <p><strike></strike>
<p>Hi ,</p>
<p>I ran into this interesting scenario in the forums today .    <br />How does one find out if there are any pending changes in the DataServiceContext that you have to submit to the store ?     <br />&#160; <br />This is quite simple actually .     <br />The DataServiceContext has 2 collections called <a href="http://msdn.microsoft.com/en-us/library/system.data.services.client.dataservicecontext.entities.aspx">Entities</a> and <a href="http://msdn.microsoft.com/en-us/library/system.data.services.client.dataservicecontext.links.aspx">Links</a>. These collections contain entities and links that are tracked by the context.     <br />Given these collections , how does one know if any of them were changed on the client by the appropriate API ?     <br />Lets look at the collections one by one ,     <br />&#160;</p>
<h4>Entities</h4>
<p>DataServiceContext.Entities gives you a List&lt;<a href="http://msdn.microsoft.com/en-us/library/system.data.services.client.entitydescriptor.aspx">EntityDescriptor</a>&gt;&#160; , each EntityDescriptor instance contains a <a href="http://msdn.microsoft.com/en-us/library/system.data.services.client.descriptor.state.aspx">State</a> property.     <br />If the State is anything other than <a href="http://msdn.microsoft.com/en-us/library/system.data.services.client.entitystates.aspx">Unchanged</a> , then the changes made to the entity on the client side are not commited to the server.     <br />This is because we change the states of the entities to Unchanged&#160;&#160; after you call SaveChanges on the context.</p>
<p>The basic state changes are : </p>
<p>UpdateObject –&gt; Modified&#160;&#160; -&gt; SaveChanges –&gt; UnChanged    <br />DeleteObject&#160; –&gt; Deleted&#160;&#160;&#160; -&gt; SaveChanges –&gt; UnChanged     <br />AddObject&#160;&#160;&#160;&#160; –&gt; Added&#160;&#160;&#160;&#160;&#160;&#160; -&gt; SaveChanges –&gt; UnChanged</p>
<p>So , to find out if there are any entities&#160; in the DataServiceContext which have been changed and not saved,    <br />you would write something like this :     </p>
<pre class="darkcsharpcode"><span class="kwrd">bool</span> pendingEntityChanges = dsContext.Entities.Any(ed =&gt; ed.State != EntityStates.Unchanged);</pre>
<p></p>
<h4>Links</h4>
<p>DataServiceContext.Links gives you a List&lt;<a href="http://msdn.microsoft.com/en-us/library/system.data.services.client.linkdescriptor.aspx">LinkDescriptor</a>&gt; , each LinkDescriptor instance contains a <a href="http://msdn.microsoft.com/en-us/library/system.data.services.client.descriptor.state.aspx">State</a> property ,</p>
<p></p>
<h5>Links that point to collection properties</h5>
<p>&#160;&#160;&#160; AddLink-&gt; Added –&gt; SaveChanges –&gt; UnChanged</p>
<p>&#160;&#160; DeleteLink –&gt; Deleted –&gt; SaveChanges –&gt; Detached</p>
<h5>Links that point to reference properties</h5>
<p>SetLink with Target not Null –&gt; Modified –&gt; SaveChanges –&gt; UnChanged<br />
  <br />SetLink with Target Null –&gt; Modified –&gt; SaveChanges –&gt; Detached</p>
<p>To query for links which have not yet been saved , you would write :</p>
<p></p>
<pre class="darkcsharpcode"><span class="kwrd">bool</span> pendingLinkChanges = dsContext.Links.Any(ld =&gt; ld.State != EntityStates.Unchanged);</pre>
<p>
  <br />and finally , the function to check if there are any unsaved changes ( Entities / Links ) in the context :</p>
<p></p>
<pre class="darkcsharpcode"><span class="kwrd">private</span> <span class="kwrd">bool</span> HasUnsavedChanges(DataServiceContext dataContext){
  <span class="rem">//Check if any Entities are unsaved</span>
 <span class="kwrd">return</span> dataContext.Entities.Any(ed =&gt; ed.State != EntityStates.Unchanged)
 <span class="rem">//Check if any Links are unsaved</span>
 || dataContext.Links.Any(ld =&gt; ld.State != EntityStates.Unchanged)
}</pre>

      </div>

      <a href="/dataservicecontext-detect-if-there-are-pending-changes/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/happy-birthday-to-me-again/">Happy Birthday to Me , Again!!!</a></h1>

      <div class="entry">
        <p mce_keep="true">&nbsp;</p>
<p>Its that time of the year again ! <br />I grow a year older ,every year , on the year. <br />This happened to <a href="http://blogs.msdn.com/phaniraj/archive/2007/09/17/happy-birthday-to-me.aspx" mce_href="http://blogs.msdn.com/phaniraj/archive/2007/09/17/happy-birthday-to-me.aspx">me last year</a> too and I have a strong suspicion it will happen next year too . </p>
<p>Stuff I did over the last year . </p>
<p>14th Jan 2008&nbsp;&nbsp; ,&nbsp; Joined the Astoria team. <br />14th Jan 2008&nbsp;&nbsp; ,&nbsp; Saw snowfall for the first time. <br />23rd Jan 2008&nbsp;&nbsp; ,&nbsp; Went Snowboarding for the&nbsp; first time. <br />23rd Jan 2008&nbsp;&nbsp; ,&nbsp; Ran into a tree while snowboarding for the first time. <br />28th April 2008 ,&nbsp; Went Sky-diving at Snohomish and didn’t jump off the plane ( got scared and canceled jump ). <br />15th May 2008&nbsp; ,&nbsp; Went hang-gliding at Tiger Hill , Issaquah ( yes , first time ).&nbsp; <br />5th July 2008&nbsp;&nbsp;&nbsp; ,&nbsp; Went River rafting for the first time in Wenatchee valley. <br />5th July 2008&nbsp;&nbsp; , Jumped head-first into a rapid just to see if I could , ( I could , don’t think I will ever do it again) </p>
<p>I don’t know if I have become more adventurous or just suicidal. </p>
<p>From a work perspective , <br />&nbsp; Joined the only team I wanted to work for , the Astoria team. <br />&nbsp; Worked with the team on Astoria Beta1 and RTM ,&nbsp; <br />&nbsp; And the adventurous <a href="http://blogs.msdn.com/phaniraj/archive/2008/09/03/interim-release-making-sl2-beta-2-clients-work-with-net-fx-3-5-sp1-rtm-servers.aspx" mce_href="http://blogs.msdn.com/phaniraj/archive/2008/09/03/interim-release-making-sl2-beta-2-clients-work-with-net-fx-3-5-sp1-rtm-servers.aspx">interim release of Silverlight Client library for RTM.</a> <br />&nbsp; I still can’t&nbsp; believe that I work for this team . <br />&nbsp; <br />Here’s to 27 years of living and loving !</p>

      </div>

      <a href="/happy-birthday-to-me-again/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/ajax-preview-2-declarative-instantiation-of-ajaxcontroltoolkit-controls/">Ajax preview 2 : Declarative Instantiation of AjaxControlToolkit Controls</a></h1>

      <div class="entry">
        <p>Today ,we will talk about using the Declarative Syntax to instantiate certain AjaxControlToolkit Behaviors .    </p>
<p>Step 0: Figure out which are the script files needed for the Behavior to work and include the appropriate Script&#160;&#160;&#160;&#160;&#160;&#160; references&#160; in your page .     <br />For the PopupControlBehavior , the script files would be :</p>
<pre class="darkcsharpcode">AjaxControlToolkit.ExtenderBase.BaseScripts.js
AjaxControlToolkit.Common.Common.js
AjaxControlToolkit.Compat.Timer.Timer.js
AjaxControlToolkit.Animation.Animations.js
AjaxControlToolkit.Animation.AnimationBehavior.js
AjaxControlToolkit.PopupExtender.PopupBehavior.js
AjaxControlToolkit.PopupControl.PopupControlBehavior.js</pre>
<p>Step 1: Declare the behaviors you wish to attach to the templated elements.</p>
<pre class="darkcsharpcode"><span class="kwrd">&lt;</span><span class="html">body</span> <span class="attr">xmlns:sys</span><span class="kwrd">=&quot;javascript:Sys&quot;</span> <span class="attr">xmlns:popup</span><span class="kwrd">=&quot;javascript:AjaxControlToolkit.PopupControlBehavior&quot;</span><span class="kwrd">&gt;</span></pre>
<p>Step 2 : In the template , attach this behavior to the target element using the sys:attach syntax.</p>
<pre class="darkcsharpcode"><span class="kwrd">&lt;</span><span class="html">a</span> <span class="attr">href</span><span class="kwrd">=&quot;#&quot;</span> <span class="attr">sys:attach</span><span class="kwrd">=&quot;popup&quot;</span> .....<span class="kwrd">&gt;</span>Some Text Here<span class="kwrd">&lt;/</span><span class="html">a</span><span class="kwrd">&gt;</span></pre>
<p>Step 3 : Depending on the behavior you are using , set the appropriate properties .<br />
  <br />Since I am using the PopupControlBehavior , we will need to set the PopupControlID and the Position properties of the behavior.</p>
<pre class="darkcsharpcode"><span class="kwrd">&lt;</span><span class="html">a</span> <span class="attr">popup:popupcontrolid</span><span class="kwrd">=&quot;&quot;</span>  <span class="attr">popup:position</span><span class="kwrd">=&quot;4&quot;</span> <span class="kwrd">&gt;</span>...<span class="kwrd">&lt;/</span><span class="html">a</span><span class="kwrd">&gt;</span></pre></p></p>
<p><strong>Declarative template&#160; for Master-Details view with popupbehavior : </strong></p>
<pre class="darkcsharpcode"><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">id</span><span class="kwrd">=&quot;listTemplate&quot;</span> <span class="attr">style</span><span class="kwrd">=&quot;width: 150px&quot;</span> <span class="attr">class</span><span class="kwrd">=&quot;yellow&quot;</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">ul</span> <span class="attr">sys:attach</span><span class="kwrd">=&quot;dataview&quot;</span> <span class="attr">class</span><span class="kwrd">=&quot;sys-template&quot;</span> <span class="attr">dataview:data</span><span class="kwrd">=&quot;&quot;</span><span class="kwrd">&gt;</span>
     <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;<br />           &lt;</span><span class="html">span</span> <span class="attr">sys:attach</span><span class="kwrd">=&quot;popup&quot;</span> <span class="attr">popup:popupcontrolid</span><span class="kwrd">=&quot;subDiv&quot;</span> <span class="attr">popup:position</span><span class="kwrd">=&quot;4&quot;</span>
      <span class="attr">sys:id</span><span class="kwrd">=&quot;master&quot;</span><span class="kwrd">&gt;</span><span class="kwrd">&lt;/</span><span class="html">span</span><span class="kwrd">&gt;<br /></span>
       <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">id</span><span class="kwrd">=&quot;subDiv&quot;</span> <span class="attr">class</span><span class="kwrd">=&quot;grey&quot;</span> <span class="attr">style</span><span class="kwrd">=&quot;display: none; width: 300px&quot;</span><span class="kwrd">&gt;<br /></span>
           <span class="kwrd">&lt;</span><span class="html">ul</span> <span class="attr">class</span><span class="kwrd">=&quot;sys-template&quot;</span> <span class="attr">sys:attach</span><span class="kwrd">=&quot;dataview&quot;</span> <span class="attr">dataview:data</span><span class="kwrd">=&quot;&quot;</span><span class="kwrd">&gt;</span>
                            <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;</span> <span class="kwrd">&lt;/</span><span class="html">li</span><span class="kwrd">&gt;<br /></span>
           <span class="kwrd">&lt;/</span><span class="html">ul</span><span class="kwrd">&gt;<br /></span>
          <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span>
      <span class="kwrd">&lt;/</span><span class="html">ul</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span></pre>
<p>Complete Sample Code : <a href="http://cid-925c2d2bb2d03c6b.skydrive.live.com/self.aspx/Public/DeclarativeMasterDetails.txt">Click Me</a></p>

      </div>

      <a href="/ajax-preview-2-declarative-instantiation-of-ajaxcontroltoolkit-controls/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/interim-release-making-sl2-beta-2-clients-work-with-net-fx-3-5-sp1-rtm-servers/">Interim Release: Making SL2 Beta 2 Clients Work With .NET Fx 3.5 SP1 RTM Servers</a></h1>

      <div class="entry">
        <p>Cross-posted from here : <a href="http://blogs.msdn.com/astoriateam/archive/2008/09/02/interim-release-making-sl2-beta-2-clients-work-with-net-fx-3-5-sp1-rtm-servers.aspx">Interim Release: Making SL2 Beta 2 Clients Work With .NET Fx 3.5 SP1 RTM Servers</a>    </p>
<p>As an offshoot of the feedback we got from different channels , ( Blogs , Direct emails to team members , our discussion forums, etc) we are releasing an “interim build” of the data services&#160; Silverlight client which works with the&#160; Silverlight 2 Beta 2 runtime ,and works with the RTM ADO.NET Data Services Server released as part of .Net Framework 3.5 SP1 RTM. </p>
<p>Download Location : <a href="http://www.microsoft.com/downloads/details.aspx?FamilyId=CF8F88C3-D869-46DE-A7BF-FB7712C791B7&amp;displaylang=en">ADO.NET Data Services Silverlight 2 B2 Client Refresh</a></p>
<p><b></b></p>
<p><b>How did we get here ? </b></p>
<p>We have different ship vehicles for the client and the server components. </p>
<p>When the Silverlight 2 Beta 2 Client shipped , the ADO.NET Data Services&#160; Server which was available was the one from .NET Framework 3.5 SP1 Beta1 and we made the SL client library work with the Server which was available when SL2 Beta 2 shipped. </p>
<p>When the RTM of .NET Framework 3.5 SP1 was released, the Silverlight Client library was still the one from the SL2 Beta 2 release. </p>
<p>The original plan was to ship a Silverlight Client Library for ADO.NET Data Services when Silverlight 2 RTMs.&#160; This meant that for a certain period of time , between when 3.5 SP1 RTM and SL2.0 RTM,&#160; users would have a Silverlight Client Library for ADO.NET Data Services which would not work with the RTM Server. </p>
<p>You can read more about this here :&#160; <a href="http://blogs.msdn.com/ADO.NET%20Data%20Servicesteam/archive/2008/08/12/compat-note-silverlight-beta-2-client-net-framework-3-5-sp1-server-components.aspx">Compat Note: Silverlight Beta 2 Client &amp; .NET Framework 3.5 SP1 Server Components</a></p>
<p><b></b></p>
<p><b>What is this release about ? </b></p>
<p>We took the Silverlight Client Library code that was going be released as part of the SL 2.0 RTM SDK (or almost, you never know when you’re set and won’t touch the bits again) and built it against the SL 2 Beta 2 Runtime and SDK components.This new downloadable assembly will allow your Silverlight applications built against Silverlight 2 Beta 2 to talk to Data Services servers built with the .NET 3.5 SP1 RTM release </p>
<p><b></b></p>
<p><b>Should everyone upgrade to this release of the client library ?</b></p>
<p>If your client applications are built on SL2 Beta 2 SDK and talk&#160; to the ADO.NET Data Services Server released as part of <b>.NET Framework 3.5 SP1 Beta1</b> , then upgrading to this Assembly will <b>break your client applications.&#160; </b><b>Don’t upgrade unless the Data Services Server is from .NET Framework 3.5 SP1 RTM.</b></p>
<p>If you want your Silverlight applications built on SL2 Beta 2 SDK to talk to the Astoria Server released as part of the <b>.NET Framework 3.5 SP1 RTM</b>, then you should upgrade to this version of the System.Data.Services.Client Library. </p>
<p><b></b></p>
<p><b>Are there any gotchas to be aware of ? </b></p>
<p>Yes -- <strong>Don’t depend on this “interim release” for your production applications.</strong></p>
<p>Wait until Silverlight 2.0 RTMs to deploy any Silverlight applications that use the System.Data.Services.Client library. </p>
<p><b></b></p>
<p><b>How different is this from the RTM library ? </b></p>
<p>Well, most of the code is the same as will be shipped in the Silverlight RTM SDK.&#160; The difference being that we have to depend on the SL2 Beta 2 Runtime for certain core functionality.&#160; So , consider this an early look at something close to what will come later on.&#160; Any feedback you give us will only help make the RTM library that much better. </p>
<p><b></b></p>
<p><b>Using the new Assembly</b></p>
<p>Download the new Silverlight Client Assembly from here : <a href="http://www.microsoft.com/downloads/details.aspx?FamilyId=CF8F88C3-D869-46DE-A7BF-FB7712C791B7&amp;displaylang=en">ADO.NET Data Services Silverlight 2 B2 Client Refresh</a></p>
<p><b></b></p>
<p><b>Installing the New Silverlight Client Assembly</b></p>
<p>1.&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Go to the %ProgramFiles%\Microsoft SDKs\Silverlight\v2.0\Libraries\Client folder </p>
<p>2.&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Backup the older System.Data.Services.Client.dll </p>
<p>3.&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Replace the older assembly with the new one. </p>
<p><b></b></p>
<p><b>Upgrading your applications to use the new SL Client Assembly</b></p>
<p>1.&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Remove any references to the older SL client library in your applications . </p>
<p>2.&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Compile to make sure that the build fails . </p>
<p>3.&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Add a reference to the newer SL Client assembly . </p>
<p>4.&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Compile again to make sure that the build succeeds . </p>
<p>Phani Raj    <br />ADO.NET Data Services Test Team</p>

      </div>

      <a href="/interim-release-making-sl2-beta-2-clients-work-with-net-fx-3-5-sp1-rtm-servers/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/superhero-dreams-3/">SuperHero Dreams - 3</a></h1>

      <div class="entry">
        <p>I dream I am Robin,   <br />I am the only ray of color in Gotham’s dark nights,    <br />I skip , I jump , I punch and prance,    <br />like a graceful hippo’s dance.    <br />I would jump off a rooftop,    <br />Good God this is painful to write ,    <br />I think I’ll stop.    <br />&#160;&#160;&#160;&#160; <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -Robin ( Dick Grayson )</p>

      </div>

      <a href="/superhero-dreams-3/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/superhero-dreams-2/">SuperHero Dreams - 2</a></h1>

      <div class="entry">
        <p>I dream I am Captain America,    <br />I would represent grand ideals beyond personal grief,     <br />I would be looked up to and I would be loved,     <br />I would fight to survive , not survive to fight,     <br />I would silence desperate screams,     <br />I wouldn’t need to dream.     <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -Batman ( Bruce Wayne )     </p>

      </div>

      <a href="/superhero-dreams-2/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/superhero-dreams-1/">SuperHero Dreams - 1</a></h1>

      <div class="entry">
        <p>I dream about the night    <br />I dream I am batman driving the batmobile , all black     <br />I dream I am punching bad guys ,     <br />Without having to hold back     <br />I dream I have a credible disguise,     <br />and on my arrival , bad guys act Surprised.     <br />I dream I have a cool bat cave,     <br />and all the money Wayne Senior gave .</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -Superman ( Clark Kent)</p>

      </div>

      <a href="/superhero-dreams-1/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/documentation-for-the-ajaxcontroltoolkit/">Documentation for the AjaxControlToolkit</a></h1>

      <div class="entry">
        <p><strike></strike>
<p>Ready for some documentation for the ATK controls ?    <br />To skip my journey to create this , download the Documentation ( in CHM form) here : <a href="http://cid-925c2d2bb2d03c6b.skydrive.live.com/self.aspx/AjaxControlToolkit%20Documentation/AjaxControlToolkit.chm">AjaxControlToolkit Docs</a></p>
<h5>Step 1 : Using AjaxDoc to generate the Reflection.org file required by Sandcastle</h5>
<p>&#160;&#160; 1.0) Download AjaxDoc <a href="http://www.codeplex.com/ajaxdoc">here </a>.     <br />&#160;&#160; 1.1) Download the Latest Source for the AjaxControlToolkit , <a href="http://www.codeplex.com/AjaxControlToolkit/Release/ProjectReleases.aspx?ReleaseId=16488">here</a> .&#160; <br />&#160;&#160; 1.2) Get the Script Files from the AjaxControlToolkit project .     <br />&#160;&#160; 1.3) Create the AjaxControlToolkit.project.xml for AjaxDoc which has script references to the ATK Scripts.     <br />&#160;&#160; 1.4) Run the Default.aspx page</p>
<p>Hurdle 1 : DynamicPopulateBehavior.js just refused to load.&#160; <br />Added this line to ln 150 of ScriptDoc.js file to skip types which throw errors.     </p>
<pre class="darkcsharpcode"> <span class="kwrd">if</span>(member ===<span class="kwrd">null</span> || <span class="kwrd">typeof</span>(member)===<span class="str">&quot;undefined&quot;</span>) <span class="kwrd">continue</span>; </pre>
<p>&#160; 1.5) Run the Default.aspx page again</p>
<p>Hurdle 2:&#160; “PopupBehavior is undefined”.</p>
<p>1.6) Re-arranged the script references in the Project.xml file to order the script files according to their dependencies.</p>
<p>1.7) Run the Default.aspx page again .</p>
<p></p>
<h5>Step 2 : Use SandCastle to produce the CHM File</h5>
<p>Follow the Steps 5-12 defined here : <a href="http://blogs.msdn.com/sandcastle/archive/2006/07/29/Creating-a-Chm-build-using-Sandcastle.aspx">Creating a Chm build using Sandcastle</a></p>
<p>Whichever Transform you use (Vs2005/Prototype) , in step 8, remove these lines in the sandcastle.config file.&#160; </p>
<pre class="darkcsharpcode"><span class="kwrd">&lt;</span><span class="html">language</span> <span class="attr">label</span><span class="kwrd">=&quot;VisualBasic&quot;</span> <span class="attr">name</span><span class="kwrd">=&quot;VisualBasic&quot;</span> <span class="attr">style</span><span class="kwrd">=&quot;vb&quot;</span> <span class="kwrd">/&gt;</span>
<span class="kwrd">&lt;</span><span class="html">language</span> <span class="attr">label</span><span class="kwrd">=&quot;CSharp&quot;</span> <span class="attr">name</span><span class="kwrd">=&quot;CSharp&quot;</span> <span class="attr">style</span><span class="kwrd">=&quot;cs&quot;</span> <span class="kwrd">/&gt;</span>
<span class="kwrd">&lt;</span><span class="html">language</span> <span class="attr">label</span><span class="kwrd">=&quot;ManagedCPlusPlus&quot;</span> <span class="attr">name</span><span class="kwrd">=&quot;ManagedCPlusPlus&quot;</span> <span class="attr">style</span><span class="kwrd">=&quot;cpp&quot;</span> <span class="kwrd">/&gt;</span>
<span class="rem">&lt;!--&lt;language label=&quot;JSharp&quot; name=&quot;JSharp&quot; style=&quot;cs&quot; /&gt;</span>
<span class="rem">&lt;language label=&quot;JScript&quot; name=&quot;JScript&quot; style=&quot;cs&quot; /&gt;--&gt;</span></pre>
<p>There you go ! </p>
<p>The CHM is not perfect ,&#160;
<ol>
<li>The documentation is missing for the following components
<ol>
<li>AnimationExtender </li>
<li>RichTextEditor </li>
<li>MultiHandleSlider </li>
</ol>
</li>
<li>The Code Comments are missing from the CHM file </li>
<li>Insert gripe here </li>
</ol>
<p>I'll probably take a look at this again to see if I can generate a CHM which has the missing parts.<br />
  <br />And finally , while Its not everything , its not nothing either :) </p>
<p>Resources:</p>
<p><a href="http://weblogs.asp.net/bleroy/archive/2007/06/27/scriptdoc-1-0-available.aspx">Bertrand's blog </a></p>
<p><a href="http://blogs.msdn.com/sandcastle/archive/2006/07/29/Creating-a-Chm-build-using-Sandcastle.aspx">SandCastle Blog</a></p>
<p><a href="http://www.codeplex.com/ajaxdoc">AjaxDoc on CodePlex</a></p>
<p><a href="http://www.codeplex.com/Sandcastle/">SandCastle on CodePlex</a></p>

      </div>

      <a href="/documentation-for-the-ajaxcontroltoolkit/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/entities-how-many-ways-do-i-count-thee/">Entities , How many ways do I count thee ?</a></h1>

      <div class="entry">
        <p>Its a common ask that we introduce aggregating mechanisms in Data services so that one can do a Count of    <br />the number of entities present in an EntitySet easily.     <br />In this blog post , I will outline one method of implementing a “Count” method that works for you.     </p>
<p>The interface to the count method will be     </p>
<pre class="darkcsharpcode">http://<span class="kwrd">&lt;</span><span class="html">ServiceEndPoint</span><span class="kwrd">&gt;</span>/Count?entitySetName='<span class="kwrd">&lt;</span><span class="html">entitySetName</span><span class="kwrd">&gt;</span>'</pre>
<h4>Server-Side</h4>
<p>On the server-side , we will write a Service Operation that takes the name of the EntitySet as an input parameter.</p>
<pre class="darkcsharpcode">[WebGet]
 <span class="kwrd">public</span> <span class="kwrd">long</span> Count(<span class="kwrd">string</span> entitySetName) {
 <span class="rem">//Implementation goes here</span>
 }</pre>
<p>In your Service Operations / Interceptors ,&#160; you have access to the CurrentDataSource which represents your data providers.<br />
  <br />The entity sets are properties off of the CurrentDataSource. We will get the entityset off of the CurrentDataSource</p>
<p>and get the count of entities by casting it to <a href="http://msdn.microsoft.com/en-us/library/system.componentmodel.ilistsource.aspx">IListSource</a>.</p>
<pre class="darkcsharpcode">[WebGet]
<span class="kwrd">public</span> <span class="kwrd">long</span> Count(<span class="kwrd">string</span> entitySetName)  {
<span class="kwrd"><br />long</span> countOfEntities = 0;

<span class="rem">//Get the Property off of the CurrentDataSource</span>
PropertyInfo esProperty = <span class="kwrd">this</span>.CurrentDataSource.GetType().GetProperty(entitySetName);

<span class="rem">//Get the EntitySet off of the CurrentDataSource</span>
<span class="kwrd">object</span> esValue = esProperty.GetValue(<span class="kwrd">this</span>.CurrentDataSource, <span class="kwrd">null</span>);

<span class="rem">//Cast the EntitySet to IListSource</span>
IListSource genericESList = esValue <span class="kwrd">as</span> IListSource;

<span class="rem">//Get the count of entities by fetching the list and getting the value of its &quot;Count&quot; Property</span>
countOfEntities = genericESList.GetList().Count;

<span class="kwrd">return</span> countOfEntities;
}</pre>
<h4>Client-Side</h4>
<p>we will make an extension method on the data service context that takes the name of the entityset and returns the count.<br />
  </p>
<pre class="darkcsharpcode">DataServiceContext nwContext = <span class="kwrd">new</span> DataServiceContext( <span class="kwrd">new</span> Uri(<span class="str">&quot;ServiceRoot&quot;</span>) );
<span class="kwrd">long</span> countOfProducts = nwContext.Count(<span class="str">&quot;Products&quot;</span>);</pre>
<p>Extension method on the DataServiceContext to retrieve count of entities in entityset&#160; on the server .</p>
<pre class="darkcsharpcode"><span class="kwrd">public</span> <span class="kwrd">static</span> <span class="kwrd">long</span> Count(<span class="kwrd">this</span> DataServiceContext context, <span class="kwrd">string</span> entitySetName) {
 <span class="rem">//Call the ServiceOperation on the server side passing the entitySetNameas a parameter</span>
 var results = context.Execute&lt;<span class="kwrd">long</span>&gt;(<span class="kwrd">new</span> Uri(String.Format(<span class="str">&quot;Count?entitySetName='{0}'&quot;</span>, entitySetName),
   UriKind.RelativeOrAbsolute));
 <span class="rem">//Get the result off of the IEnumerable</span>
 <span class="kwrd">long</span> count = results.First&lt;<span class="kwrd">long</span>&gt;();
 <span class="rem">//return the count</span>
 <span class="kwrd">return</span> count;
}</pre>
<p>
  </p>
<h4>Complete Sample Code : </h4>
<h5>Put this in your Service Code on the server . </h5>
<p></p>
<pre class="darkcsharpcode">[WebGet]
[SingleResult]
<span class="kwrd">public</span> <span class="kwrd">long</span> Count(<span class="kwrd">string</span> entitySetName) {
<span class="kwrd">long</span> countOfEntities = 0;
<span class="kwrd">if</span> (entitySetName == <span class="kwrd">null</span>) {
  <span class="kwrd">throw</span> <span class="kwrd">new</span> ArgumentNullException(<span class="str">&quot;entitySetName&quot;</span>);
}
<span class="rem">//Get the Property off of the CurrentDataSource</span>
PropertyInfo esProperty = <span class="kwrd">this</span>.CurrentDataSource.GetType().GetProperty(entitySetName);
<span class="kwrd">if</span> (esProperty == <span class="kwrd">null</span>) {
<span class="kwrd">throw</span> <span class="kwrd">new</span> ArgumentException(String.Format(<span class="str">&quot;No EntitySet named {0} found on the DataSource&quot;</span>, entitySetName));
}
<span class="kwrd">try</span> {
 <span class="rem">//Get the EntitySet off of the CurrentDataSource</span>
 <span class="kwrd">object</span> esValue = esProperty.GetValue(<span class="kwrd">this</span>.CurrentDataSource, <span class="kwrd">null</span>);
 <span class="rem">//Cast the entitySet to IListSource</span>
 IListSource genericESList = esValue <span class="kwrd">as</span> IListSource;
 <span class="rem">//If the cast succeeded</span>
 <span class="kwrd">if</span> (genericESList != <span class="kwrd">null</span>) {
 countOfEntities = genericESList.GetList().Count;
 }
}
<span class="kwrd">catch</span> (Exception exception) {
<span class="kwrd">throw</span> <span class="kwrd">new</span> DataServiceException(<span class="str">&quot;'Count' method Failed with , see InnerException --&gt;&quot;</span>, exception);
}
<span class="kwrd">return</span> countOfEntities;
}</pre>
<h5>Put this in your client Code . </h5>
<pre class="darkcsharpcode"><span class="kwrd">public</span> <span class="kwrd">static</span> <span class="kwrd">class</span> ClientExtensions {
<span class="rem">/// &lt;summary&gt;</span>
<span class="rem">/// This Method returns the count of the number if entities present in an Entityset</span>
<span class="rem">/// &lt;/summary&gt;</span>
<span class="rem">/// &lt;param name=&quot;context&quot;&gt;The DataServiceContext which contains the entities&lt;/param&gt;</span>
<span class="rem">/// &lt;param name=&quot;entitySetName&quot;&gt;The EntitySetName whose entities should be counted&lt;/param&gt;</span>
<span class="rem">/// &lt;returns&gt;The number of entities in the entityset&lt;/returns&gt;</span>
<span class="rem">/// &lt;example&gt;</span>
<span class="rem">///  long countOfProducts = context.Count(&quot;Products&quot;);</span>
<span class="rem">/// &lt;/example&gt; </span>
<span class="kwrd">public</span> <span class="kwrd">static</span> <span class="kwrd">long</span> Count(<span class="kwrd">this</span> DataServiceContext context, <span class="kwrd">string</span> entitySetName)
{
    <span class="rem">//Call the ServiceOperation on the server side passing the entitySetName as a parameter</span>
    var results = context.Execute&lt;<span class="kwrd">long</span>&gt;(<br />            <span class="kwrd">new</span> Uri(String.Format(<span class="str">&quot;Count?entitySetName='{0}'&quot;</span>, entitySetName), UriKind.RelativeOrAbsolute)<br />            );
    <span class="rem">//Get the result off of the IEnumerable</span>
    <span class="kwrd">long</span> count = results.First&lt;<span class="kwrd">long</span>&gt;();
    <span class="rem">//return the count</span>
    <span class="kwrd">return</span> count;
}
}</pre>
<p>In a future post , I will talk about how to off load the counting work to your database , if you have a relational database</p>
<p>as your backend.</p>

      </div>

      <a href="/entities-how-many-ways-do-i-count-thee/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/msdn-docs-for-ado-net-data-services-rtm/">MSDN Docs for Ado.net Data Services RTM</a></h1>

      <div class="entry">
        <p>Client Library : <a href="http://msdn.microsoft.com/en-us/library/system.data.services.client.aspx">System.Data.Services.Client</a></p>
<p>Server : <a href="http://msdn.microsoft.com/en-us/library/system.data.services.aspx">System.Data.Services</a></p>
<p>White papers coming soon !!</p>

      </div>

      <a href="/msdn-docs-for-ado-net-data-services-rtm/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/code-snippets-for-common-tasks-in-ado-net-data-services/">Code Snippets for Common Tasks in Ado.net Data Services</a></h1>

      <div class="entry">
        <p>[These code snippets are based on features in the SP1 RTM release, Read about it here : <a href="http://blogs.msdn.com/astoriateam/archive/2008/08/11/rtm-is-here.aspx" mce_href="http://blogs.msdn.com/astoriateam/archive/2008/08/11/rtm-is-here.aspx">RTM is here!</a> ]</p>
<p>Quite a few times, I forget the syntax for certain tasks while Creating a Data Service .    <br />To avoid remembering the syntax, I came up with a couple of Code Snippets that I use for Query Interceptors and Change Interceptors.     </p>
<p>You can download the Code Snippets <a href="http://cid-925c2d2bb2d03c6b.skydrive.live.com/self.aspx/Public/AstoriaServerSnippets.snippet" mce_href="http://cid-925c2d2bb2d03c6b.skydrive.live.com/self.aspx/Public/AstoriaServerSnippets.snippet">Here</a>&#160; <br />[Edit : Alternate download link at the bottom of the post .]</p>
<h4>Using the Code Snippets</h4>
<p>1) Copy the above files into the    <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; %systemDrive%:\Users\&lt;UserName&gt;\Documents\Visual Studio 2008\Code Snippets\Visual C#\My Code Snippets     <br />&#160;&#160; folder.</p>
<p>2) Open Visual Studio and open the .SVC.CS file for the Data Service.    </p>
<p><strong>Using the Query Interceptors Snippet</strong></p>
<h5><strong>Method 1 : </strong></h5>
<p>&#160;&#160;&#160; 1. Type in <strong>qi</strong> and press tab twice</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/a5bb040220d5_12E5F/QueryInterceptor_1_4.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a5bb040220d5_12E5F/QueryInterceptor_1_4.jpg" mce_href="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a5bb040220d5_12E5F/QueryInterceptor_1_4.jpg"><img title="QueryInterceptor_1" style="border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="313" alt="QueryInterceptor_1" src="/assets/QueryInterceptor_1_thumb_1.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a5bb040220d5_12E5F/QueryInterceptor_1_thumb_1.jpg" width="644" border="0" mce_src="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a5bb040220d5_12E5F/QueryInterceptor_1_thumb_1.jpg" /></a>     <br />&#160;&#160;&#160;&#160; </p>
<p>&#160;&#160; 2. Fill in the EntitySet Name for the Query Interceptor</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/a5bb040220d5_12E5F/QueryInterceptor_2_4.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a5bb040220d5_12E5F/QueryInterceptor_2_4.jpg" mce_href="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a5bb040220d5_12E5F/QueryInterceptor_2_4.jpg"><img title="QueryInterceptor_2" style="border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="325" alt="QueryInterceptor_2" src="/assets/QueryInterceptor_2_thumb_1.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a5bb040220d5_12E5F/QueryInterceptor_2_thumb_1.jpg" width="644" border="0" mce_src="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a5bb040220d5_12E5F/QueryInterceptor_2_thumb_1.jpg" /></a> </p>
<h5><strong>Method 2 : </strong></h5>
<ol>
<li>Press the Key Combination : <strong>CTRL+K+X </strong></li>
<li>Select “<strong>My Code Snippets</strong>” </li>
<li>Select the option “<strong>Create a Query Interceptor for an Entity Set</strong>”       </li>
<li><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/a5bb040220d5_12E5F/QueryInterceptor_3_4.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a5bb040220d5_12E5F/QueryInterceptor_3_4.jpg" mce_href="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a5bb040220d5_12E5F/QueryInterceptor_3_4.jpg"><img title="QueryInterceptor_3" style="border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="228" alt="QueryInterceptor_3" src="/assets/QueryInterceptor_3_thumb_1.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a5bb040220d5_12E5F/QueryInterceptor_3_thumb_1.jpg" width="644" border="0" mce_src="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a5bb040220d5_12E5F/QueryInterceptor_3_thumb_1.jpg" /></a> </li>
<li>Fill out the Entity Set Name and you should be good </li>
</ol>
<p><strong>Using the Change Interceptors Snippet</strong></p>
<h5><strong>Method 1 : </strong></h5>
<p>&#160;&#160;&#160; 1. Type in <strong>ci</strong> and press tab twice</p>
<p>&#160;<a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/a5bb040220d5_12E5F/ChangeInterceptor_1_4.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a5bb040220d5_12E5F/ChangeInterceptor_1_4.jpg" mce_href="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a5bb040220d5_12E5F/ChangeInterceptor_1_4.jpg"><img title="ChangeInterceptor_1" style="border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="348" alt="ChangeInterceptor_1" src="/assets/ChangeInterceptor_1_thumb_1.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a5bb040220d5_12E5F/ChangeInterceptor_1_thumb_1.jpg" width="644" border="0" mce_src="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a5bb040220d5_12E5F/ChangeInterceptor_1_thumb_1.jpg" /></a>     <br />&#160;&#160;&#160;&#160; </p>
<p>&#160;&#160; 2. Fill in the EntitySet Name for the Query Interceptor</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/a5bb040220d5_12E5F/ChangeInterceptor_2_4.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a5bb040220d5_12E5F/ChangeInterceptor_2_4.jpg" mce_href="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a5bb040220d5_12E5F/ChangeInterceptor_2_4.jpg"><img title="ChangeInterceptor_2" style="border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="327" alt="ChangeInterceptor_2" src="/assets/ChangeInterceptor_2_thumb_1.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a5bb040220d5_12E5F/ChangeInterceptor_2_thumb_1.jpg" width="644" border="0" mce_src="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a5bb040220d5_12E5F/ChangeInterceptor_2_thumb_1.jpg" /></a> </p>
<h5><strong>Method 2 : </strong></h5>
<ol>
<li>Press the Key Combination : <strong>CTRL+K+X</strong> </li>
<li>Select “<strong>My Code Snippets</strong>” </li>
<li>Select the option “<strong>Create a Change Interceptor for an Entity Set</strong>”       </li>
<li><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/a5bb040220d5_12E5F/ChangeInterceptor_3_4.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a5bb040220d5_12E5F/ChangeInterceptor_3_4.jpg" mce_href="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a5bb040220d5_12E5F/ChangeInterceptor_3_4.jpg"><img title="ChangeInterceptor_3" style="border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="256" alt="ChangeInterceptor_3" src="/assets/ChangeInterceptor_3_thumb_1.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a5bb040220d5_12E5F/ChangeInterceptor_3_thumb_1.jpg" width="644" border="0" mce_src="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/a5bb040220d5_12E5F/ChangeInterceptor_3_thumb_1.jpg" /></a> </li>
<li>Fill out the Entity Set Name and you should be good </li>
</ol>
<p>In a future post , I will share the Client Code Snippets that I use for common Client Tasks with the astoria client library.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Components.PostAttachments/00/08/84/93/45/AstoriaServerSnippets.snippet" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-components-postattachments/00-08-84-93-45/AstoriaServerSnippets.snippet">AstoriaServerSnippets.snippet</a></p>

      </div>

      <a href="/code-snippets-for-common-tasks-in-ado-net-data-services/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/microsoft-net-framework-3-5-service-pack-1-released/">Microsoft .NET Framework 3.5 Service Pack 1 Released !!</a></h1>

      <div class="entry">
        <p>Here you go ! Install the latest bits of Astoria and play to your heart's content ....</p>
<h4>Download here : <a href="http://www.microsoft.com/downloads/details.aspx?FamilyID=ab99342f-5d1a-413d-8319-81da479ab0d7&amp;DisplayLang=en">Microsoft .NET Framework 3.5 Service Pack 1</a></h4>
<p>&lt;blurb&gt;</p>
<li>The ADO.NET Data Services Framework consists of a combination of patterns and libraries, which enable data to be exposed as a flexible REST (Representational State Transfer)-based data service that can be consumed by Web clients in a corporate network or across the Internet. The ADO.NET Data Services Framework makes data service creation over any data source. A conceptual view model of the underlying storage schema can easily be exposed through rich integration with the ADO.NET Entity Framework. Services created by using the ADO.NET Data Services Framework, and also compatible Windows Live (dev.live.com) services, can be easily accessed from any platform. For client applications that are running on Microsoft platforms, a set of client libraries are provided to make interaction with data services simple. For example, .NET Framework-based clients can use LINQ to query data services and a simple .NET Framework object layer to update data in the service.
<p>&lt;/blurb&gt;</p></p>
<p> And here's my team's blog post talking about the new hotness :     <br /> <br />
<h2><a title="http://blogs.msdn.com/astoriateam/archive/2008/08/11/rtm-is-here.aspx" href="http://blogs.msdn.com/astoriateam/archive/2008/08/11/rtm-is-here.aspx">RTM is here!</a></h2>
</li>

      </div>

      <a href="/microsoft-net-framework-3-5-service-pack-1-released/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/welcome-to-the-dark-side-code-snippets/">Welcome to the Dark Side , Code Snippets</a></h1>

      <div class="entry">
        <p><iframe style="border-right: #dde5e9 1px solid; padding-right: 0px; border-top: #dde5e9 1px solid; padding-left: 0px; padding-bottom: 0px; margin: 3px; border-left: #dde5e9 1px solid; width: 240px; padding-top: 0px; border-bottom: #dde5e9 1px solid; height: 26px; background-color: #ffffff" marginwidth="0" marginheight="0" src="http://cid-925c2d2bb2d03c6b.skydrive.live.com/embedrow.aspx/Public/darkCSharp.css" frameborder="0" scrolling="no"></iframe>
<p>Hi,    <br />For most of the code samples that I post on my blog , I use “<a href="http://gallery.live.com/liveItemDetail.aspx?li=1f57bd9b-a692-4593-9e9e-e2962d9c0eee&amp;bt=9&amp;pl=8">Insert Code for Windows Live Writer</a>” plugin for WLW     <br />&#160; to format code snippets and&#160; absolutely love the way that the code snippet turns out on the blog.&#160; <br />&#160; I use the Dark Theme&#160; by <a href="http://www.lnbogen.com/VisualStudioNet2005Colors.aspx">Orren Ellenbogen</a> for my VS at home and at work and wanted to mirror     <br />&#160; the code snippets on my blog to turn up the same way .     </p>
<p>&#160; Step 1) Figure out what kind of styles are used by the Visual Studio theme     <br />&#160; Step 2) Figure out how to apply said styles to output of Insert Code for Windows Live Writer.     </p>
<p>Step 1)     <br />&#160; Go to Visual Studio –&gt; Tools –&gt; Options –&gt; Expand Environment –&gt; Fonts and Colors     <br />&#160;&#160; There you have it ! All the styles that are used by the VS to format my code in the dark theme.</p>
<p>Step 2)&#160; </p>
<ol>
<li>&#160;&#160; Open one of my earlier posts in Windows Live Writer.&#160; </li>
<li>&#160;&#160; Go to “Source” tab / menu option ( depending on your version of WLW) </li>
<li>&#160;&#160;&#160; Find the code snippet and examine styles around it .      <br />ex: For the code :       <br /><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">id</span><span class="kwrd">=&quot;listTemplate&quot;</span> <span class="attr">class</span><span class="kwrd">=&quot;sys-template&quot;</span><span class="kwrd">&gt;</span>       <br /><span class="kwrd">&#160; &lt;</span><span class="html">ul</span><span class="kwrd">&gt;</span>       <br />&#160;&#160;&#160; <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;</span>        <br /><span class="kwrd">&#160;&#160;&#160; &lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span>       <br /><span class="kwrd">&#160; &lt;/</span><span class="html">ul</span><span class="kwrd">&gt;</span>       <br /><span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span>
<p>The output is :       </p>
<p>&lt;pre class=&quot;csharpcode&quot;&gt;       <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;span class=&quot;kwrd&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;html&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;kwrd&quot;&gt;=&amp;quot;listTemplate&amp;quot;&lt;/span&gt; </li>
</ol>
<p>&lt;!—Rest of the html removed for sanity—!&gt;    <br />&#160;&#160;&#160;&#160; The primary class seems to be “csharpcode” </p>
<p>&#160; 4. In the source , if you choose to embed the styles , see if the styles are added .     </p>
<p>The way the styles seem to work are :     <br />&#160;&#160; there is a main class&#160; “csharpcode” , and every other class inherits from this     <br />&#160;&#160;&#160; keywords are decorated by the class ‘kwrd”,     <br />&#160;&#160;&#160; comments are “rem” and so on and so forth.     </p>
<p>5. I fired up the calculator , switched to Hex mode and started translating some of the key colors from visual studio into their hex equivalents.    <br />6.&#160; And modified the files to make the new stylesheet for code snippets     <br />&#160;&#160;&#160;&#160;&#160; “darkcsharpcode”     </p>
<h3>Behold the results! </h3>
<p> 
<p><strong>Normal code snippet with the Plugin </strong>&#160;</p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">id</span><span class="kwrd">=&quot;listTemplate&quot;</span> <span class="attr">class</span><span class="kwrd">=&quot;sys-template&quot;</span><span class="kwrd">&gt;</span>
   <span class="kwrd">&lt;</span><span class="html">ul</span><span class="kwrd">&gt;</span>
       <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;</span>
            s
       <span class="kwrd">&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span>
   <span class="kwrd">&lt;/</span><span class="html">ul</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">
<p>.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }</style></p></p>
<p>
  <br /><strong>DarkCsharp </strong></p>
<p><span class="kwrd"></span></p>
<pre class="darkcsharpcode">&lt;div id=<span class="str">&quot;listTemplate&quot;</span> <span class="kwrd">class</span>=<span class="str">&quot;sys-template&quot;</span>&gt;
   &lt;ul&gt;
       &lt;li&gt;
            
       &lt;/li&gt;
   &lt;/ul&gt;
&lt;/div&gt;</pre>
<style>
<p>.darkcsharpcode, .darkcsharpcode pre<br />
{<br />
	padding-top :10px;<br />
	font-size: small;<br />
	color: #d2d200;<br />
	font-family: consolas, "Courier New" , courier, monospace;<br />
	background-color: #2e2e2e; /*white-space: pre;*/<br />
	padding-bottom :10px;<br />
	padding-left :15px;<br />
}<br />
.darkcsharpcode pre<br />
{<br />
	margin: 0em;<br />
}<br />
.darkcsharpcode .rem<br />
{<br />
	color: #00ff00;<br />
}<br />
.darkcsharpcode .kwrd<br />
{<br />
	color: #eaeaac;<br />
	font-size: 11;<br />
	font-weight: bold;<br />
}<br />
.darkcsharpcode .str<br />
{<br />
	color: #cc9393;<br />
}<br />
.darkcsharpcode .op<br />
{<br />
	color: #0000c0;<br />
}<br />
.darkcsharpcode .preproc<br />
{<br />
	color: #cc6633;<br />
}<br />
.darkcsharpcode .asp<br />
{<br />
	background-color: #ffff00;<br />
}<br />
.darkcsharpcode .html<br />
{<br />
	color: #efefef;<br />
}<br />
.darkcsharpcode .attr<br />
{<br />
	color: #dfdfbf;<br />
}<br />
.darkcsharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.darkcsharpcode .lnum<br />
{<br />
	color: #606060;<br />
}</style>
<h5>How do I use this in my posts?</h5>
<ol>
<li>Download the css file available at the top of this post. </li>
<li>Add the contents of the file to your css files or the Styles generated by the Code Snippet pluggin </li>
<li>And voila ! you should be done. </li>
</ol>
<p>
  </p>
<h5>Which color theme do you like ? </h5>
<p>From a purely personal opinion, I prefer the dark theme as its easier on the eyes .</p>

      </div>

      <a href="/welcome-to-the-dark-side-code-snippets/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/asp-net-ajax-4-0-more-databinding-help-with-the-dataview/">ASP.NET ajax 4.0 , More DataBinding help with the DataView</a></h1>

      <div class="entry">
        <p>With how easy it is to write simple &amp; complicated templates, you would want to debug the template generation    <br />or enable certain scenarios wherein you have to do complex manipulation of data using the existing data being bound.     </p>
<h5>Events </h5>
<p>The Templating engine fires the ItemCreated event which is similar to the <a href="http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.datagrid.onitemcreated(VS.71).aspx">OnItemCreated</a> of the ASP.NET DataGrid.     <br />You can subscribe to the event by calling the add_itemCreated method on the instance of the DataView.</p>
<pre class="darkcsharpcode">instanceOfDataView.add_itemCreated(onItemCreated) ;

<span class="kwrd">function</span> onItemCreated(sender,eventArgs) {
      <span class="rem">//Get the Data Item currently being bound to the template</span>
         <span class="kwrd">var</span> currentDataItem = eventArgs.get_dataItem();
       <span class="rem">//Get the current template result , the HTMLElement being bound</span>
         <span class="kwrd">var</span> currentElement eventArgs.get_templateResult();
 }</pre>
<p><strong>Templating Elements<br />
    <br />&#160;</strong>What are these ?</p>
<p>&#160;&#160;&#160; These are elements / variables available in the templates&#160; which contain information about the</p>
<p>&#160;&#160;&#160; template and other elements to help you debug databinding.</p>
<p>&#160;&#160; 1. <strong>$index.<br />
    <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </strong>The index of the current item being bound.</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <br />&#160;&#160;&#160; Example of using this to color rows based on whether they are even or odd&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </p>
<blockquote>
<pre class="darkcsharpcode"><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">id</span><span class="kwrd">=&quot;listTemplate&quot;</span> <span class="attr">class</span><span class="kwrd">=&quot;sys-template&quot;</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">ul</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">h3</span><span class="kwrd">&gt;</span>
            
        <span class="kwrd">&lt;/</span><span class="html">h3</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">ul</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">li</span> <span class="attr">class</span><span class="kwrd">=&quot;&quot;</span><span class="kwrd">&gt;</span>
             
        <span class="kwrd">&lt;/</span><span class="html">ul</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">ul</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span></pre>
<p><strong>2. $element<br />
      <br /></strong>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; This contains the current HTMLElement being created depending on your template.</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; You don’t want to mess with this one :-)</p>
<p><strong>3. $dataItem</strong></p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; This element is a refernce to the dataItem being bound .</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Example of using this element to filter based on contents of the current dataItem being bound.</p>
<pre class="darkcsharpcode">&lt;div id=<span class="str">&quot;listTemplate&quot;</span> <span class="kwrd">class</span>=<span class="str">&quot;sys-template&quot;</span>&gt;
&lt;ul&gt;
    &lt;li&gt;
        &lt;h3&gt;
            
        &lt;/h3&gt;
        &lt;ul&gt;
            &lt;!--*
<span class="rem">//Iterate over the ListElements , generating the &lt;li&gt; element for each List Element</span>
<span class="kwrd">if</span> ( $dataItem.ListTitle.indexOf(<span class="str">'Blog'</span>) &gt; -1 ) {
    alert(<span class="str">'ListTitle contains Blog'</span>);
}
<span class="kwrd">for</span>(var index=0;index&lt; ListElements.length;index++) {
var listElement = ListElements[index];
*--&gt;
            &lt;li&gt;  &lt;/li&gt;
            &lt;!--*
}
*--&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;</pre>
</blockquote>

      </div>

      <a href="/asp-net-ajax-4-0-more-databinding-help-with-the-dataview/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/asp-net-ajax-4-0-master-details-view-with-the-dataview-part-2/">ASp.net Ajax 4.0 , Master-Details View with the DataView , Part 2</a></h1>

      <div class="entry">
        <p>If you are just tuning in , you can read Part 1 <a href="http://blogs.msdn.com/phaniraj/archive/2008/07/25/asp-net-ajax-4-0-master-details-view-with-the-dataview.aspx">here</a> </p>
<table width="70%">
<tbody>
<tr>
<td><b>Parent Entity</b></td>
<td><b>Child Entity</b></td>
</tr>
<tr>
<td>
<table cellspacing="0" cellpadding="2" width="200" border="0">
<tbody>
<tr>
<td valign="top" width="198">List</td>
</tr>
<tr>
<td valign="top" width="198"><strong>Properties</strong></td>
</tr>
<tr>
<td valign="top" width="198">&#160;&#160;&#160;&#160;&#160;&#160; ListID</td>
</tr>
<tr>
<td valign="top" width="198">&#160;&#160;&#160;&#160;&#160;&#160; ListTitle</td>
</tr>
<tr>
<td valign="top" width="198"><strong>Associations</strong></td>
</tr>
<tr>
<td valign="top" width="198">&#160;&#160;&#160;&#160;&#160;&#160; ListElements</td>
</tr>
</tbody>
</table>
</td>
<td>
<table cellspacing="0" cellpadding="2" width="200" border="0">
<tbody>
<tr>
<td valign="top" width="200">ListElement </td>
</tr>
<tr>
<td valign="top" width="200"><strong>Properties</strong></td>
</tr>
<tr>
<td valign="top" width="200">&#160;&#160;&#160;&#160;&#160;&#160; ListElementText</td>
</tr>
<tr>
<td valign="top" width="200">&#160;&#160;&#160;&#160;&#160;&#160; ListElementID</td>
</tr>
<tr>
<td valign="top" width="200"><strong>Associations</strong></td>
</tr>
<tr>
<td valign="top" width="200">&#160;&#160;&#160;&#160;&#160;&#160; List</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
<p>In the last part , we looked at using the Events from the DataView to render another template    <br />for the inner details. Looking further , I discovered that there is a syntax for injecting code into the     <br />template.     </p>
<p>The code injected into the template looks like this ..</p>
<pre class="darkcsharpcode"><span class="rem">&lt;!--*</span>
<span class="rem">  //Code</span>
<span class="rem">*--&gt;</span>
HTML
<span class="rem">&lt;!--*</span>
<span class="rem">  //Code</span>
<span class="rem">*--&gt;</span></pre>
<p>This looks very similar to the Inline code in aspx pages.<br />
  <br />For the Master-Details example as before , the template would look like this ..</p>
<p>To bind all lists and their listElements , the template would look like this ..</p>
<p></p>
<pre class="darkcsharpcode"><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">id</span><span class="kwrd">=&quot;listTemplate&quot;</span> <span class="attr">class</span><span class="kwrd">=&quot;sys-template&quot;</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">ul</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">h3</span><span class="kwrd">&gt;</span>
            
        <span class="kwrd">&lt;/</span><span class="html">h3</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">ul</span><span class="kwrd">&gt;</span>
            <span class="rem">&lt;!--*</span>
<span class="rem">//Iterate over the ListElements , generating the &lt;li&gt; element for each List Element</span>
<span class="rem">for(var index=0;index&lt; ListElements.length;index++) {</span>
<span class="rem">var listElement = ListElements[index];</span>
<span class="rem">*--&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;</span> <span class="kwrd">&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span>
            <span class="rem">&lt;!--*</span>
<span class="rem">}</span>
<span class="rem">*--&gt;</span>
        <span class="kwrd">&lt;/</span><span class="html">ul</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">ul</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span></pre>
<h6>&#160;</h6>
<p>And then , you are done !!!&#160; <br />You will need the following script files .</p>
<p><a href="http://www.codeplex.com/aspnet/Release/ProjectReleases.aspx?ReleaseId=13357">AJAX Client Library for ADO.NET Data Services</a> (optional)</p>
<p><a href="http://www.codeplex.com/aspnet/Release/ProjectReleases.aspx?ReleaseId=15511">ASP.NET AJAX 4.0 CodePlex Preview 1</a> </p>
<h5>Complete sample Code is below , I swapped out the DataService code for local data . </h5></p>
<pre class="darkcsharpcode"><span class="kwrd">&lt;!</span><span class="html">DOCTYPE</span> <span class="attr">html</span> <span class="attr">PUBLIC</span> <span class="kwrd">&quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;</span> <span class="kwrd">&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">html</span> <span class="attr">xmlns</span><span class="kwrd">=&quot;http://www.w3.org/1999/xhtml&quot;</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">head</span> <span class="attr">id</span><span class="kwrd">=&quot;Head1&quot;</span> <span class="attr">runat</span><span class="kwrd">=&quot;server&quot;</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">title</span><span class="kwrd">&gt;</span>Master Details with ASP.NET AJAX 4.0<span class="kwrd">&lt;/</span><span class="html">title</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">link</span> <span class="attr">href</span><span class="kwrd">=&quot;../css/SoberTable.css&quot;</span> <span class="attr">rel</span><span class="kwrd">=&quot;stylesheet&quot;</span> <span class="attr">type</span><span class="kwrd">=&quot;text/css&quot;</span> <span class="kwrd">/&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">style</span><span class="kwrd">&gt;</span>
        .sys-template
        {
        }
    <span class="kwrd">&lt;/</span><span class="html">style</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">head</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">body</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">form</span> <span class="attr">id</span><span class="kwrd">=&quot;form1&quot;</span> <span class="attr">runat</span><span class="kwrd">=&quot;server&quot;</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">asp:ScriptManager</span> <span class="attr">runat</span><span class="kwrd">=&quot;server&quot;</span> <span class="attr">ID</span><span class="kwrd">=&quot;scrpManager&quot;</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">Scripts</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">asp:ScriptReference</span> <span class="attr">Path</span><span class="kwrd">=&quot;~/AjaxTemplate/Scripts/MicrosoftAjaxTemplates.debug.js&quot;</span> <span class="kwrd">/&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">asp:ScriptReference</span> <span class="attr">Path</span><span class="kwrd">=&quot;~/AjaxTemplate/Scripts/DataService.debug.js&quot;</span> <span class="kwrd">/&gt;</span>
        <span class="kwrd">&lt;/</span><span class="html">Scripts</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;/</span><span class="html">asp:ScriptManager</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">id</span><span class="kwrd">=&quot;listTemplate&quot;</span> <span class="attr">class</span><span class="kwrd">=&quot;sys-template&quot;</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">ul</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;</span><span class="html">h3</span><span class="kwrd">&gt;</span>
                    
                <span class="kwrd">&lt;/</span><span class="html">h3</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;</span><span class="html">ul</span><span class="kwrd">&gt;</span>
                    <span class="rem">&lt;!--*</span>
<span class="rem">//Iterate over the ListElements , generating the &lt;li&gt; element for each List Element</span>
<span class="rem">for(var index=0;index&lt; ListElements.length;index++) {</span>
<span class="rem">var listElement = ListElements[index];</span>
<span class="rem">*--&gt;</span>
                    <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;</span> <span class="kwrd">&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span>
                    <span class="rem">&lt;!--*</span>
<span class="rem">}</span>
<span class="rem">*--&gt;</span>
                <span class="kwrd">&lt;/</span><span class="html">ul</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;/</span><span class="html">ul</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span>

    <span class="kwrd">&lt;</span><span class="html">script</span> <span class="attr">language</span><span class="kwrd">=&quot;javascript&quot;</span> <span class="attr">type</span><span class="kwrd">=&quot;text/javascript&quot;</span><span class="kwrd">&gt;</span>

    <span class="kwrd">var</span> _dataServiceProxy = <span class="kwrd">null</span>;

    <span class="kwrd">function</span> dataLoaded(result) {
        <span class="rem">//Get the Template for the List Results</span>
        <span class="kwrd">var</span> dv = <span class="kwrd">new</span> Sys.Preview.UI.DataView($get(<span class="str">&quot;listTemplate&quot;</span>));
        <span class="rem">//Pass the data regarding the Lists to be bound</span>
        dv.set_data(result);
        <span class="rem">//Render the template</span>
        dv.initialize();
    }

    <span class="kwrd">function</span> loadData() {
        <span class="rem">//Create a Data Service Proxy</span>
        _dataServiceProxy  = <span class="kwrd">new</span> Sys.Data.DataService(<span class="str">&quot;ListService.svc&quot;</span>);
        <span class="rem">//The URI of the resources to download</span>
        <span class="kwrd">var</span> listURI = <span class="str">&quot;/Lists?$expand=ListElements&quot;</span>;
        <span class="rem">//Query the Data Service with the URI </span>
        _dataServiceProxy.query(
            listURI ,   <span class="rem">/*Resource URI*/</span>
            dataLoaded, <span class="rem">/*Success callback*/</span>
            <span class="kwrd">null</span>,       <span class="rem">/*Failure callback */</span>
            <span class="kwrd">null</span>,       <span class="rem">/*user context*/</span>
            <span class="kwrd">null</span>);      <span class="rem">/*Web Request*/</span>
    }
    <span class="kwrd">function</span> loadLocalData() {
    <span class="kwrd">var</span> localData ={ <span class="str">'d'</span> : [
    {<span class="str">'ListID'</span>: 1, <span class="str">'ListTitle'</span>: <span class="str">'Future Blog Posts to write'</span>, <span class="str">'ListElements'</span>: [
        { <span class="str">'ListElementID'</span>: 2, <span class="str">'ListElementText'</span>: <span class="str">'Working with 1..N associations'</span>},
        { <span class="str">'ListElementID'</span>: 3, <span class="str">'ListElementText'</span>: <span class="str">'Working with ServiceOps and the client'</span>},
        { <span class="str">'ListElementID'</span>: 4, <span class="str">'ListElementText'</span>: <span class="str">'Data Literal Table'</span>},
        { <span class="str">'ListElementID'</span>: 5, <span class="str">'ListElementText'</span>: <span class="str">'Calling Stored Procedures from ServiceOps'</span>} ]
      },
    {<span class="str">'ListID'</span>: 2, <span class="str">'ListTitle'</span>: <span class="str">'My Life List'</span>,
         <span class="str">'ListElements'</span>: [{<span class="str">'ListElementID'</span>: 64, <span class="str">'ListElementText'</span>: <span class="str">'Learn Spanish'</span>}] }
     ] };

    dataLoaded(localData.d);
}
    <span class="kwrd">function</span> pageLoad() {
        loadLocalData ();
     }
    <span class="kwrd">&lt;/</span><span class="html">script</span><span class="kwrd">&gt;</span>

    <span class="kwrd">&lt;/</span><span class="html">form</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">body</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">html</span><span class="kwrd">&gt;</span></pre>

      </div>

      <a href="/asp-net-ajax-4-0-master-details-view-with-the-dataview-part-2/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/asp-net-ajax-4-0-master-details-view-with-the-dataview/">ASp.net Ajax 4.0 , Master-Details View with the DataView</a></h1>

      <div class="entry">
        <p>By now , you must have heard about the new JavaScript templating engine with the release of <a href="http://weblogs.asp.net/bleroy/archive/2008/07/21/asp-net-ajax-4-0-codeplex-preview-1-available.aspx">ASP.NET AJAX 4.0 CodePlex Preview 1</a>     <br />This post will show you how to use the built-in control DataView to build a master details view.     <br />As an addition , I will use an astoria service to serve the data and the <a href="http://www.codeplex.com/aspnet/Release/ProjectReleases.aspx?ReleaseId=13357">Ajax Library</a> to retrieve the data.     </p>
<p>Consider the following model.. </p>
<table width="70%">
<tbody>
<tr>
<td><b>Parent Entity</b></td>
<td><b>Child Entity</b></td>
</tr>
<tr>
<td>
<table cellspacing="0" cellpadding="2" width="200" border="0">
<tbody>
<tr>
<td valign="top" width="198">List</td>
</tr>
<tr>
<td valign="top" width="198"><strong>Properties</strong></td>
</tr>
<tr>
<td valign="top" width="198">&#160;&#160;&#160;&#160;&#160;&#160; ListID</td>
</tr>
<tr>
<td valign="top" width="198">&#160;&#160;&#160;&#160;&#160;&#160; ListTitle</td>
</tr>
<tr>
<td valign="top" width="198"><strong>Associations</strong></td>
</tr>
<tr>
<td valign="top" width="198">&#160;&#160;&#160;&#160;&#160;&#160; ListElements</td>
</tr>
</tbody>
</table>
</td>
<td>
<table cellspacing="0" cellpadding="2" width="200" border="0">
<tbody>
<tr>
<td valign="top" width="200">ListElement </td>
</tr>
<tr>
<td valign="top" width="200"><strong>Properties</strong></td>
</tr>
<tr>
<td valign="top" width="200">&#160;&#160;&#160;&#160;&#160;&#160; ListElementText</td>
</tr>
<tr>
<td valign="top" width="200">&#160;&#160;&#160;&#160;&#160;&#160; ListElementID</td>
</tr>
<tr>
<td valign="top" width="200"><strong>Associations</strong></td>
</tr>
<tr>
<td valign="top" width="200">&#160;&#160;&#160;&#160;&#160;&#160; List</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
<p>The properties of the entity you are binding are represented in a syntax similar to this ..    <br />     </p>
<p>To bind all lists , the template would look like this ..</p>
<pre class="darkcsharpcode"><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">id</span><span class="kwrd">=&quot;listTemplate&quot;</span> <span class="attr">class</span><span class="kwrd">=&quot;sys-template&quot;</span><span class="kwrd">&gt;</span>
   <span class="kwrd">&lt;</span><span class="html">ul</span><span class="kwrd">&gt;</span>
       <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;</span>
            
       <span class="kwrd">&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span>
   <span class="kwrd">&lt;/</span><span class="html">ul</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span></pre>
<h6>Retrieve data using Astoria Ajax Client Library </h6>
<pre class="darkcsharpcode"><span class="kwrd">function</span> loadData() {
    <span class="rem">//Create a Data Service Proxy</span>
        _dataServiceProxy  = <span class="kwrd">new</span> Sys.Data.DataService(<span class="str">&quot;ListService.svc&quot;</span>);
        <span class="rem">//The URI of the resources to download</span>
        <span class="kwrd">var</span> listURI = <span class="str">&quot;/Lists?$expand=ListElements&quot;</span>;
        <span class="rem">//Query the Data Service with the URI </span>
        _dataServiceProxy.query(
            listURI ,   <span class="rem">/*Resource URI*/</span>
            dataLoaded, <span class="rem">/*Success callback*/</span>
            <span class="kwrd">null</span>,       <span class="rem">/*Failure callback */</span>
            <span class="kwrd">null</span>,       <span class="rem">/*user context*/</span>
            <span class="kwrd">null</span>);      <span class="rem">/*Web Request*/</span>
}<br /></pre>
<h6>Bind the data to the template</h6>
<pre class="darkcsharpcode">    <span class="kwrd">function</span> dataLoaded(result,context) {
        <span class="rem">//Get the Template for the List Results</span>
        <span class="kwrd">var</span> dv = <span class="kwrd">new</span> Sys.Preview.UI.DataView($get(<span class="str">&quot;listTemplate&quot;</span>));
        <span class="rem">//Pass the data regarding the Lists to be bound</span>
        dv.set_data(result);
        <span class="rem">//Render the template</span>
        dv.render();
    }</pre>
<p>This is cool , but what about ListElements ? Why not bind the ListElements in the same template?<br />
  <br />In short , why not do this ? </p>
<pre class="darkcsharpcode"><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">id</span><span class="kwrd">=&quot;listTemplate&quot;</span> <span class="attr">class</span><span class="kwrd">=&quot;sys-template&quot;</span><span class="kwrd">&gt;</span>
   <span class="kwrd">&lt;</span><span class="html">ul</span><span class="kwrd">&gt;</span>
       <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;</span>
            
             <span class="kwrd">&lt;</span><span class="html">ul</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;</span> <span class="kwrd">&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span>
             <span class="kwrd">&lt;/</span><span class="html">ul</span><span class="kwrd">&gt;</span>
       <span class="kwrd">&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span>
   <span class="kwrd">&lt;/</span><span class="html">ul</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">
<p>.darkcsharpcode, .darkcsharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.darkcsharpcode pre { margin: 0em; }<br />
.darkcsharpcode .rem { color: #008000; }<br />
.darkcsharpcode .kwrd { color: #0000ff; }<br />
.darkcsharpcode .str { color: #cc9393; }<br />
.darkcsharpcode .op { color: #0000c0; }<br />
.darkcsharpcode .preproc { color: #cc6633; }<br />
.darkcsharpcode .asp { background-color: #ffff00; }<br />
.darkcsharpcode .html { color: #800000; }<br />
.darkcsharpcode .attr { color: #ff0000; }<br />
.darkcsharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.darkcsharpcode .lnum { color: #606060; }</style>
<p>Well, it doesn’t work .<br />
  <br />From what I can surmise ( from looking at the script code and the readme that came along with it ) , the control doesn’t allow you to bind collection properties which are complex types .</p>
<p>In English , this means that for the type Lists , you can’t just write a template</p>
<p>that binds all Lists, the ListElements for each List and bind Lists and ListElements at one shot.</p>
<p>How about we have a separate template for the ListElements ?</p>
<p>Something that looks like this …</p>
<pre class="darkcsharpcode"><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">id</span><span class="kwrd">=&quot;listTemplate&quot;</span> <span class="attr">class</span><span class="kwrd">=&quot;sys-template&quot;</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">ul</span><span class="kwrd">&gt;</span>
     <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">h3</span><span class="kwrd">&gt;</span><span class="kwrd">&lt;/</span><span class="html">h3</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">ul</span> <span class="attr">id</span><span class="kwrd">=&quot;'listElementsTemplate&quot;</span> <span class="attr">class</span><span class="kwrd">=&quot;sys-template&quot;</span><span class="kwrd">&gt;</span>
               <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;</span><span class="kwrd">&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span>
          <span class="kwrd">&lt;/</span><span class="html">ul</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;/</span><span class="html">ul</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">
<p>.darkcsharpcode, .darkcsharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.darkcsharpcode pre { margin: 0em; }<br />
.darkcsharpcode .rem { color: #008000; }<br />
.darkcsharpcode .kwrd { color: #0000ff; }<br />
.darkcsharpcode .str { color: #006080; }<br />
.darkcsharpcode .op { color: #0000c0; }<br />
.darkcsharpcode .preproc { color: #cc6633; }<br />
.darkcsharpcode .asp { background-color: #ffff00; }<br />
.darkcsharpcode .html { color: #800000; }<br />
.darkcsharpcode .attr { color: #ff0000; }<br />
.darkcsharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.darkcsharpcode .lnum { color: #606060; }</style></p></p>
<h6>When will I bind the internal template ?</h6>
<p>well, it turns out that there is an event called “ItemCreated” fired by the DataView when the item is rendered.</p>
<p>you can add a handler to be notified of this event by calling add_itemCreated with the handler function</p>
<p>as a parameter. The event handler is called with the usual parameters as your .net Event Handlers.</p>
<p></p>
<pre class="darkcsharpcode"><span class="kwrd">function</span> onItemCreated(sender,eventArgs) {
<span class="rem">//Function body</span>
}</pre>
<style type="text/css">
<p>.darkcsharpcode, .darkcsharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.darkcsharpcode pre { margin: 0em; }<br />
.darkcsharpcode .rem { color: #008000; }<br />
.darkcsharpcode .kwrd { color: #0000ff; }<br />
.darkcsharpcode .str { color: #006080; }<br />
.darkcsharpcode .op { color: #0000c0; }<br />
.darkcsharpcode .preproc { color: #cc6633; }<br />
.darkcsharpcode .asp { background-color: #ffff00; }<br />
.darkcsharpcode .html { color: #800000; }<br />
.darkcsharpcode .attr { color: #ff0000; }<br />
.darkcsharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.darkcsharpcode .lnum { color: #606060; }</style>
<p>sender is the DataView which is being bound ,eventArgs is of type : Sys.Preview.UI.DataViewItemEventArgs.</p>
<p>call eventArgs.get_dataItem() to get the data being bound to the DataView.</p>
<p>call eventArgs.get_templateResult() to get the template result , i.e the template with the data filled in for the bindings.</p>
<p>So,&#160; the dataLoaded function would change to be :</p>
<p></p>
<pre class="darkcsharpcode"><span class="kwrd">function</span> dataLoaded(result,context) {
        <span class="rem">//Get the Template for the List Results</span>
        <span class="kwrd">var</span> dv = <span class="kwrd">new</span> Sys.Preview.UI.DataView($get(<span class="str">&quot;listTemplate&quot;</span>));
        <span class="rem">//Pass the data regarding the Lists to be bound</span>
        dv.set_data(result);
        <span class="rem">//add a handler to listen to the ItemCreated Event</span>
        dv.add_itemCreated(onItemCreated);
        <span class="rem">//Render the template</span>
        dv.render();
    }</pre>
<style type="text/css">
<p>.darkcsharpcode, .darkcsharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.darkcsharpcode pre { margin: 0em; }<br />
.darkcsharpcode .rem { color: #008000; }<br />
.darkcsharpcode .kwrd { color: #0000ff; }<br />
.darkcsharpcode .str { color: #006080; }<br />
.darkcsharpcode .op { color: #0000c0; }<br />
.darkcsharpcode .preproc { color: #cc6633; }<br />
.darkcsharpcode .asp { background-color: #ffff00; }<br />
.darkcsharpcode .html { color: #800000; }<br />
.darkcsharpcode .attr { color: #ff0000; }<br />
.darkcsharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.darkcsharpcode .lnum { color: #606060; }</style>
<pre class="darkcsharpcode">function onItemCreated(sender,eventArgs) {
   var currentList = eventArgs.get_dataItem();
   <span class="rem">//Get the Child Template for the parent List Template</span>
   var dv = <span class="kwrd">new</span> Sys.Preview.UI.DataView($get(<span class="str">&quot;listElementsTemplate&quot;</span>));
   <span class="rem">//Bind the Template to the ListElements for the current List</span>
   dv.set_data(currentList.ListElements);
   <span class="rem">//Render the template</span>
   dv.render();
}</pre>
<style type="text/css">
<p>.darkcsharpcode, .darkcsharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.darkcsharpcode pre { margin: 0em; }<br />
.darkcsharpcode .rem { color: #008000; }<br />
.darkcsharpcode .kwrd { color: #0000ff; }<br />
.darkcsharpcode .str { color: #006080; }<br />
.darkcsharpcode .op { color: #0000c0; }<br />
.darkcsharpcode .preproc { color: #cc6633; }<br />
.darkcsharpcode .asp { background-color: #ffff00; }<br />
.darkcsharpcode .html { color: #800000; }<br />
.darkcsharpcode .attr { color: #ff0000; }<br />
.darkcsharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.darkcsharpcode .lnum { color: #606060; }</style>
<p>Well, this still doesn’t work !There is just one copy of the internal listElementsTemplate for multiple copies of the<br />
  <br />Parent template for Lists being bound .The first one works , the second one shows us this ..</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/ASp.netAjax4.0_10C3E/error_Bind_Again_2.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/ASp.netAjax4.0_10C3E/error_Bind_Again_2.jpg"><img title="error_Bind_Again" style="border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="232" alt="error_Bind_Again" src="/assets/error_Bind_Again_thumb.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/ASp.netAjax4.0_10C3E/error_Bind_Again_thumb.jpg" width="481" border="0" /></a></p>
<p>“Sys.InvalidOperationException: A control is already associated with the element”.</p>
<p>Which means that we need one copy of the internal listElementsTemplate for each copy of the ListTemplate.</p>
<p>So, we change the template to be :</p>
<pre class="darkcsharpcode"><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">id</span><span class="kwrd">=&quot;listTemplate&quot;</span> <span class="attr">class</span><span class="kwrd">=&quot;sys-template&quot;</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">ul</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">h3</span><span class="kwrd">&gt;</span><span class="kwrd">&lt;/</span><span class="html">h3</span><span class="kwrd">&gt;</span>
             <span class="kwrd">&lt;</span><span class="html">ul</span> <span class="attr">id</span><span class="kwrd">=&quot;listElementsTemplate&quot;</span> <span class="attr">class</span><span class="kwrd">=&quot;sys-template&quot;</span><span class="kwrd">&gt;</span>
                  <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;</span><span class="kwrd">&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span>
             <span class="kwrd">&lt;/</span><span class="html">ul</span><span class="kwrd">&gt;</span>
         <span class="kwrd">&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span>
      <span class="kwrd">&lt;/</span><span class="html">ul</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">
<p>.darkcsharpcode, .darkcsharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.darkcsharpcode pre { margin: 0em; }<br />
.darkcsharpcode .rem { color: #008000; }<br />
.darkcsharpcode .kwrd { color: #0000ff; }<br />
.darkcsharpcode .str { color: #006080; }<br />
.darkcsharpcode .op { color: #0000c0; }<br />
.darkcsharpcode .preproc { color: #cc6633; }<br />
.darkcsharpcode .asp { background-color: #ffff00; }<br />
.darkcsharpcode .html { color: #800000; }<br />
.darkcsharpcode .attr { color: #ff0000; }<br />
.darkcsharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.darkcsharpcode .lnum { color: #606060; }</style>
<p>And the function to bind the listElements changes to be :<br />
  </p>
<pre class="darkcsharpcode"><span class="kwrd">function</span> onItemCreated(sender,eventArgs) {
  <span class="kwrd">var</span> currentList = eventArgs.get_dataItem();
  <span class="rem">//Get the Child Template for the parent List Template</span>
  <span class="kwrd">var</span> dv = <span class="kwrd">new</span> Sys.Preview.UI.DataView($get(<span class="str">&quot;listElementsTemplate&quot;</span>+currentList.ListID ));
  <span class="rem">//Bind the Template to the ListElements for the current List</span>
  dv.set_data(currentList.ListElements);
  <span class="rem">//Render the template</span>
  dv.render();
}</pre>
<style type="text/css">
<p>.darkcsharpcode, .darkcsharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.darkcsharpcode pre { margin: 0em; }<br />
.darkcsharpcode .rem { color: #008000; }<br />
.darkcsharpcode .kwrd { color: #0000ff; }<br />
.darkcsharpcode .str { color: #006080; }<br />
.darkcsharpcode .op { color: #0000c0; }<br />
.darkcsharpcode .preproc { color: #cc6633; }<br />
.darkcsharpcode .asp { background-color: #ffff00; }<br />
.darkcsharpcode .html { color: #800000; }<br />
.darkcsharpcode .attr { color: #ff0000; }<br />
.darkcsharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.darkcsharpcode .lnum { color: #606060; }</style>
<p>And then , you are done !!! </p>
<p>Tip to debug Template Generation with IE 7 ..<br />
  <br />Install <a href="http://www.ie7pro.com/">IE 7 Pro</a> and you get this neat context-menu , “View Generated Source”.</p>
<p>Which lets you see the html that is generated after binding the data.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/ASp.netAjax4.0_10C3E/IE7PRO_2.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/ASp.netAjax4.0_10C3E/IE7PRO_2.jpg"><img title="IE7PRO" style="border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="240" alt="IE7PRO" src="/assets/IE7PRO_thumb.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/ASp.netAjax4.0_10C3E/IE7PRO_thumb.jpg" width="189" border="0" /></a></p>
<p></p>
<p>Complete sample Code is below , I swapped out the DataService code for local data .</p>
<p>You will need the following script files .</p>
<p><a href="http://www.codeplex.com/aspnet/Release/ProjectReleases.aspx?ReleaseId=13357">AJAX Client Library for ADO.NET Data Services</a> (optional)</p>
<p><a href="http://www.codeplex.com/aspnet/Release/ProjectReleases.aspx?ReleaseId=15511">ASP.NET AJAX 4.0 CodePlex Preview 1</a></p></p>
<pre class="darkcsharpcode"><span class="kwrd">&lt;!</span><span class="html">DOCTYPE</span> <span class="attr">html</span> <span class="attr">PUBLIC</span> <span class="kwrd">&quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;</span> <span class="kwrd">&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">html</span> <span class="attr">xmlns</span><span class="kwrd">=&quot;http://www.w3.org/1999/xhtml&quot;</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">head</span> <span class="attr">id</span><span class="kwrd">=&quot;Head1&quot;</span> <span class="attr">runat</span><span class="kwrd">=&quot;server&quot;</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">title</span><span class="kwrd">&gt;</span>Master Details with ASP.NET AJAX 4.0<span class="kwrd">&lt;/</span><span class="html">title</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">link</span> <span class="attr">href</span><span class="kwrd">=&quot;../css/SoberTable.css&quot;</span> <span class="attr">rel</span><span class="kwrd">=&quot;stylesheet&quot;</span> <span class="attr">type</span><span class="kwrd">=&quot;text/css&quot;</span> <span class="kwrd">/&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">style</span><span class="kwrd">&gt;</span>
        .sys-template
        {
        }
    <span class="kwrd">&lt;/</span><span class="html">style</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">head</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">body</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">form</span> <span class="attr">id</span><span class="kwrd">=&quot;form1&quot;</span> <span class="attr">runat</span><span class="kwrd">=&quot;server&quot;</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">asp:ScriptManager</span> <span class="attr">runat</span><span class="kwrd">=&quot;server&quot;</span> <span class="attr">ID</span><span class="kwrd">=&quot;scrpManager&quot;</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">Scripts</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">asp:ScriptReference</span> <span class="attr">Path</span><span class="kwrd">=&quot;~/AjaxTemplate/Scripts/MicrosoftAjaxTemplates.debug.js&quot;</span> <span class="kwrd">/&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">asp:ScriptReference</span> <span class="attr">Path</span><span class="kwrd">=&quot;~/AjaxTemplate/Scripts/DataService.debug.js&quot;</span> <span class="kwrd">/&gt;</span>
        <span class="kwrd">&lt;/</span><span class="html">Scripts</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;/</span><span class="html">asp:ScriptManager</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">id</span><span class="kwrd">=&quot;listTemplate&quot;</span> <span class="attr">class</span><span class="kwrd">=&quot;sys-template&quot;</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">ul</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;</span><span class="html">h3</span><span class="kwrd">&gt;</span>
                    
                <span class="kwrd">&lt;/</span><span class="html">h3</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;</span><span class="html">ul</span> <span class="attr">id</span><span class="kwrd">=&quot;listElementsTemplate&quot;</span> <span class="attr">class</span><span class="kwrd">=&quot;sys-template&quot;</span><span class="kwrd">&gt;</span>
                    <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;</span> <span class="kwrd">&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;/</span><span class="html">ul</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;/</span><span class="html">ul</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span>

    <span class="kwrd">&lt;</span><span class="html">script</span> <span class="attr">language</span><span class="kwrd">=&quot;javascript&quot;</span> <span class="attr">type</span><span class="kwrd">=&quot;text/javascript&quot;</span><span class="kwrd">&gt;</span>

    <span class="kwrd">var</span> _dataServiceProxy = <span class="kwrd">null</span>;

   <span class="kwrd">function</span> onItemCreated(sender,eventArgs) {
        <span class="kwrd">var</span> currentList = eventArgs.get_dataItem();
        <span class="rem">//Get the Child Template for the parent List Template</span>
        <span class="kwrd">var</span> dv = <span class="kwrd">new</span> Sys.Preview.UI.DataView($get(<span class="str">&quot;listElementsTemplate&quot;</span>+currentList.ListID ));
        <span class="rem">//Bind the Template to the ListElements for the current List</span>
        dv.set_data(currentList.ListElements);
        <span class="rem">//Render the template</span>
        dv.render();
     }

    <span class="kwrd">function</span> dataLoaded(result) {
        <span class="rem">//Get the Template for the List Results</span>
        <span class="kwrd">var</span> dv = <span class="kwrd">new</span> Sys.Preview.UI.DataView($get(<span class="str">&quot;listTemplate&quot;</span>));
        <span class="rem">//Pass the data regarding the Lists to be bound</span>
        dv.set_data(result);
        <span class="rem">//add a handler to listen to the ItemCreated Event</span>
        dv.add_itemCreated(onItemCreated);
        <span class="rem">//Render the template</span>
        dv.render();
    }

    <span class="kwrd">function</span> loadData() {
        <span class="rem">//Create a Data Service Proxy</span>
        _dataServiceProxy  = <span class="kwrd">new</span> Sys.Data.DataService(<span class="str">&quot;ListService.svc&quot;</span>);
        <span class="rem">//The URI of the resources to download</span>
        <span class="kwrd">var</span> listURI = <span class="str">&quot;/Lists?$expand=ListElements&quot;</span>;
        <span class="rem">//Query the Data Service with the URI </span>
        _dataServiceProxy.query(
            listURI ,   <span class="rem">/*Resource URI*/</span>
            dataLoaded, <span class="rem">/*Success callback*/</span>
            <span class="kwrd">null</span>,       <span class="rem">/*Failure callback */</span>
            <span class="kwrd">null</span>,       <span class="rem">/*user context*/</span>
            <span class="kwrd">null</span>);      <span class="rem">/*Web Request*/</span>
    }
<br /></pre>
<pre class="darkcsharpcode"><span class="kwrd">function</span> loadLocalData() {
    <span class="kwrd">var</span> localData ={ <span class="str">'d'</span> : [
    {<span class="str">'ListID'</span>: 1, <span class="str">'ListTitle'</span>: <span class="str">'Future Blog Posts to write'</span>, <span class="str">'ListElements'</span>: [
        { <span class="str">'ListElementID'</span>: 2, <span class="str">'ListElementText'</span>: <span class="str">'Working with 1..N associations'</span>},
        { <span class="str">'ListElementID'</span>: 3, <span class="str">'ListElementText'</span>: <span class="str">'Working with ServiceOps and the client'</span>},
        { <span class="str">'ListElementID'</span>: 4, <span class="str">'ListElementText'</span>: <span class="str">'Data Literal Table'</span>},
        { <span class="str">'ListElementID'</span>: 5, <span class="str">'ListElementText'</span>: <span class="str">'Calling Stored Procedures from ServiceOps'</span>} ]
      },
    {<span class="str">'ListID'</span>: 2, <span class="str">'ListTitle'</span>: <span class="str">'My Life List'</span>,
         <span class="str">'ListElements'</span>: [{<span class="str">'ListElementID'</span>: 64, <span class="str">'ListElementText'</span>: <span class="str">'Learn Spanish'</span>}] }
     ] };

    dataLoaded(localData.d);
    }</pre>
<style type="text/css">
<p>.darkcsharpcode, .darkcsharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.darkcsharpcode pre { margin: 0em; }<br />
.darkcsharpcode .rem { color: #008000; }<br />
.darkcsharpcode .kwrd { color: #0000ff; }<br />
.darkcsharpcode .str { color: #006080; }<br />
.darkcsharpcode .op { color: #0000c0; }<br />
.darkcsharpcode .preproc { color: #cc6633; }<br />
.darkcsharpcode .asp { background-color: #ffff00; }<br />
.darkcsharpcode .html { color: #800000; }<br />
.darkcsharpcode .attr { color: #ff0000; }<br />
.darkcsharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.darkcsharpcode .lnum { color: #606060; }</style>
<pre class="darkcsharpcode">    <br />    <span class="kwrd">function</span> pageLoad() {
        loadLocalData ();
     }
    <span class="kwrd">&lt;/</span><span class="html">script</span><span class="kwrd">&gt;</span>

    <span class="kwrd">&lt;/</span><span class="html">form</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">body</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">html</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">
<p>.darkcsharpcode, .darkcsharpcode pre<br />
{<br />
padding-top :10px;<br />
	font-size: small;<br />
	color: #d2d200;<br />
	font-family: consolas, "Courier New" , courier, monospace;<br />
	background-color: #2e2e2e; /*white-space: pre;*/<br />
	padding-bottom :10px;<br />
	padding-left :15px;<br />
}<br />
.darkcsharpcode pre<br />
{<br />
	margin: 0em;<br />
}<br />
.darkcsharpcode .rem<br />
{<br />
	color: #00ff00;<br />
}<br />
.darkcsharpcode .kwrd<br />
{<br />
	color: #eaeaac;<br />
	font-size: 11;<br />
	font-weight: bold;<br />
}<br />
.darkcsharpcode .str<br />
{<br />
	color: #cc9393;<br />
}<br />
.darkcsharpcode .op<br />
{<br />
	color: #0000c0;<br />
}<br />
.darkcsharpcode .preproc<br />
{<br />
	color: #cc6633;<br />
}<br />
.darkcsharpcode .asp<br />
{<br />
	background-color: #ffff00;<br />
}<br />
.darkcsharpcode .html<br />
{<br />
	color: #efefef;<br />
}<br />
.darkcsharpcode .attr<br />
{<br />
	color: #dfdfbf;<br />
}<br />
.darkcsharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.darkcsharpcode .lnum<br />
{<br />
	color: #606060;<br />
}</style>

      </div>

      <a href="/asp-net-ajax-4-0-master-details-view-with-the-dataview/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/software-development-meme/">Software Development MEME</a></h1>

      <div class="entry">
        <p>Yep , <a href="http://blogs.msdn.com/pablo/archive/2008/07/10/software-development-meme.aspx">I got Tagged</a> . And by none other than <a href="https://channel9.msdn.com/Search/Default.aspx?Term=Pablo%20Castro">Pablo Castro</a> !!.     <br />Now that I’ve finished gloating , let me propagate the Meme.     </p>
<p><strong>How old were you when you started programming?      <br /></strong>&#160;&#160;&#160;&#160;&#160; I was 15 when I first got my hands on a PC in my school’s computer lab.     <br />&#160;&#160;&#160;&#160;&#160; and then BASIC happened and I realized that the machine in front of me is filled with immense potential&#160; <br />&#160;&#160;&#160;&#160;&#160; and that simple written words could bring life in an inanimate object .     <br />&#160; <br /><strong>How did you get started in programming? </strong>    <br />&#160;&#160; In School , I had 2 distinct career paths in mind , be a writer and write literary master pieces ( am working on that one )     <br />&#160;&#160; or make a living trying to decipher the beauty of the machine I had just gotten acquainted with .     <br />&#160;&#160; I chose to program as words themselves might move people , they don’t enable people to go home early to&#160; their&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; families or enable a farmer to check the market price of his vegetables before he/she cuts a deal .</p>
<p><strong>What was your first language?&#160;&#160; <br /></strong>&#160;&#160; BASIC , the language is everything the name says it is .     <br />&#160; <br /><strong>What was the first real program you wrote? </strong>    <br />&#160;&#160; While in college, I picked up a job to write software for a telecommunications company.     <br />&#160;&#160; We wrote software that would help the telco company track the calls that were connected by an operator     <br />&#160;&#160; and also provide triggers for any call that was made from a number which was being tracked.     <br />&#160;&#160; Data regarding the calls was dumped onto a network share in a proprietary format and the software     <br />&#160;&#160; we wrote would pick up the data and fire the appropriate triggers.</p>
<p><strong>What languages have you used since you started programming?      <br /></strong>&#160;&#160;&#160; C,C++, C#,F#, Visual Basic, Java , Ruby , Python ( I don’t know if JavaScript counts , but I’ll include it anyway ).     </p>
<p><strong>What was your first professional programming gig? </strong>    <br />&#160; Right out of college, I got hired by Perot Systems to work on then cutting edge “Sharepoint Portal Server”.     <br />&#160; I worked on Sharepoint web parts and a lot of work with the SharePoint web services.     </p>
<p><strong>If you knew then what you know now, would you have started programming? </strong>    <br />&#160;&#160; Absolutely yes !     </p>
<p><strong>If there is one thing you learned along the way that you would tell new developers, what would it be?&#160; <br /></strong>&#160;&#160; A couple of things ,&#160; Nobody knows everything , don’t be afraid to admit that you don’t know something.     <br />&#160;&#160; Nobody works alone , if you need help with anything , don’t     </p>
<p><strong>What's the most fun you've ever had ... programming?&#160; <br />&#160;</strong>Other than several Mountain Dew Fueled coding jaunts, there have been&#160; <br />a few really memorable moments of programming. Back in Perot, we had something called     <br />a Technical Induction Program ( TIP )&#160; for people fresh out of college who joined the company.     <br />Everyone had to go through&#160; a 2 Month long program ending with them building something they wanted to build     <br />and me and a couple of other guys helping them achieve this . It was a month of fun with     <br />me reliving what it means for someone to jump out of college and land head first on a career as a Developer     <br />building real stuff. We used something called <a href="http://en.wikipedia.org/wiki/Remote_Scripting">RemoteScripting</a> to submit Form information without refreshing the     <br />browser ( old school ajax ).     <br />The other time is from the very recent past .I had the most enjoyable time working on the Silverlight Client Library for astoria .The testing framework we built to share code between the desktop Test suites and the Silverlight test suites was very unconventional to say the least , but hey , new technologies require new thinking .     <br />It was a combination of making sure everything runs fine and passes and also the continuous dance of&#160; <br />making sure the framework works and does what its supposed to . Did I tell you that it was built on top of&#160; astoria ? Writing the test framework helped us understand what the users would feel like trying to write code in Silverlight.&#160; <br />And that was the most fun I had !     <br />&#160;</p>
<p><strong>Who’s Next ?</strong>     <br /><a href="http://blogs.msdn.com/CPerry/">Carl Perry</a> , <a href="http://blogs.msdn.com/Walzenbach/">Daniel</a> ,&#160; <a href="http://blog.pather.net/ ">Shyam Pather</a> .</p>

      </div>

      <a href="/software-development-meme/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/set-based-operations-in-ado-net-data-services/">Set Based Operations in Ado.net Data Services</a></h1>

      <div class="entry">
        <p>Today's Post is co-Authored by Linq Ninja and my Colleague <a href="http://blogs.msdn.com/Marcelolr" mce_href="http://blogs.msdn.com/Marcelolr">Marcelo</a><br />Linq to Astoria does not support Set based queries , which means that this query is invalid
<pre class="darkcsharpcode">List&lt;<span class="kwrd">string</span>&gt; citiesIWillVisit = <span class="kwrd">new</span> List&lt;<span class="kwrd">string</span>&gt;(){
                        <span class="str">"London"</span>,
                        <span class="str">"Berlin"</span>,
                        <span class="str">"Prague"</span>
                        };
var customersAround = nwContext.Customers.Where&lt;Customers&gt;(cx =&gt; citiesIWillVisit.Contains(cx.City));</pre>
<p>The above example would use the IN operator to search for a property in<br />a given set of values.You can achieve the same query using <br />Dynamic Linq Queries to filter over a set of values by creating Dynamic Linq Queries <br />at runtime based on your logic and Set .Lets take the same example as before .<br />Of all the Customers in the Northwind store , lets say that you want to visit customers living in cities<br />thatare on your itinerary.
<pre></pre>
<pre class="darkcsharpcode"> List&lt;<span class="kwrd">object</span>&gt; citiesIWillVisit = <span class="kwrd">new</span> List&lt;<span class="kwrd">object</span>&gt;(){
                        <span class="str">"London"</span>,
                        <span class="str">"Berlin"</span>,
                        <span class="str">"Prague"</span>
                        };</pre>
<p>The Customer Entity contains a property called "City" on which we want to filter.<br />if you already know the cities and they wont change , a normal Filter query would look like this 
<pre class="darkcsharpcode"><span class="rem">            //Create the Northwind Client Context</span>
            northwindContext nwContext = <span class="kwrd">new</span> northwindContext(
                <span class="kwrd">new</span> Uri(<span class="str">"http://ServiceEndPoint/Northwind.svc"</span>)
                );

            var customersAround = from cx <span class="kwrd">in</span> nwContext.Customers
                                  <span class="kwrd">where</span> cx.City == <span class="str">"London"</span>
                                  || cx.City == <span class="str">"Berlin"</span>
                                  || cx.City == <span class="str">"Prague"</span>
                                  select cx;

            <span class="kwrd">foreach</span> (Customers coHabitant <span class="kwrd">in</span> customersAround) {
                System.Console.WriteLine(coHabitant.ContactName);
            }</pre>
<p>Now , what if the cities you visit is dynamic ? In such a case you cannot write <br />queries for all possible combinations and expect it to work.<br />Its just too wasteful to do that , there is a better way to do this , Dynamic Filter Expressions.<br />Once you have a dynamic filter expression, you can call the "Where" method on <br />the appropriate DataServiceQuery&lt;T&gt; object to get the results. Lets look at how to build a dynamic filter expression.<br />An Expression has the following basic components.
<pre class="darkcsharpcode">nwContext.Customers.Where&lt;Customers&gt;(cx =&gt; cx.City == <span class="str">"London"</span>)</pre>
<pre class="darkcsharpcode">Parameter : "cx"<br /><br />Left Hand Side Of Expression : cx.City<br />Constant : "London"<br /></pre>
<p>If you were to build the same using Dynamic Linq Queries , you would write
<pre class="darkcsharpcode"><span class="rem">//The parameter expression containing the Entity Type</span>
<span class="rem">//cx</span>
ParameterExpression param = Expression.Parameter(<span class="kwrd">typeof</span>(Customers), <span class="str">"cx"</span>);
<span class="rem">//The Left Hand Side of the Filter Expression</span>
<span class="rem">//cx=&gt; cx.City</span>
MemberExpression left = Expression.Property(param, <span class="str">"City"</span>);
<span class="rem">//The constant to compare against </span>
ConstantExpression constant = Expression.Constant(<span class="str">"London"</span>)
<span class="rem">//Build the Filter </span>
<span class="rem">//cx=&gt; cx.City == "London"</span>
Expression.Equal( left , constant )
<span class="rem">//Build the LambdaExpression to pass to the Where Method</span>
<span class="rem">//.Where(cx=&gt; cx.City == "London")</span>
var lambda = Expression.Lambda&lt;Func&lt;Customers, <span class="kwrd">bool</span>&gt;&gt;(filterExpression, param);
<span class="rem">//Execute the Filter </span>
var customersAround = nwContext.Customers.Where&lt;Customers&gt;(lambda);
</pre>
<p>Now , in the case we just described , the expression just compares the value of city to a constant "City". If we had <br />to create a query comparing the value of City to more constant values , we would have had to create expressions with OR .
<pre class="darkcsharpcode">Expression filterPredicate = <span class="kwrd">null</span>;
    <span class="kwrd">foreach</span> (var id <span class="kwrd">in</span> set) {
        <span class="rem">//Build a comparison expression which equates the Id of the Entity with this value in the IDs list</span>
        <span class="rem">// ex : e.Id == 1</span>
        Expression comparison = Expression.Equal(left, Expression.Constant(id));
        <span class="rem">//Add this to the complete Filter Expression</span>
       <span class="rem">// e.Id == 1 or e.Id == 3</span>
        filterPredicate = (filterPredicate == <span class="kwrd">null</span>) ? comparison : Expression.Or(filterPredicate, comparison);
 }</pre>
<p>This is what the complete Function looks like ..
<pre class="darkcsharpcode"><br /><span class="kwrd">static</span> Expression&lt;Func&lt;Customers, <span class="kwrd">bool</span>&gt;&gt; ContainedInSet(<span class="kwrd">IEnumerable </span>Set, <span class="kwrd">string</span> Property, Type EntityType)
        {
            <span class="rem">//The Filter Predicate that contains the Filter criteria</span>
            Expression filterPredicate = <span class="kwrd">null</span>;
            <span class="rem">//The parameter expression containing the Entity Type</span>
            ParameterExpression param = Expression.Parameter(EntityType, <span class="str">"l"</span>);
            <span class="rem">//The Left Hand Side of the Filter Expression</span>
            Expression left = Expression.Property(param, Property);

            <span class="rem">//Build a Dynamic Linq Query for finding an entity whose ID is in the list</span>
            <span class="kwrd">foreach</span> (var id <span class="kwrd">in</span> Set) {
                <span class="rem">//Build a comparision expression which equats the Id of the ENtity with this value in the IDs list</span>
                <span class="rem">// ex : e.Id == 1</span>
                Expression comparison = Expression.Equal(left, Expression.Constant(id));
                <span class="rem">//Add this to the complete Filter Expression</span>
                <span class="rem">// e.Id == 1 or e.Id == 3</span>
                filterPredicate = (filterPredicate == <span class="kwrd">null</span>) ? comparison : Expression.Or(filterPredicate, comparison);
            }
            <span class="rem">//Convert the Filter Expression into a Lambda expression of type Func&lt;Lists,bool&gt;</span>
            <span class="rem">// which means that this lambda expression takes an instance of type EntityType and returns a Bool</span>
            var lambdaFilterExpression = Expression.Lambda&lt;Func&lt;Customers, <span class="kwrd">bool</span>&gt;&gt;(filterPredicate, param);
            <span class="kwrd">return</span> lambdaFilterExpression;
        }</pre>
<p>But , it's not fun unless its an Extension Method , so we have the complete sample as :<br />
<script src="http://gist.github.com/113142.js" mce_src="http://gist.github.com/113142.js"></script></p>

      </div>

      <a href="/set-based-operations-in-ado-net-data-services/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/working-with-associations-in-ado-net-data-services/">Working with Associations in ADO.NET Data Services</a></h1>

      <div class="entry">
        <p>I’ve seen that users are having some question about how to deal with certain types of relations between entities and how to deal with them in the client library.I will outline the a couple of common scenarios of using the client library among a few relationship types. I'll be using the AdventureWorks Database for examples of relations.</p>
<h1>1..1 Associations</h1>
<p>This is the case of entities associated with each other 1..1 . An example from Adventureworks is the relation between Individual and Contact,Customer Entities. </p>
<p>An instance of the Individual entity type should have associated Contact and Customer entities, this is another way of saying “ A row in the Individual table should have links to a row in the Contact and Customer table”.    <br />In case of 1..1 relations , the left( child ) ends of the association are expressed as properties on the right ( parent ) end of the relation.This is shown in the metadata of the service as :</p>
<pre class="darkcsharpcode"><span class="kwrd">&lt;</span><span class="html">EntityType</span> <span class="attr">Name</span><span class="kwrd">=&quot;Individual&quot;</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">Key</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">PropertyRef</span> <span class="attr">Name</span><span class="kwrd">=&quot;CustomerID&quot;</span> <span class="kwrd">/&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">Key</span><span class="kwrd">&gt;<br /></span><span class="rem">&lt;!—Primitive &amp; Complex Properties --&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">Property</span> <span class="attr">Name</span><span class="kwrd">=&quot;CustomerID&quot;</span> <span class="attr">Type</span><span class="kwrd">=&quot;Edm.Int32&quot;</span> <span class="attr">Nullable</span><span class="kwrd">=&quot;false&quot;</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">Property</span> <span class="attr">Name</span><span class="kwrd">=&quot;Demographics&quot;</span> <span class="attr">Type</span><span class="kwrd">=&quot;Edm.String&quot;</span> <span class="attr">Nullable</span><span class="kwrd">=&quot;true&quot;</span> <span class="attr">MaxLength</span><span class="kwrd">=&quot;Max&quot;</span> <span class="attr">Unicode</span><span class="kwrd">=&quot;true&quot;</span> <span class="attr">FixedLength</span><span class="kwrd">=&quot;false&quot;</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">Property</span> <span class="attr">Name</span><span class="kwrd">=&quot;ModifiedDate&quot;</span> <span class="attr">Type</span><span class="kwrd">=&quot;Edm.DateTime&quot;</span> <span class="attr">Nullable</span><span class="kwrd">=&quot;false&quot;</span> <span class="kwrd">/&gt;</span>
<span class="rem">&lt;!-- Navigation Properties , Signifying related entities of an association --&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">NavigationProperty</span> <span class="attr">Name</span><span class="kwrd">=&quot;Contact&quot;</span>
    <span class="attr">Relationship</span><span class="kwrd">=&quot;AdventureWorks.FK_Individual_Contact_ContactID&quot;</span>
   <span class="attr">FromRole</span><span class="kwrd">=&quot;Individual&quot;</span> <span class="attr">ToRole</span><span class="kwrd">=&quot;Contact&quot;</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">NavigationProperty</span> <span class="attr">Name</span><span class="kwrd">=&quot;Customer&quot;</span>    <span class="attr">Relationship</span><span class="kwrd">=&quot;AdventureWorks.FK_Individual_Customer_CustomerID&quot;</span>
   <span class="attr">FromRole</span><span class="kwrd">=&quot;Individual&quot;</span> <span class="attr">ToRole</span><span class="kwrd">=&quot;Customer&quot;</span> <span class="kwrd">/&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">EntityType</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">
<p>.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }</style>
<p>This leads the client utility( DataSvcUtil.exe ) to generate a type Individual which has instances of types Customer and Contact as Properties.</p></p>
<p>The generated class on the client looks like this :</p>
<pre class="darkcsharpcode"><span class="kwrd">public</span> <span class="kwrd">class</span> Individual {
<span class="rem">//Other properties removed for brevity </span>
 <span class="kwrd">public</span> Contact Contact {
            get {
                <span class="kwrd">return</span> <span class="kwrd">this</span>._Contact;
            }
            set {
                <span class="kwrd">this</span>._Contact = <span class="kwrd">value</span>;
            }
        }
<span class="kwrd">public</span> Customer Customer {
            get {
                <span class="kwrd">return</span> <span class="kwrd">this</span>._Customer;
            }
            set {
                <span class="kwrd">this</span>._Customer = <span class="kwrd">value</span>;
            }
        }
}</pre>
<p>Trivia : Properties of a type P in an entity type E which signify that the type E has a 1..1 relation with the type P of the property are called as <strong>Reference </strong>Properties.</p>
<p>Now that we have set the stage, lets look at how one would use the client library to interact with the related types.</p>
<h5>Creating the link between the entities </h5>
<p>You have new instances of Individual , Contact and Customer and you want to persist the new entities and their relation to the store.</p>
<p></p>
<pre class="darkcsharpcode">Individual individual = <span class="kwrd">new</span> Individual();
<span class="rem">//Initialize all its necessary properties</span>
Customer newCustomer = <span class="kwrd">new</span> Customer();
<span class="rem">//Initialize all its necessary properties</span>
Contact contact = <span class="kwrd">new</span> Contact();
<span class="rem">//Initialize all its necessary properties</span>

<span class="rem">//Add the newly created entities to be tracked by the client context</span>

TestContext.AddObject(<span class="str">&quot;Individual&quot;</span>, individual);
TestContext.AddObject(<span class="str">&quot;Customer&quot;</span>, newCustomer);
TestContext.AddObject(<span class="str">&quot;Contact&quot;</span>, contact);</pre>
<style type="text/css">
<p>.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }</style>
<p><strong>Now what ?</strong></p>
<p>Since the entities are created and added to the store can’t I just set the Customer and Contact Property to the Individual object and that will save the relation ?</p>
<pre class="darkcsharpcode">individual.Customer = newCustomer;
individual.Contact = contact;
TestContext.SaveChanges();</pre>
<style type="text/css">
<p>.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }</style></p>
<p>Shouldn’t this be enough ?<br />
  <br />Nope , that’s not enough to save the relation to the store.</p>
<p><strong>Why ?</strong></p></p>
<p>Remember that the client context only gives you POCO access to entities in the store and any new entities that you create.The Client context <strong>does not track any relations </strong>unless you <strong>explicitly ask it to do so !</strong></p>
<p><strong>Neat&#160; , now how do I ask it to do that ? </strong></p>
<p><strong>Beta 1 Code :<br />
    <br /></strong>You use the AddLink method defined on the context. </p>
<pre class="darkcsharpcode">TestContext.AddLink(individual, <span class="str">&quot;Contact&quot;</span>, contact);
TestContext.AddLink(individual, <span class="str">&quot;Customer&quot;</span>, newCustomer);</pre>
<style type="text/css">
<p>.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }</style>
<p>The signature and the intent of the AddLink method is lucid , it binds 2 entities into a relation , its kinda like a priest at a wedding,<br />
  <br />“I now bind you into the holy bond of 1..1 relations. You may now change your facebook status“</p></p></p></p>
<p>okay , jokes aside , this is what it looks like ..</p>
<p>AddLink ( Parentinstance ,”ChildPropertyName”,ChildInstance)</p>
<p><strong>RTM Code :</strong></p>
<p>You use the SetLink method defined on the context. </p>
<pre class="darkcsharpcode">TestContext.SetLink(individual, <span class="str">&quot;Contact&quot;</span>, contact);
TestContext.SetLink(individual, <span class="str">&quot;Customer&quot;</span>, newCustomer);</pre>
<style type="text/css">
<p>.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }</style>
<p>The signature and the intent of the SetLink method is lucid , it binds 2 entities into a relation , its kinda like a priest at a wedding,<br />
  <br />This is what it looks like ..</p>
<p>SetLink ( Parentinstance ,”ChildPropertyName”,ChildInstance)</p>
<style type="text/css">
<p>.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }</style>
<h5><strong>Deleting the parent entity</strong></h5>
<p>Deleting the parent entity means that the relations with the child entities are also removed.<br />
  <br />Think of this as the argument of “How do I delete an entity that has 1..1 links with other&#160;&#160; entities?”</p>
<p></p>
<p><strong>What happens if I delete the parent entity without deleting the links ?</strong></p>
<p>It depends on your store . If your database is configured to do a cascade delete on deletion of the parent entity ,you might get away with deleting the entity without removing the links</p>
<p>The right way to delete the entity is to remove all the links it has with the child entities and then delete the entity itself.<br />
  <br />The code would look like this..</p>
<p></p>
<pre class="darkcsharpcode">Individual existingIndividual = TestContext.Individual.Expand(<span class="str">&quot;Customer,Contact&quot;</span>).Take&lt;Individual&gt;(1).First&lt;Individual&gt;();

TestContext.DetachLink(existingIndividual, <span class="str">&quot;Contact&quot;</span>, existingIndividual.Contact);
TestContext.DetachLink(existingIndividual, <span class="str">&quot;Customer&quot;</span>, existingIndividual.Customer);
TestContext.DeleteObject(existingIndividual);
TestContext.SaveChanges();</pre>
<style type="text/css">
<p>.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }</style>
<p><strong>Wait !! what’s with the expand there ?<br />
    <br /></strong>Well, if you need to delete the relation , the way to identify the relation or the link is to have both the right and the left end of the relations to be materialized. without the expand , the Contact and the Customer property are null , and we don’t know which relation to delete.In case of 1..1 relations it might be easy to predict based on the relation name ,</p>
<p>but wouldn’t be easy in case of 1..n relations.</p>
<p>Well, that’s it from me , In the next part , we shall discuss entities with 1..N relations and how to work with them using the astoria context.</p>
<p>If you have any questions&#160; , leave a comment . If you have any issues with code and need help , please post your query on the astoria forums as I can’t promise that I will be able to reply to emails sent to me directly .The whole team is very active on the forums and the more eyes on a problem the better.</p>
<p></p>
<p>I will update the code used in&#160; this sample and upload it later.<br />
  </p>
<style type="text/css">
<p>.darkcsharpcode, .darkcsharpcode pre<br />
{<br />
	padding-top :10px;<br />
	font-size: small;<br />
	color: #d2d200;<br />
	font-family: consolas, "Courier New" , courier, monospace;<br />
	background-color: #2e2e2e; /*white-space: pre;*/<br />
	padding-bottom :10px;<br />
	padding-left :15px;<br />
}<br />
.darkcsharpcode pre<br />
{<br />
	margin: 0em;<br />
}<br />
.darkcsharpcode .rem<br />
{<br />
	color: #00ff00;<br />
}<br />
.darkcsharpcode .kwrd<br />
{<br />
	color: #eaeaac;<br />
	font-size: 11;<br />
	font-weight: bold;<br />
}<br />
.darkcsharpcode .str<br />
{<br />
	color: #cc9393;<br />
}<br />
.darkcsharpcode .op<br />
{<br />
	color: #0000c0;<br />
}<br />
.darkcsharpcode .preproc<br />
{<br />
	color: #cc6633;<br />
}<br />
.darkcsharpcode .asp<br />
{<br />
	background-color: #ffff00;<br />
}<br />
.darkcsharpcode .html<br />
{<br />
	color: #efefef;<br />
}<br />
.darkcsharpcode .attr<br />
{<br />
	color: #dfdfbf;<br />
}<br />
.darkcsharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.darkcsharpcode .lnum<br />
{<br />
	color: #606060;<br />
}</style>

      </div>

      <a href="/working-with-associations-in-ado-net-data-services/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/astoria-silverlight-client-failing-with-firefox-3-0/">Astoria Silverlight Client Failing with FireFox 3.0</a></h1>

      <div class="entry">
        <p>Hi all,</p>
<p>By now , anyone running a SIlverlight application Astoria Silverlight Client library in Firefox 3.0 would have seen a weird error about charsets.    </p>
<p>This blog post will describe the error and how to work-around it .</p>
<p>Consider the following query : </p>
<pre class="csharpcode">DataServiceQuery&lt;Customers&gt; customerQuery = from cus <span class="kwrd">in</span> context.Customers
                                            <span class="kwrd">where</span> cus.ID ==<span class="str">'ALFKI'</span>
                                            select cus;

AsyncCallback ac = iasyncResult =&gt;{
  DataServiceQuery&lt;Customers&gt; cusQuery = iasyncResult.AsyncState <span class="kwrd">as</span>  DataServiceQuery&lt;Customers&gt;;
  QueryOperationResponse&lt;Customer&gt;  response = cusQuery.EndExecute(iasyncResult); &lt;-- Exception Thrown here
}

customerQuery.BeginExecute(ac,customerQuery); </pre>
<style type="text/css">
<p>.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }</style>
<p>
  <br />When this code runs in Firefox 3.0 , the highlighted line throws the exception,</p>
<blockquote>
<p><strong>Error Message : Character set 'iso-8859-1' is not supported.<br />
      <br /></strong></p>
<p><strong>Stack Trace : </strong></p>
<p>&#160;&#160; at System.Data.Services.Client.HttpProcessUtility.EncodingFromName(String name)<br />
    <br />&#160;&#160; at System.Data.Services.Client.HttpProcessUtility.MediaType.SelectEncoding()</p>
<p>&#160;&#160; at System.Data.Services.Client.HttpProcessUtility.ReadContentType(String contentType, String&amp; mime, Encoding&amp; encoding)</p>
<p>&#160;&#160; at System.Data.Services.Client.DataServiceContext.GetMaterializer(Type elementType, String contentType, Func`1 response, Func`4 create)</p>
<p>&#160;&#160; at System.Data.Services.Client.DataServiceRequest.Materialize[TElement](DataServiceContext context, String contentType, Func`1 response)</p>
<p>&#160;&#160; at System.Data.Services.Client.DataServiceRequest`1.Materialize(DataServiceContext context, String contentType, Func`1 response)</p>
<p>&#160;&#160; at System.Data.Services.Client.DataServiceContext.EndExecute[TElement](IAsyncResult asyncResult)</p>
<p></p>
</blockquote>
<h5>What is this error ?</h5>
<p>When&#160; we recieve the ATOM response from the server , we need to read the stream of content in the charset present in the Accept-charset header. The server does not set the Accept-Charset header and replays what the client sent. The normal Accept-Charset header sent to the server from the SL client looks like this ..</p>
<blockquote>
<p><strong>Accept-Charset: UTF-8</strong></p>
</blockquote>
<p>Now , in FireFox 3.0 , the Accept-Charset header , even though we explicitly set it to be the above , whats sent to the server is ..</p>
<blockquote>
<p><strong>Accept-Charset: <em>ISO-8859-1</em>,utf-8;q=0.7,*;q=0.7</p>
<p></strong>And the Server responds back with the same charset and we try to read the content with this char-set.</p>
</blockquote>
<p>Unfortunately , the charset <em><strong>ISO-8859-1</strong></em>, is not supported by the underlying Platform i.e SIlverlight.</p>
<p>and hence we error out</p>
<h5>How do I fix this for now ?</h5>
<p>Follow these instructions on changing your browser settings to work around the issue</p>
<ol>
<li>Type <b>about:config</b> in the Firefox browser's address bar. </li>
<li>Navigate through a dialog box and check “I’ll be careful”. </li>
<li>In the Page’s Search box , type : “<b>intl.charset.default</b>” . </li>
<li>Double click on the entry&#160; that turns up , and set the value to “<b>utf-8</b>” . </li>
</ol>
<p>Hope this helps.If you still face problems , open a thread on the <a href="http://forums.microsoft.com/Forums/ShowForum.aspx?ForumID=1430&amp;SiteID=1">Astoria Forums</a> and we will try to help out.</p>

      </div>

      <a href="/astoria-silverlight-client-failing-with-firefox-3-0/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/debugging-wcf-data-services/">Debugging WCF Data Services</a></h1>

      <div class="entry">
        <p>When developing your service , you might run into some issues and you want to debug your service. <br />Imagine that you are inserting data into the store using astoria and you start getting DataServiceExceptions in your client code. <br />The normal error message would be ..</p>
<pre class="csharpcode"><span class="kwrd">&lt;?</span><span class="html">xml</span> <span class="attr">version</span><span class="kwrd">="1.0"</span> <span class="attr">encoding</span><span class="kwrd">="utf-8"</span> <span class="attr">standalone</span><span class="kwrd">="yes"</span>?<span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">error</span> <span class="attr">xmlns</span><span class="kwrd">="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">code</span><span class="kwrd">&gt;&lt;/</span><span class="html">code</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">message</span> <span class="attr">xml:lang</span><span class="kwrd">="en-US"</span><span class="kwrd">&gt;</span>An error occurred while processing this request.<span class="kwrd">&lt;/</span><span class="html">message</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">error</span><span class="kwrd">&gt;</span></pre></p>
<p>While debugging the service , you would need more information that just this generic error message . <br />To switch to the dev error mode, you can use the following config settings.&nbsp; </p>
<h5>1) Set UseVerboseErrors to true in the ServiceConfiguration</h5>
<pre class="csharpcode"><span class="kwrd">public</span> <span class="kwrd">class</span> YoruService : DataService&lt;YourProvider&gt; {<br />   <span class="kwrd">public</span> <span class="kwrd">static</span> <span class="kwrd">void</span> InitializeService(IDataServiceConfiguration config) {
       config.UseVerboseErrors = <span class="kwrd">true</span>;
        . . . . . .
    }<br />......</pre>
<pre class="csharpcode">}</pre>
<pre class="csharpcode">Once this mode is setup , your error messages look like this ..</pre>
<pre class="csharpcode"><span class="kwrd">&lt;?</span><span class="html">xml</span> <span class="attr">version</span><span class="kwrd">="1.0"</span> <span class="attr">encoding</span><span class="kwrd">="utf-8"</span> <span class="attr">standalone</span><span class="kwrd">="yes"</span>?<span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">error</span> <span class="attr">xmlns</span><span class="kwrd">="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">code</span><span class="kwrd">&gt;&lt;/</span><span class="html">code</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">message</span> <span class="attr">xml:lang</span><span class="kwrd">="en-US"</span><span class="kwrd">&gt;</span>An error occurred while processing this request.<span class="kwrd">&lt;/</span><span class="html">message</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">innererror</span> <span class="attr">xmlns</span><span class="kwrd">="xmlns"</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">message</span><span class="kwrd">&gt;</span>An error occurred while updating the entries. See the InnerException for details.<span class="kwrd">&lt;/</span><span class="html">message</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">type</span><span class="kwrd">&gt;</span>System.Data.UpdateException<span class="kwrd">&lt;/</span><span class="html">type</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">stacktrace</span><span class="kwrd">&gt;</span>   at System.Data.Mapping.Update.Internal.UpdateTranslator.Update(IEntityStateManager stateManager, IEntityAdapter adapter)&amp;#xD;
   at System.Data.Objects.ObjectContext.SaveChanges(Boolean acceptChangesDuringSave)&amp;#xD;
   at System.Data.Services.Providers.ObjectContextServiceProvider.SaveChanges()&amp;#xD;
   at System.Data.Services.DataService`1.HandleNonBatchRequest(RequestDescription description)&amp;#xD;
   at System.Data.Services.DataService`1.HandleRequest()<span class="kwrd">&lt;/</span><span class="html">stacktrace</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">internalexception</span><span class="kwrd">&gt;</span>
      <span class="kwrd">&lt;</span><span class="html">message</span><span class="kwrd">&gt;</span>Violation of PRIMARY KEY constraint 'PK_Region'. Cannot insert duplicate key in object 'dbo.Region'.&amp;#xD;
The statement has been terminated.<span class="kwrd">&lt;/</span><span class="html">message</span><span class="kwrd">&gt;</span>
      <span class="kwrd">&lt;</span><span class="html">type</span><span class="kwrd">&gt;</span>System.Data.SqlClient.SqlException<span class="kwrd">&lt;/</span><span class="html">type</span><span class="kwrd">&gt;</span>
      <span class="kwrd">&lt;</span><span class="html">stacktrace</span><span class="kwrd">&gt;</span>   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection)&amp;#xD;
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj)&amp;#xD;
   at System.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)&amp;#xD;
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)&amp;#xD;
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async)&amp;#xD;
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, DbAsyncResult result)&amp;#xD;
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(DbAsyncResult result, String methodName, Boolean sendToPipe)&amp;#xD;
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()&amp;#xD;
   at System.Data.Mapping.Update.Internal.DynamicUpdateCommand.Execute(UpdateTranslator translator, EntityConnection connection, Dictionary`2 identifierValues, List`1 generatedValues)&amp;#xD;
   at System.Data.Mapping.Update.Internal.UpdateTranslator.Update(IEntityStateManager stateManager, IEntityAdapter adapter)<span class="kwrd">&lt;/</span><span class="html">stacktrace</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;/</span><span class="html">internalexception</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">innererror</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">error</span><span class="kwrd">&gt;</span></pre></p>
<pre class="csharpcode">This works well when you have a working service all prepped up and ready to go .<br /><strong>But , what do you do when your service won't even start ?<br /></strong><br />If the service fails to initialize due to some error , you get the generic WCF Error message,<br />which is seldom useful .</pre>
<pre class="csharpcode">The error message would look like this ..</pre>
<pre class="csharpcode"><br /><br /><br /><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/DebuggingAdo.netDataServices_9B10/WCF_Generic_Error_2.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/DebuggingAdo.netDataServices_9B10/WCF_Generic_Error_2.jpg"><img height="264" width="644" src="/assets/WCF_Generic_Error_thumb.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/DebuggingAdo.netDataServices_9B10/WCF_Generic_Error_thumb.jpg" alt="WCF_Generic_Error" border="0" style="border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" /></a> <br /></pre>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode">The reason you see this and not the Pretty formatted error message from astoria is that the astoria framework<br />never initialized the service and failed in the WCF pipeline.<br />To see the error at this layer , you will need to </pre>
<h5>2) Configure your Servicebehavior with the <a target="_blank" href="http://msdn.microsoft.com/en-gb/library/system.servicemodel.description.servicedebugbehavior.includeexceptiondetailinfaults.aspx">IncludeExceptionDetailInFaults</a> attribute.</h5>
<pre class="csharpcode"><strong>Via Code :</strong></pre>
<pre class="csharpcode">[System.ServiceModel.ServiceBehavior(IncludeExceptionDetailInFaults = <span class="kwrd">true</span>)]
<span class="kwrd">public</span> <span class="kwrd">class</span> YourService : DataService&lt;YourProvider&gt;</pre></p>
<pre class="csharpcode"><strong>Via Config :<br /></strong></pre>
<p><strong></p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">system.serviceModel</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">services</span><span class="kwrd">&gt;</span>
      <span class="kwrd">&lt;</span><span class="html">service</span> <span class="attr">name</span><span class="kwrd">="ServiceNamespace.ServiceClassName"</span>  <span class="attr">behaviorConfiguration</span> <span class="kwrd">="DebugEnabled"</span><span class="kwrd">&gt;</span>
      <span class="kwrd">&lt;/</span><span class="html">service</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;/</span><span class="html">services</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">behaviors</span><span class="kwrd">&gt;</span>
      <span class="kwrd">&lt;</span><span class="html">serviceBehaviors</span> <span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">behavior</span> <span class="attr">name</span><span class="kwrd">="DebugEnabled"</span><span class="kwrd">&gt;</span>
          <span class="kwrd">&lt;</span><span class="html">serviceDebug</span> <span class="attr">includeExceptionDetailInFaults</span><span class="kwrd">="True"</span><span class="kwrd">/&gt;</span>
        <span class="kwrd">&lt;/</span><span class="html">behavior</span><span class="kwrd">&gt;</span>
      <span class="kwrd">&lt;/</span><span class="html">serviceBehaviors</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;/</span><span class="html">behaviors</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">serviceHostingEnvironment</span> <span class="attr">aspNetCompatibilityEnabled</span><span class="kwrd">="true"</span><span class="kwrd">/&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">system.serviceModel</span><span class="kwrd">&gt;</span></pre>
<p></strong></p>
<pre class="csharpcode">After setting this config , this is what the error  looks like ..</pre>
<pre class="csharpcode"><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/DebuggingAdo.netDataServices_9B10/WCF_Detailed_Error_6.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/DebuggingAdo.netDataServices_9B10/WCF_Detailed_Error_6.jpg"><img height="232" width="736" src="/assets/WCF_Detailed_Error_thumb_2.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/DebuggingAdo.netDataServices_9B10/WCF_Detailed_Error_thumb_2.jpg" alt="WCF_Detailed_Error" border="0" style="border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" /></a> </pre>
<pre class="csharpcode">&nbsp;<br />Happy Debugging !</pre></p>

      </div>

      <a href="/debugging-wcf-data-services/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/rest-in-peace/">REsT In Peace</a></h1>

      <div class="entry">
        <p><font face="ver" size="3">So , I finally made a move from my job in PSS to the product I enjoyed playing with most , ASTORIA ( ADO.NET Data Sources ).     </p>
<p>Of course, this means that I have moved from half-way across the world to join the team in Redmond, WA.</font></p>
<p><font face="ver" size="3">About a week after I joined , we went Skiing .&#160; Me , being a&#160; novice , hurt myself snowboarding and wear a band-aid on my forehead as proudly as one would wear a war wound with pride.      </p>
<p>I realized that I had all the attitude to be a snowboarder and none of the skill :-).      </p>
<p>See how a high-performance team beats the deadline for fun over here : </font><a href="http://blogs.msdn.com/astoriateam/archive/2008/01/25/resting-on-the-slopes.aspx" target="_blank"><font face="ver" size="3">RESTing on the slopes</font></a></p>

      </div>

      <a href="/rest-in-peace/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/add-windows-live-messenger-to-your-websiteblog-to-chat-with-your-visitors/">Add Windows Live Messenger to your website/blog to chat with your Visitors</a></h1>

      <div class="entry">
        <p>Ok , this has to be the coolest thing ever !!<br />Angus just announced this over on his <a href="http://blogs.msdn.com/angus_logan/archive/2007/11/07/announcment-windows-live-messenger-im-control-presence-api-conversations-from-web-to-client-querying-presence.aspx?CommentPosted=true#commentmessage" target="_blank">blog</a> , you can&nbsp;&nbsp; now add a web version of the windows Live Communicator to your blog / website.<br />You can find details about how to set this up on his <a href="http://blogs.msdn.com/angus_logan/archive/2007/11/07/announcment-windows-live-messenger-im-control-presence-api-conversations-from-web-to-client-querying-presence.aspx?CommentPosted=true#commentmessage" target="_blank">blog</a> . </p>
<p><strong>Re-sizing the IM Control .</p>
<p></strong>The markup to be added to your blog contains the width and the height specified as 300 px.<br />You can modify the Width and&nbsp; the height&nbsp; of the IM control by changing the parameters high lighted below.</p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">iframe</span> <span class="attr">src</span>="<span class="attr">http:</span>//<span class="attr">settings</span>.<span class="attr">messenger</span>.<span class="attr">live</span>.<span class="attr">com</span>/<span class="attr">Conversation</span>/<span class="attr">IMMe</span>.<span class="attr">aspx</span>?<span class="attr">invitee</span>=&amp;<span class="attr">amp</span>;<span class="attr">lt</span>;<span class="attr">ID</span><span class="kwrd">&gt;</span>%40apps.messenger.live.com&amp;mkt=en-in"
<font size="3"><strong>width="275" height="300" </strong></font>
style="border: solid 1px black; <font size="3"><strong>width: 275px; height: 300px;"</strong></font>
frameborder="0"<span class="kwrd">&gt;&lt;/</span><span class="html">iframe</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p><strong>Don't resize width to be less than 275 px , the Captcha won't be fully visible , making the control useless!!</p>
<p></strong>Check out the IM control on my blog , leave me a ping if visiting and needed a quick question answered.</p>
<p>Once again , Angus , this is amazing work , hats off !!!</p>

      </div>

      <a href="/add-windows-live-messenger-to-your-websiteblog-to-chat-with-your-visitors/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/gridviewfilterextender-filter-gridview-rows-client-side/">GridViewFilterExtender : Filter GridView Rows Client-Side</a></h1>

      <div class="entry">
        <blockquote>
<p><strong>Download Source Code and Sample application</strong>&nbsp; :&nbsp; <iframe style="border-right: #dde5e9 1px solid; padding-right: 0px; border-top: #dde5e9 1px solid; padding-left: 0px; padding-bottom: 0px; margin: 3px; border-left: #dde5e9 1px solid; width: 240px; padding-top: 0px; border-bottom: #dde5e9 1px solid; height: 26px; background-color: #ffffff" marginwidth="0" marginheight="0" src="http://cid-925c2d2bb2d03c6b.skydrive.live.com/embedrow.aspx/Public/GridViewFilterExtender.zip" frameborder="0" scrolling="no"></iframe></p>
<table cellspacing="0" cellpadding="2" width="709" border="0">
<tbody>
<tr>
<td valign="top" width="348"><strong>Excel's Filter Dialog</strong></td>
<td valign="top" width="359"><strong>My GridView Filter Extender</strong></td>
</tr>
<tr>
<td valign="top" width="351"><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/BuildinganExcellike_10A47/Excel_Filter.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/BuildinganExcellike_10A47/Excel_Filter.jpg"><br /><img style="border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="396" alt="Excel_Filter" src="/assets/Excel_Filter_thumb.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/BuildinganExcellike_10A47/Excel_Filter_thumb.jpg" width="339" border="0" /></a></td>
<td valign="top" width="359">&nbsp;&nbsp; <a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/BuildinganExcellike_10A47/GridRowFilterExtender_2.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/BuildinganExcellike_10A47/GridRowFilterExtender_2.jpg"><img style="border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="416" alt="GridRowFilterExtender" src="/assets/GridRowFilterExtender_thumb.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/BuildinganExcellike_10A47/GridRowFilterExtender_thumb.jpg" width="306" border="0" /></a></td>
</tr>
<tr>
<td valign="top" width="354">&nbsp;</td>
<td valign="top" width="359">&nbsp;</td>
</tr>
</tbody>
</table>
</blockquote>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br />The above Screen Shots look promising , don't they ?<br />So, How would one go about building such a control ? Well, I have it laid out in front of you .</p>
<p>1) Find all unique Strings in the same column <br />2) Build a lookup table that stores the Unique string and the row Indices for the rows that contain the Unique String<br />3) Once user builds a Filter Expression and clicks on "Ok" , Filter the Rows in the Table based on the Expression.<br />4) For Now , the Filter Expression can only be&nbsp; a sequence of strings that the user wants to see in the grid.</p>
<p>Ex : If your grid looks like this :</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/BuildinganExcellike_10A47/GridViewSampleData_2.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/BuildinganExcellike_10A47/GridViewSampleData_2.jpg"><img style="border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="295" alt="GridViewSampleData" src="/assets/GridViewSampleData_thumb.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/BuildinganExcellike_10A47/GridViewSampleData_thumb.jpg" width="194" border="0" /></a> </p>
<p>The filter expression would be a comma-separated string that contains the unique strings to match in the rows.</p>
<pre class="csharpcode"><span class="kwrd">var</span> _currentRowFilter = <span class="str">"Ajax,Moo"</span></pre>
<p><style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p>The lookup Table would look like this :</p>
<pre class="csharpcode">_lookupTable
        Select All    <span class="str">"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23"</span>
        Ajax    <span class="str">"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16"</span>
        Moo    <span class="str">"17,18,19,20,21,22,23"</span>    <br />
so , if we want to filter the rows , we would need to : </pre>
<p>1) Hide all Rows to begin with . <br /><b>HideRows : this.lookupTable["Select All"]</b></p>
<p>2) Show only those rows that are found in the lookup table against the filter Terms. <br /><b>ShowRows :this.lookupTable["Ajax"]</b></p>
<p>That's about the algorithm / design for the extender to work .<br />Getting this working is another matter altogether.<br />Once you have understood this , lets start:</p>
<p><b>Find all unique Strings in the same column :</b></p>
<p>once you find all the unique strings in all subsequent rows for the same column , we will need to build the checkbox list that <br />will allows the user to select the filter Terms. <b>I.e this :</b>
<pre class="csharpcode"><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/BuildinganExcellike_10A47/FilterExpressionSelector_2.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/BuildinganExcellike_10A47/FilterExpressionSelector_2.jpg" /></pre>
<p><img style="border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="245" alt="FilterExpressionSelector" src="/assets/FilterExpressionSelector_thumb.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/BuildinganExcellike_10A47/FilterExpressionSelector_thumb.jpg" width="155" border="0" /> </p>
<p>This is a bit tricky , the way one would go about doing this would be :</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Find out which Column the Extender is added in .Find the Cell Index of the Column , lets say _cellIndex<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; For all subsequent rows in the table, Lookup the innerText of the Cell with CellIndex cellIndex.</p>
<p><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; For Each Row </strong><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Read the innerText of the Cell at CellIndex cellIndex.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IF the string read is not yet present in the lookup Table then<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BEGIN<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; add it to the lookup Table along with the rowIndex of the current Row<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; END<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ELSE if string is already present in the lookupTable then</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Begin <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; add the RowIndex to the lookupTable[string] location. <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; END IF</p>
<p>Once you have found all the Unique Strings , build the CheckBoxList and attach the appropriate handlers .</p>
<p><b>Once user builds a Filter Expression and clicks on "Ok" , Filter the Rows in the Table based on the Expression.</b></p>
<p>Hide All Rows .<br />Get all the Rows in the Table other than the header and the footer , _rowsInTable.<br />Get the Current Search Filter by adding all the strings that are checked in the CheckBoxList.<br />For each term in the Search Filter , get the appropriate row Indices ,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; For each row Index in the Row Indices, <b>_rowIndex<br /></b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; assign the cssClass _inFilterCssClass to the _rowsInTable[_rowIndex].</p>
<p>&nbsp;
<p><strong>This is all neat , what if I have multiple columns in my GridView and I want to filter <br />each succeeding Column depending on the previous Column?</strong>&nbsp;</p>
<p>Well, I have thought about that too ..<br />This is what we would do :<br />Every FilterExtender <strong>(a)</strong> can have a Dependent Filter&nbsp; <strong>(b)</strong> , if filter <strong>(b) </strong>is used to filter data ( it raises the itemFiltered Event ),<br />then&nbsp; the Filter <strong>(a) </strong>has to rebuild its index to remove any index text <br />that was removed as a result of the filter expression on filter <strong>(b)</strong>.<br /><strong><br />Important Note about the DependentFilterID <br /></strong><br />If a FilterExtender <strong>(a)</strong>&nbsp; has a FilterExtender <strong>(b)</strong>&nbsp; as its Dependent Filter ID , they both should have the matching values for the <br />InFilterCssClass and the NotInFilterCssClass attributes.</p>
<table cellspacing="0" cellpadding="2" width="612" border="0">
<tbody>
<tr>
<td valign="top" width="610"><strong>Set DependentFilterID </strong></td>
</tr>
<tr>
<td valign="top" width="610"><strong>In markup</strong></td>
</tr>
<tr>
<td valign="top" width="610">
<pre class="csharpcode"><span class="kwrd">&lt;</span>Raj:GridViewFilterExtender  DependentFilterId="optionListPnl"</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
</td>
</tr>
<tr>
<td valign="top" width="610"><strong>JavaScript</strong></td>
</tr>
<tr>
<td valign="top" width="610">
<pre class="csharpcode">$find(&lt;filterBehaviorID&gt;).set_dependentFilterId(&lt;dependentFilterId&gt;)</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
</td>
</tr>
</tbody>
</table>
<p><strong>Attributes :</strong></p>
<table cellspacing="0" cellpadding="2" width="757" border="0">
<tbody>
<tr>
<td valign="top" width="111"><strong>Name</strong></td>
<td valign="top" width="644"><strong>Description</strong></td>
</tr>
<tr>
<td valign="top" width="111">TargetControlID</td>
<td valign="top" width="644">ID of the control upon clicking on which , the Filter is shown</td>
</tr>
<tr>
<td valign="top" width="111">OkButtonId</td>
<td valign="top" width="644">ID of the control upon clicking on which , the FilterExpression is applied and the filter is hidden</td>
</tr>
<tr>
<td valign="top" width="111">CancelButtonId</td>
<td valign="top" width="644">ID of the control upon clicking on which , the FilterExpression is <u>NOT applied </u>and the filter is hidden</td>
</tr>
<tr>
<td valign="top" width="111">EnableSelectAll</td>
<td valign="top" width="644">If the filter contains an option to "Select All" Rows</td>
</tr>
<tr>
<td valign="top" width="111">InFilterCssClass</td>
<td valign="top" width="644">The CssClass applied to all rows which are available from the Filter Expression.</td>
</tr>
<tr>
<td valign="top" width="111">NotInFilterCssClass</td>
<td valign="top" width="644">The CssClass applied to all rows which are NOT available from the Filter Expression.</td>
</tr>
<tr>
<td valign="top" width="111">FilterPanelID</td>
<td valign="top" width="644">The Panel Control which contains the Filter </td>
</tr>
</tbody>
</table>
<p><strong>Events :</strong></p>
<table cellspacing="0" cellpadding="2" width="765" border="0">
<tbody>
<tr>
<td valign="top" width="120"><strong>Name</strong></td>
<td valign="top" width="640"><strong>Description</strong></td>
</tr>
<tr>
<td valign="top" width="120">itemSelected</td>
<td valign="top" width="640">When any filter Expression is Selected</td>
</tr>
<tr>
<td valign="top" width="120">itemFiltered</td>
<td valign="top" width="640">When the filter Expression is applied.</td>
</tr>
<tr>
<td valign="top" width="120">onOk</td>
<td valign="top" width="640">when the Control Referenced by OkButtonId is clicked</td>
</tr>
<tr>
<td valign="top" width="120">onCancel</td>
<td valign="top" width="640">when the Control Referenced by CancelButtonId is clicked</td>
</tr>
</tbody>
</table>
<p><strong>Subscribing to the Events :</p>
<p>a) Markup :<br /></strong>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">Raj:OptionPickerBehavior</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">ID</span><span class="kwrd">="optionListPnl"</span> <span class="attr">TargetControlID</span><span class="kwrd">="btnToggle"</span>
         <span class="attr">blah</span> <span class="attr">blah</span> <span class="attr">blah</span>
         <span class="attr">OnOkScript</span><span class="kwrd">="okClickHandler"</span>
         <span class="attr">OnCancelScript</span> <span class="kwrd">="cancelClickHandler"</span>
         <span class="attr">OnClientItemFiltered</span> <span class="kwrd">="itemFilteredHandler"</span>
         <span class="attr">OnClientItemSelected</span> <span class="kwrd">="itemSelectedHandler"</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">Raj:OptionPickerBehavior</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode">&lt;script language=<span class="str">"javascript"</span> type=<span class="str">"text/javascript"</span>&gt;
            <span class="kwrd">function</span> itemSelectedHandler(element,args)  {
                Sys.Debug.trace( args.get_text() + <span class="str">"   "</span> + args.get_isChecked());
            }
            <span class="kwrd">function</span> itemFilteredHandler(element,args)  {
                Sys.Debug.trace( args.get_item() + <span class="str">"   "</span> + args.get_filterText());
            }
            <span class="kwrd">function</span> okClickHandler(element,args)  {
                Sys.Debug.trace( <span class="str">"Ok Button was clicked"</span> );
            }
             <span class="kwrd">function</span> cancelClickHandler(element,args)  {
                Sys.Debug.trace( <span class="str">"Cancel Button was clicked"</span>);
            }
            <span class="kwrd">function</span> traceCall(msg) {
                $get(<span class="str">"traceDiv"</span>).appendChild(document.createTextNode(msg));
            }
 &lt;/script&gt;</pre>
<pre class="csharpcode"><strong>b) Script <br /></strong></pre>
<pre class="csharpcode">$find(<span class="str">"BehaviorId"</span>).add_onOk( okClickHandler );

$find(<span class="str">"BehaviorId"</span>).add_onCancel( cancelClickHandler );

$find(<span class="str">"BehaviorId"</span>).add_itemFiltered( itemFilteredHandler );

$find(<span class="str">"BehaviorId"</span>).add_itemSelected( itemSelectedHandler );</pre>
<pre class="csharpcode" /><font face="Trebuchet MS">That's it for now ! Do give feedback on the control if you get a chance to use it / look at it .<br /></font></p></p></p></p></p></p></p>

      </div>

      <a href="/gridviewfilterextender-filter-gridview-rows-client-side/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/astoria-datasource-extender/">Astoria DataSource Extender</a></h1>

      <div class="entry">
        <p><font size="2"><strong><u>Download Source and Example&nbsp; :</u></strong></font></p>
<p><iframe style="border-right: #dde5e9 1px solid; padding-right: 0px; border-top: #dde5e9 1px solid; padding-left: 0px; padding-bottom: 0px; margin: 3px; border-left: #dde5e9 1px solid; width: 240px; padding-top: 0px; border-bottom: #dde5e9 1px solid; height: 26px; background-color: #ffffff" marginwidth="0" marginheight="0" src="http://cid-925c2d2bb2d03c6b.skydrive.live.com/embedrow.aspx/Public/AstoriaClient.zip" frameborder="0" scrolling="no"></iframe></p>
<p><font size="2">Most of you must have heard about Astoria. Read More about it here , if you haven't already :<br /><a href="http://astoria.mslivelabs.com/" target="_blank">Microsoft Codename "Astoria".</a><br /><a href="http://blogs.msdn.com/astoriateam/" target="_blank">The Astoria Team Blog :</a> </font></p>
<p><font size="2">It's a "Database in the cloud", your db is hosted on the Web and you access it via REST -style URIs.<br /></font><font size="2"><br />I have written a ControlExtender that helps one retrieve data and post data to a db on Astoria using JavaScript.<br /></font><font size="2">The Extender encapsulates its own Server-Side handler so that&nbsp; you don't have to write a Server-Side proxy to <br /></font><font size="2">avoid Making Cross-Domain Requests from the Client browser.</font></p>
<p><font size="2">The way it would work is :<br /></font><font size="2">Client Browser&nbsp; =====&gt; Server-Side handler ===&gt; Astoria Servers</font></p>
<p><font size="2">When the Client Script tries to download the data from the Astoria Servers, the following process is followed</font></p>
<ol>
<li><font size="2">Client Script requests a certain page ( dataDownloader.astoria)&nbsp; on the same server as the website with all the Astoria Query related parameters as headers. </font> </li>
<li><font size="2">The *.astoria extension is mapped to a handler contained in the Extender Control. </font> </li>
<li><font size="2">Once the handler receives the request , it makes the call to the actual Astoria Servers and passes on the error/Data back to the requesting Client . </font> </li>
<li><font size="2">The Control notifies any registered event handlers that the Data is now ready for use by the Script</font></li>
</ol>
<p><strong><font size="2"><u>What does the Extender NOT do ?</u></font></strong></p>
<p><font size="2">The Extender does NOT Support the following Scenarios</font></p>
<ol>
<li><font size="2">Data Manipulation such as POSTING and Editing Data.</font>  </li>
<li><font size="2">Bind the Returned Data to HTML controls , this would have to be done manually.</font></li>
</ol>
<p>&nbsp;</p>
<p><strong>Events Supported by the Extender:</strong></p>
<table cellspacing="0" cellpadding="2" width="908" border="0">
<tbody>
<tr>
<td valign="top" width="118"><strong>Event Name</strong></td>
<td valign="top" width="273"><strong>Raised When</strong></td>
<td valign="top" width="347"><strong>Event Args</strong></td>
<td valign="top" width="164"><strong>Usage</strong></td>
</tr>
<tr>
<td valign="top" width="120">dataReady</td>
<td valign="top" width="273">When the Data is downloaded and available for use by the client application</td>
<td valign="top" width="347">EventArgs contains the item( the Control itself) and the Data that the Client application can use</td>
<td valign="top" width="164">See Example below</td>
</tr>
<tr>
<td valign="top" width="122">dataDownloadBegins</td>
<td valign="top" width="273">When the Data download starts from the Astoria Servers</td>
<td valign="top" width="347">EventArgs.Empty</td>
<td valign="top" width="164">See Example below</td>
</tr>
<tr>
<td valign="top" width="122">dataDownloadEnds</td>
<td valign="top" width="273">When the Data download Ends from the Astoria Servers . The Data may/may not be ready for use by the Client Application</td>
<td valign="top" width="347">EventArgs.Empty</td>
<td valign="top" width="164">See Example below</td>
</tr>
<tr>
<td valign="top" width="122">dataDownloadError</td>
<td valign="top" width="273">When the Data download from the Astoria Servers results in an error</td>
<td valign="top" width="347"><u>AstoriaExtenders.DataDownloadErrorEventArgs<br /></u>Contains the Error information </td>
<td valign="top" width="164">See Example below</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p><strong>Subscribing to the Events of the Astoria Data Source Extender :</strong></p>
<p>The BehaviorID of the Extender added on the page is : "asBehavior"</p>
<pre class="csharpcode"><span class="rem">//Subscribing to the dataReady event</span>
$find(<span class="str">"asBehavior"</span>).add_dataReady( dataReadyHandler );
<span class="rem">//Subscribing to the dataDownloadBegins event</span>
$find(<span class="str">"asBehavior"</span>).add_dataDownloadBegins(&lt;functionName&gt;);
<span class="rem">//Subscribing to the dataDownloadEnds event</span>
$find(<span class="str">"asBehavior"</span>).add_dataDownloadEnds(&lt;functionName&gt;);
<span class="rem">//Subscribing to the dataDownloadError event</span>
$find(<span class="str">"asBehavior"</span>).add_dataDownloadError(dwError);</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode"><span class="rem">//The dataReady Event handler</span>
<span class="kwrd">function</span> dataReadyHandler(sender,eventArgs) {
   alert(<span class="str">"The Data returned is :: "</span>+eventArgs.get_data());
}</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode"><span class="rem">//The dataDownloadError Event handler</span>
<span class="kwrd">function</span> dwError(sender,eventArgs) {
    Sys.Debug.trace(<span class="str">"error Code ::"</span>+eventArgs.get_error().ErrorCode);
    Sys.Debug.trace(<span class="str">"error Message ::"</span>+eventArgs.get_error().ErrorMessage);
}</pre>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode"><strong><font size="3">Attributes Supported by the Extender</font></strong></pre>
<table cellspacing="0" cellpadding="2" width="852" border="0">
<tbody>
<tr>
<td valign="top" width="150"><strong><font size="2">Attribute Name</font></strong></td>
<td valign="top" width="457"><strong><font size="2">Description</font></strong></td>
<td valign="top" width="157"><strong><font size="2">Usage</font></strong></td>
<td valign="top" width="70"><font size="2">Default</font></td>
</tr>
<tr>
<td valign="top" width="151"><font size="2">PageSize</font></td>
<td valign="top" width="457"><font size="2">The Number of Records to show in one page</font></td>
<td valign="top" width="157"><font size="2">See Example below</font></td>
<td valign="top" width="74"><font size="2">5</font></td>
</tr>
<tr>
<td valign="top" width="151"><font size="2">StartPageIndex</font></td>
<td valign="top" width="457"><font size="2">The Initial page of Data returned</font></td>
<td valign="top" width="157"><font size="2">See Example below</font></td>
<td valign="top" width="78"><font size="2">0</font></td>
</tr>
<tr>
<td valign="top" width="152"><font size="2">Query</font></td>
<td valign="top" width="457"><font size="2">The Actual Astoria Query to return Data to the Client </font></td>
<td valign="top" width="157"><font size="2">See Example below</font></td>
<td valign="top" width="81"><font size="2">None</font></td>
</tr>
<tr>
<td valign="top" width="152"><font size="2">ExpandRecord</font></td>
<td valign="top" width="457"><font size="2">The Sub-record which has to also expanded along with the parent Rows.</font></td>
<td valign="top" width="157"><font size="2">See Example below</font></td>
<td valign="top" width="84"><font size="2">None</font></td>
</tr>
<tr>
<td valign="top" width="152"><font size="2">DatabaseURI</font></td>
<td valign="top" width="457"><font size="2">The Astoria URI to reach the Database </font></td>
<td valign="top" width="157"><font size="2">See Example below</font></td>
<td valign="top" width="86"><font size="2">None</font></td>
</tr>
<tr>
<td valign="top" width="152"><font size="2">DataFormat</font></td>
<td valign="top" width="457"><font size="2">The Format in which the Client Requires data : json/xml/rdf</font></td>
<td valign="top" width="157"><font size="2">See Example below</font></td>
<td valign="top" width="89"><font size="2">json</font></td>
</tr>
</tbody>
</table>
<p><strong>Usage Examples</strong></p>
<pre class="csharpcode">$find(<span class="str">"asBehavior"</span>).get_currentPageIndex();<br />$find(<span class="str">"asBehavior"</span>).set_currentPageIndex(2);</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode"><span class="rem">//Retrieve the Table 'Categories' from the 'NorthWind' Database</span>
$find(<span class="str">"asBehavior"</span>).set_dbURI(<span class="str">"http://astoria.sandbox.live.com/northwind/northwind.rse"</span>);
$find(<span class="str">"asBehavior"</span>).set_query(<span class="str">"/Categories"</span>);</pre>
<pre class="csharpcode">$find(<span class="str">"asBehavior"</span>).set_dataFormat(<span class="str">"json"</span>);
$find(<span class="str">"asBehavior"</span>).set_pageSize(10);
</pre>
<pre class="csharpcode"><strong><font face="Trebuchet MS">Methods Supported by the Extender</font></strong></pre>
<table cellspacing="0" cellpadding="2" width="814" border="0">
<tbody>
<tr>
<td valign="top" width="117"><strong><font size="2">Method Name</font></strong></td>
<td valign="top" width="518"><strong><font size="2">Description</font></strong></td>
<td valign="top" width="174"><strong><font size="2">Usage</font></strong></td>
</tr>
<tr>
<td valign="top" width="119"><font size="2">DataBind</font></td>
<td valign="top" width="518"><font size="2">Does what it says : it Downloads the data based on the parameters already specified</font></td>
<td valign="top" width="174"><font size="2">See Example Below</font></td>
</tr>
</tbody>
</table>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p><strong>Usage&nbsp; Examples</strong></p>
<blockquote>
<p><strong>Bind the data to the client :</strong></p>
<pre class="csharpcode">$find(<span class="str">"asBehavior"</span>).DataBind()</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p><strong>Move to a Specific page of data :</strong></p>
<pre class="csharpcode"><span class="rem">//Move to the 3rd page</span>
$find(<span class="str">"asBehavior"</span>).set_currentPageIndex( 2 );
$find(<span class="str">"asBehavior"</span>).DataBind();</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p><strong>Move to the Next page</strong></p>
<pre class="csharpcode">$find(<span class="str">"asBehavior"</span>).set_currentPageIndex( <br />               $find(<span class="str">"asBehavior"</span>).get_currentPageIndex() + 1  <br />               );
$find(<span class="str">"asBehavior"</span>).DataBind();</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p><strong>Move to the Previous page</strong></p>
<pre class="csharpcode">$find(<span class="str">"asBehavior"</span>).set_currentPageIndex( <br />                   $find(<span class="str">"asBehavior"</span>).get_currentPageIndex() - 1  <br />                    );
$find(<span class="str">"asBehavior"</span>).DataBind();<style type="text/css">.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style></pre>
</blockquote>
<blockquote></blockquote>
<pre class="csharpcode"><strong><font size="3">Markup Way of doing the above </font></strong></pre>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">Raj:AstoriaDSExtender</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">ID</span><span class="kwrd">="asbehaviorPnl"</span>
<span class="attr">BehaviorID</span><span class="kwrd">="asBehavior"</span>
<span class="attr">TargetControlID</span><span class="kwrd">="btnAstoria"</span>
<span class="attr">DatabaseURI</span><span class="kwrd">="http://astoria.sandbox.live.com/northwind/northwind.rse"</span>
<span class="attr">DataFormat</span><span class="kwrd">="json"</span> <span class="attr">StartPageIndex</span><span class="kwrd">="0"</span> <span class="attr">PageSize</span><span class="kwrd">="1"</span>
<span class="attr">Query</span><span class="kwrd">="/Categories"</span> <span class="attr">ExpandRecord</span><span class="kwrd">="Products"</span>
<span class="attr">OnClientDataDownloadError</span><span class="kwrd">="dwError"</span>
<span class="attr">OnClientDataReady</span><span class="kwrd">="endDownload"</span>
<span class="attr">ErrorPanelId</span><span class="kwrd">="divContainsErrorInfo"</span> <span class="kwrd">/&gt;</span></pre>
<pre class="csharpcode"><strong><font size="3">Setting up your project to use the Astoria Extender</font><br /></strong><strong>Web.Config :<br /></strong><font face="Tre">1. Register the Handler for the Extender<br /></font><font face="Tre">Add the Below line to the &lt;httpHandlers&gt; Section of your web.config.<br /></font><span class="kwrd">&lt;</span><span class="html">add</span> <span class="attr">path</span><span class="kwrd">="*.astoria"</span> <span class="attr">verb</span><span class="kwrd">="*"</span> <span class="attr">type</span><span class="kwrd">="AstoriaExtenders.AstoriaHandler"</span><span class="kwrd">/&gt;</span></pre>
<pre class="csharpcode">2. The Tag Prefix for the Extenders<br />Add this line to the &lt;controls&gt; Section of the &lt;Pages&gt; Section in web.config<br /><span class="kwrd">&lt;</span><span class="html">add</span> <span class="attr">tagPrefix</span><span class="kwrd">="Raj"</span> <span class="attr">namespace</span><span class="kwrd">="AstoriaExtenders"</span> <span class="attr">assembly</span><span class="kwrd">="AstoriaExtenders"</span><span class="kwrd">/&gt;</span></pre>
<pre class="csharpcode">3. Set up the proxy so that the Web Server can talk to the Astoria Servers.<br /><span class="kwrd">&lt;</span><span class="html">system.net</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">defaultProxy</span><span class="kwrd">&gt;</span>
      <span class="kwrd">&lt;</span><span class="html">proxy</span> <span class="attr">usesystemdefault</span><span class="kwrd">="False"</span> <span class="attr">proxyaddress</span><span class="kwrd">=<a href="http://proxyServerName">http://proxyServerName</a></span> <span class="attr">bypassonlocal</span><span class="kwrd">="True"</span><span class="kwrd">/&gt;</span>
    <span class="kwrd">&lt;/</span><span class="html">defaultProxy</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">system.net</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>

      </div>

      <a href="/astoria-datasource-extender/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/msdn-style-choose-a-language-extender/">MSDN Style Choose a Language Extender</a></h1>

      <div class="entry">
        <p><strong>Download Sample and Source Code : </strong></p>
<ul>
<li>Sample Application : <iframe style="border-right: #dde5e9 1px solid; padding-right: 0px; border-top: #dde5e9 1px solid; padding-left: 0px; padding-bottom: 0px; margin: 3px; border-left: #dde5e9 1px solid; width: 240px; padding-top: 0px; border-bottom: #dde5e9 1px solid; height: 26px; background-color: #ffffff" marginwidth="0" marginheight="0" src="http://cid-925c2d2bb2d03c6b.skydrive.live.com/embedrow.aspx/Public/RajExtenderSample.zip" frameborder="0" scrolling="no"></iframe> </li>
<li>Source Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : <iframe style="border-right: #dde5e9 1px solid; padding-right: 0px; border-top: #dde5e9 1px solid; padding-left: 0px; padding-bottom: 0px; margin: 3px; border-left: #dde5e9 1px solid; width: 240px; padding-top: 0px; border-bottom: #dde5e9 1px solid; height: 26px; background-color: #ffffff" marginwidth="0" marginheight="0" src="http://cid-925c2d2bb2d03c6b.skydrive.live.com/embedrow.aspx/Public/SampleExtenders.zip" frameborder="0" scrolling="no"></iframe></li>
</ul>
<p>Quite recently , someone asked me if there was a control that mimicked MSDN's "Choose a Language" Button.</p>
<p>It looks like this:</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/MSDNStyle_4877/MSDN_LanguagePick_2.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/MSDNStyle_4877/MSDN_LanguagePick_2.jpg"><img style="border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="217" alt="MSDN_LanguagePick" src="/assets/MSDN_LanguagePick_thumb.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/MSDNStyle_4877/MSDN_LanguagePick_thumb.jpg" width="460" border="0" /></a> </p>
<p>&nbsp;</p>
<p>I would have explained that one could&nbsp; achieve this using a combination of the DropDownExtender and some hacky javascript to prevent the popup from closing when one clicks on the options in the CheckBoxList.</p>
<p>But , this sounded to be a stupid way to solve the problem .And also , I was teaching a couple of guys how to write Ajax Control Extenders.<br />Since this looked like a good example to illustrate and also a pretty fun problem to solve , I went ahead and wrote a control Extender that does exactly this .</p>
<p>So , the behavior would be :</p>
<p>a) We have a CheckBoxList inside a block Element such as a asp:Panel , which is initially hidden<br />b) We have a button upon clicking on which the chechboxList is shown.<br />c) User can select multiple elements from the CheckBoxList.<br />&nbsp;&nbsp; c.1) If One option is selected, the " Language Filter : " value would show the Option<br />&nbsp;&nbsp; c.2) If more than one option is selected,&nbsp; it would show "Multiple Options"</p>
<p>So , my extender looks like this .</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/MSDNStyle_4877/MyExtender-2_2.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/MSDNStyle_4877/MyExtender-2_2.jpg"><img style="border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="147" alt="MyExtender-2" src="/assets/MyExtender-2_thumb.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/MSDNStyle_4877/MyExtender-2_thumb.jpg" width="466" border="0" /></a> </p>
<p>Looks very much like the MSDN widget , doesn't it ?<br />So , how would one go about writing this extender ?</p>
<p>The design would be dependent on the Behavior that you want to achieve.</p>
<p><strong>a) Are there any existing behaviors that you want to create that already exist ?<br /></strong>&nbsp; You would want the Options to POPUP , so we need the PopupExtender.</p>
<p><strong>b) What kind of Properties would the Extender exhibit ?</strong></p>
<table cellspacing="0" cellpadding="2" width="805" border="0">
<tbody>
<tr>
<td valign="top" width="201"><strong>Property Name</strong></td>
<td valign="top" width="602"><strong>Description</strong></td>
</tr>
<tr>
<td valign="top" width="203">TargetPanelID<strong> </strong></td>
<td valign="top" width="602">The Id of the asp:Panel that would contain the checkBoxList</td>
</tr>
<tr>
<td valign="top" width="204">PopupPosition<strong> </strong></td>
<td valign="top" width="602">The Position relative to the TargetControl where the Options would popup</td>
</tr>
<tr>
<td valign="top" width="205">FilterText<strong> </strong></td>
<td valign="top" width="602">&nbsp;</td>
</tr>
</tbody>
</table>
<p><strong>c) What kind of Events would the Extender raise ?</strong></p>
<table cellspacing="0" cellpadding="2" width="805" border="0">
<tbody>
<tr>
<td valign="top" width="142"><strong>Event Name</strong></td>
<td valign="top" width="363"><strong>Description</strong></td>
<td valign="top" width="298"><strong>EventArgs</strong></td>
</tr>
<tr>
<td valign="top" width="144">itemSelected</td>
<td valign="top" width="362">Raised when an item in the CheckBoxList is Selected</td>
<td valign="top" width="298">The Checkbox , the text of the Checkbox , <br />a value indicating if the checkbox is checked.</td>
</tr>
<tr>
<td valign="top" width="146">&nbsp;</td>
<td valign="top" width="361">&nbsp;</td>
<td valign="top" width="298">&nbsp;</td>
</tr>
</tbody>
</table>
<p>So , my design/spec is now ready .</p>
<p>I follow these steps to setup the initial infrastructure for my Extender : <a href="http://www.asp.net/AJAX/AjaxControlToolkit/Samples/Walkthrough/CreatingNewExtender.aspx" target="_blank">Creating a new extender</a><br />Being Thoroughly incompetent at finding the right name , I use the term "OptionPickerBehavior" to describe my extender and get 3 files ,</p>
<ol>
<li>OptionPickerBehavior.js  </li>
<li>OptionPickerBehaviorDesigner.cs  </li>
<li>OptionPickerBehaviorExtender.cs</li>
</ol>
<p><strong></strong>&nbsp;</p>
<p><strong>In the OptionPickerBehaviorExtender.cs <br /></strong>Since we decided that I need the PopupExtender , I will need to add that as the RequiredScript for my extender.</p>
<pre class="csharpcode">[RequiredScript(<span class="kwrd">typeof</span>(PopupExtender))]</pre>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode"><strong>Defining the Properties <br /></strong>We add the Necessary Properties </pre>
<pre class="csharpcode">        [RequiredProperty]
        [ExtenderControlProperty]
        [ClientPropertyName(<span class="str">"targetPanelID"</span>)]
        [IDReferenceProperty(<span class="kwrd">typeof</span>(Panel))]
        <span class="kwrd">public</span> <span class="kwrd">string</span> TargetPanelID
        {
            get { <span class="kwrd">return</span> GetPropertyValue(<span class="str">"targetPanelID"</span>, <span class="str">""</span>); }
            set { SetPropertyValue(<span class="str">"targetPanelID"</span>, <span class="kwrd">value</span>); }
        }
</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode">We also define the other properties , PopupPosition<strong> </strong> and FilterText<strong> </strong> similarly .</pre>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode"><strong>Defining the Event </strong></pre>
<pre class="csharpcode">        [ExtenderControlEvent]
        [ClientPropertyName(<span class="str">"itemSelected"</span>)]
        <span class="kwrd">public</span> <span class="kwrd">string</span> OnClientItemSelected
        {
            get { <span class="kwrd">return</span> GetPropertyValue(<span class="str">"itemSelected"</span>, <span class="str">""</span>); }
            set { SetPropertyValue(<span class="str">"itemSelected"</span>, <span class="kwrd">value</span>); }
        } </pre>
<pre class="csharpcode"><strong><font size="3">In the OptionPickerBehavior.js</font></strong></pre>
<p>The behavior of the control is defined in the accompanying OptionPickerBehavior.js file. <br />Now , here is where the real meat of the control lies , since its too tedious to describe the whole thing in One Blog Post , <br />I have put up the control Extender and a Sample application for download , its available for you guys to download and try out . <br />I will blog about how we use JavaScript to Achieve the UI effect that you see.
<pre class="csharpcode" /><font size="4"><strong>How do I use this control ?</strong></font>
<p>a) Reference the SampleExtenders Dll in your web project . <br />b) Add a tagMapping in your web.config for the SampleExtenders Controls .<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">pages</span><span class="kwrd">&gt;</span>
   <span class="kwrd">&lt;</span><span class="html">controls</span><span class="kwrd">&gt;</span>
      <span class="kwrd">&lt;</span><span class="html">add</span> <span class="attr">tagPrefix</span> <span class="kwrd">="Raj"</span> <span class="attr">namespace</span><span class="kwrd">="SampleExtenders"</span> <span class="attr">assembly</span><span class="kwrd">="SampleExtenders"</span><span class="kwrd">/&gt;</span>
    <span class="kwrd">&lt;/</span><span class="html">controls</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">pages</span><span class="kwrd">&gt;</span></pre>
<p>c) Add an ImageButton to act as the Trigger Control .
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">asp:ImageButton</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">ID</span><span class="kwrd">="btnToggleOptions"</span> <span class="attr">ImageUrl</span><span class="kwrd">="~/images/Arrow-off.gif"</span> <span class="kwrd">/&gt;</span></pre>
<p>d) The TargetPanel which contains the CheckBoxList.
<pre class="csharpcode"><span class="rem">&lt;!-- Target Panel Begins--&gt;</span>
<span class="kwrd">&lt;</span><span class="html">asp:Panel</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">ID</span><span class="kwrd">="OptionsList"</span> <span class="attr">Style</span><span class="kwrd">="display: none; width: 150px"</span> <span class="attr">CssClass</span><span class="kwrd">="grey"</span><span class="kwrd">&gt;</span>
              <span class="kwrd">&lt;</span><span class="html">asp:CheckBoxList</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">ID</span><span class="kwrd">="chklOptions"</span><span class="kwrd">&gt;</span>
                         <span class="kwrd">&lt;</span><span class="html">asp:ListItem</span> <span class="attr">Text</span><span class="kwrd">="Visual Basic"</span> <span class="attr">Value</span><span class="kwrd">="Visual Basic"</span><span class="kwrd">&gt;&lt;/</span><span class="html">asp:ListItem</span><span class="kwrd">&gt;</span>
                         <span class="kwrd">&lt;</span><span class="html">asp:ListItem</span> <span class="attr">Text</span><span class="kwrd">="C#"</span> <span class="attr">Value</span><span class="kwrd">="CSharp"</span><span class="kwrd">&gt;&lt;/</span><span class="html">asp:ListItem</span><span class="kwrd">&gt;</span>
                         <span class="kwrd">&lt;</span><span class="html">asp:ListItem</span> <span class="attr">Text</span><span class="kwrd">="C++"</span> <span class="attr">Value</span><span class="kwrd">="Visual Basic"</span><span class="kwrd">&gt;&lt;/</span><span class="html">asp:ListItem</span><span class="kwrd">&gt;</span>
                         <span class="kwrd">&lt;</span><span class="html">asp:ListItem</span> <span class="attr">Text</span><span class="kwrd">="J#"</span> <span class="attr">Value</span><span class="kwrd">="Visual Basic"</span><span class="kwrd">&gt;&lt;/</span><span class="html">asp:ListItem</span><span class="kwrd">&gt;</span>
                         <span class="kwrd">&lt;</span><span class="html">asp:ListItem</span> <span class="attr">Text</span><span class="kwrd">="JScript"</span> <span class="attr">Value</span><span class="kwrd">="Visual Basic"</span><span class="kwrd">&gt;&lt;/</span><span class="html">asp:ListItem</span><span class="kwrd">&gt;</span>
                         <span class="kwrd">&lt;</span><span class="html">asp:ListItem</span> <span class="attr">Text</span><span class="kwrd">="XAML"</span> <span class="attr">Value</span><span class="kwrd">="Visual Basic"</span><span class="kwrd">&gt;&lt;/</span><span class="html">asp:ListItem</span><span class="kwrd">&gt;</span>
              <span class="kwrd">&lt;/</span><span class="html">asp:CheckBoxList</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">asp:Panel</span><span class="kwrd">&gt;</span>
<span class="rem">&lt;!-- Target Panel Ends--&gt;</span></pre>
<p>e) Markup for the OptionPickerExtender
<pre class="csharpcode"> <span class="kwrd">&lt;</span><span class="html">Raj:OptionPickerBehavior</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">ID</span><span class="kwrd">="optionList"</span>
            <span class="attr">TargetControlID</span><span class="kwrd">="btnToggleOptions"</span>
            <span class="attr">TargetPanelID</span><span class="kwrd">="OptionsList"</span>
            <span class="attr">FilterText</span><span class="kwrd">="Select Languages"</span>
            <span class="attr">PopupPosition</span><span class="kwrd">="BottomRight"</span>
            <span class="attr">OnClientItemSelected</span><span class="kwrd">="itemSelected"</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">Raj:OptionPickerBehavior</span><span class="kwrd">&gt;</span></pre>
<p>&nbsp;</p>
<pre /><font face="Trebuchet MS" size="2">f) The itemSelected function is wired up to handle the click on the CheckBoxes in the CheckBoxList.<br /></font><font face="Trebuchet MS" size="2">g) Thats it !! you are done !!</font><pre /><font face="Trebuchet MS" size="2">Happy Coding .</font><pre><strong /></pre>
<p><font face="Trebuchet MS" size="2">In case you have any questions , feel free to leave a comment on this post</font></p></p></p>

      </div>

      <a href="/msdn-style-choose-a-language-extender/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/patch-makers-featured/">Patch Makers Featured..</a></h1>

      <div class="entry">
        <p>Pretty Sweet !</p>
<p>All the Community members who contributed to the new toolkit Release got featured on <a href="http://blogs.technet.com/kirtid/" target="_blank">Kirti Deshpande's blog</a> .</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/CommunityContributionsintheNewtoolkitRel_24CD/HallOfFame_2.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/CommunityContributionsintheNewtoolkitRel_24CD/HallOfFame_2.jpg"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="344" alt="HallOfFame" src="/assets/HallOfFame_thumb.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/CommunityContributionsintheNewtoolkitRel_24CD/HallOfFame_thumb.jpg" width="579" border="0" /></a> </p>
<p>This sort of thing makes it doubly nice to work on patches for the toolkit .</p>
<p><a href="http://blogs.technet.com/kirtid/archive/2007/09/24/community-contributions-in-toolkit-release-10920.aspx">Community Contributions in Toolkit release 10920</a></p>
<p>&nbsp;</p>
<p>The patch I worked on is adding the Key-Value Pair Capability to the AutoCompleteExtender.</p>
<p>Read about how to use this here :</p>
<p><a href="http://blogs.msdn.com/phaniraj/archive/2007/06/19/how-to-use-a-key-value-pair-in-your-autocompleteextender.aspx" target="_blank">How to : Use a Key Value Pair in your AutoCompleteExtender</a></p>

      </div>

      <a href="/patch-makers-featured/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/happy-birthday-to-me/">Happy Birthday to Me !!!</a></h1>

      <div class="entry">
        <p>Hello all ,</p>
<p>Today I grow a year older ,&nbsp; I am now all of 26 !!! </p>
<p>As return gifts&nbsp; to everyone, I am giving out a demo application that encompasses most of my knowledge about the AjaxControlToolkit Animation Extender. </p>
<p>Here is a list of the Animations that are demo'd .</p>
<p><strong>Basic Animations </strong></p>
<ul>
<li> Fade </li>
<li> ReSize </li>
<li> Length </li>
<li> Color </li>
<li> Pulse </li>
<li> Discrete </li>
<li> Scale </li>
<li> Move </li>
<li> Case </li>
<li> Condition </li>
<li> Sequence </li>
<li> Parallel </li>
</ul>
<p><strong>Actions </strong>
<ul>
<li> Enable Action </li>
<li> Script Action </li>
<li> Hide Action </li>
<li> Opacity Action </li>
<li> Style Action </li>
</ul>
<p><strong>Advanced </strong>
<ul>
<li> Scripting Animations</li>
<li> Client-Side DataBinding </li>
<li> Experiment #1 </li>
<li> Experiment #2 ( Plot a Path and Follow it )</li>
<li> Reuse AnimationExtender </li>
</ul>
<p><strong>Triggers</strong>
<ul>
<li> OnLoad </li>
<li> OnHoverOver/Out </li>
</ul>
<p>&nbsp;</p>
<p><strong>Some Screenshots</strong></p>
<p><u>The Main Menu </u></p>
<p><strong><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/HappyBirthdaytoMe_1251E/MainMenu_2.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/HappyBirthdaytoMe_1251E/MainMenu_2.jpg"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="196" alt="MainMenu" src="/assets/MainMenu_thumb.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/HappyBirthdaytoMe_1251E/MainMenu_thumb.jpg" width="244" border="0" /></a> </strong></p>
<p><strong></strong>&nbsp;</p>
<p><strong>In each demo of each animation type , you get :</strong></p>
<ol>
<li>&nbsp; a Demo of the animation</li>
</ol>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/HappyBirthdaytoMe_1251E/Demo_2.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/HappyBirthdaytoMe_1251E/Demo_2.jpg"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="196" alt="Demo" src="/assets/Demo_thumb.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/HappyBirthdaytoMe_1251E/Demo_thumb.jpg" width="244" border="0" /></a> </p>
<p> 2.&nbsp; The Source Code for implementing the animation</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/HappyBirthdaytoMe_1251E/Code_2.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/HappyBirthdaytoMe_1251E/Code_2.jpg"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="196" alt="Code" src="/assets/Code_thumb.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/HappyBirthdaytoMe_1251E/Code_thumb.jpg" width="244" border="0" /></a> </p>
<p>3.&nbsp; Reference towards further explanation of the animation type</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/HappyBirthdaytoMe_1251E/Reference_2.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/HappyBirthdaytoMe_1251E/Reference_2.jpg"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="196" alt="Reference" src="/assets/Reference_thumb.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/HappyBirthdaytoMe_1251E/Reference_thumb.jpg" width="244" border="0" /></a> </p>
<p><strong>How do I download this ?</strong></p>
<p> Click here : <iframe style="border-right: #dde5e9 1px solid; padding-right: 0px; border-top: #dde5e9 1px solid; padding-left: 0px; padding-bottom: 0px; margin: 3px; border-left: #dde5e9 1px solid; width: 240px; padding-top: 0px; border-bottom: #dde5e9 1px solid; height: 26px; background-color: #ffffff" marginwidth="0" marginheight="0" src="http://cid-925c2d2bb2d03c6b.skydrive.live.com/embedrow.aspx/Public/All%20animations%20Demos.zip" frameborder="0" scrolling="no"></iframe></p>
<p><strong>What do I need&nbsp; to be pre-installed ?</strong></p>
<p> The ASP.NET Ajax Extensions</p>
<p> IIS Web Server</p>
<p><strong>How do I set this up ?</strong></p>
<p>Follow the steps mentioned here : <a href="http://support.microsoft.com/kb/172138/en-us" target="_blank">Instructions to Setup a Virtual Directory in IIS</a> </p>
<p><strong>Which browser does this work in ?</strong></p>
<p><strong>&nbsp;</strong>The animations themselves work in all browsers that are officially supported.</p>
<p> For the Tabs look that&nbsp; is present on each page is my own implementation using JavaScript that works only in IE ( I use DIVS&nbsp; :-) ).</p>
<p>In case you see that you cant navigate in between the tabs on the demo pages , fire up visual Studio 2005 and you should be able to see </p>
<p>the source code right there.</p>
<p><strong>So , Download it and go crazy !!! </strong></p></p></p>

      </div>

      <a href="/happy-birthday-to-me/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/expand-accordion-panes-on-mouse-over-header/">Expand Accordion Panes On Mouse Over Header</a></h1>

      <div class="entry">
        <p>This is a common requirement I see&nbsp; among users of the accordion , </p>
<p>How do I Open Accordion Panes OnMouseOver of&nbsp; the header and Not on header Click ?</p>
<p>The answer is pretty simple .</p>
<p>Lets walk through this :</p>
<p>a) Setup your Accordion </p>
<pre class="csharpcode"> <span class="kwrd">&lt;</span><span class="html">ajaxToolkit:Accordion</span> <span class="attr">ID</span><span class="kwrd">="Accordion1"</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">ContentCssClass</span><span class="kwrd">="grey"</span>
            <span class="attr">FadeTransitions</span><span class="kwrd">="false"</span>  <span class="attr">FramesPerSecond</span><span class="kwrd">="25"</span> <span class="attr">TransitionDuration</span><span class="kwrd">="250"</span>  </pre>
<pre class="csharpcode">            <span class="attr">HeaderCssClass</span><span class="kwrd">="dimgreen"</span> <span class="attr">EnableViewState</span><span class="kwrd">="true"</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">Panes</span><span class="kwrd">&gt;</span>
               ::::
            <span class="kwrd">&lt;/</span><span class="html">Panes</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">ajaxToolkit:Accordion</span><span class="kwrd">&gt;</span></pre>
<pre class="csharpcode"><span class="kwrd">b) Each of the accordion header Pane will have a &lt;SPAN&gt; tag setup for the header.</span></pre>
<pre class="csharpcode"><span class="kwrd">    On MouseOver of the Span Tag , we will open the Accordion Pane .</span></pre>
<pre class="csharpcode"><span class="kwrd"></span>&nbsp;</pre>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">ajaxToolkit:AccordionPane</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">ID</span><span class="kwrd">="PaneOne"</span><span class="kwrd">&gt;</span>
          <span class="kwrd">&lt;</span><span class="html">Header</span><span class="kwrd">&gt;</span>
<font size="4">               <span class="kwrd">&lt;</span><span class="html">span</span> <span class="attr">onmouseover</span><span class="kwrd">="Openpane('0',event)"</span><span class="kwrd">&gt;</span>Accordion<span class="kwrd">&lt;/</span><span class="html">span</span><span class="kwrd">&gt;</span>
</font>           <span class="kwrd">&lt;/</span><span class="html">Header</span><span class="kwrd">&gt;</span>
           <span class="kwrd">&lt;</span><span class="html">Content</span><span class="kwrd">&gt;</span>
               <span class="kwrd">&lt;</span><span class="html">br</span> <span class="kwrd">/&gt;</span>
               <span class="kwrd">&lt;</span><span class="html">br</span> <span class="kwrd">/&gt;</span>
               Expand Accordion Panes on Mouse Over :: Pane 1
               <span class="kwrd">&lt;</span><span class="html">br</span> <span class="kwrd">/&gt;</span>
               <span class="kwrd">&lt;</span><span class="html">br</span> <span class="kwrd">/&gt;</span>
           <span class="kwrd">&lt;/</span><span class="html">Content</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">ajaxToolkit:AccordionPane</span><span class="kwrd">&gt;</span></pre>
<p><style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style></p>
<p>The Span's onmouseover event is handled by the Openpane Function.</p>
<p>c) The javaScript Function Openpane .</p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">script</span> <span class="attr">language</span><span class="kwrd">="javascript"</span> <span class="attr">type</span><span class="kwrd">="text/javascript"</span><span class="kwrd">&gt;</span>

<span class="kwrd">function</span> Openpane(paneIndex,eventElement) {
    <span class="kwrd">var</span> behavior = $get(<span class="str">"Accordion1"</span>).AccordionBehavior;
    behavior.set_SelectedIndex(paneIndex);
}

<span class="kwrd">&lt;/</span><span class="html">script</span><span class="kwrd">&gt;</span></pre>
<p><strong>Download Complete Example : </strong></p>
<p><iframe style="border-right: #dde5e9 1px solid; padding-right: 0px; border-top: #dde5e9 1px solid; padding-left: 0px; padding-bottom: 0px; margin: 3px; border-left: #dde5e9 1px solid; width: 240px; padding-top: 0px; border-bottom: #dde5e9 1px solid; height: 26px; background-color: #ffffff" marginwidth="0" marginheight="0" src="http://cid-925c2d2bb2d03c6b.skydrive.live.com/embedrow.aspx/Public/Accordion_OnHover.aspx.zip" frameborder="0" scrolling="no"></iframe></p>
<p><style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style></p>

      </div>

      <a href="/expand-accordion-panes-on-mouse-over-header/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/how-do-i-learn-more-about-the-ajaxcontroltoolkit-controls/">How Do I learn more about the AjaxControlToolkit Controls ?</a></h1>

      <div class="entry">
        <p>Use Debuggers to see Object State and associated methods : </p>
<p>Use the WebDevhelper from Nikhil Kothari which provides you with debug API to inspect Object State. </p>
<p>The methods available when you install the WebDevHelper are :</p>
<p><strong><u>window.debugService.trace <br /></u></strong>You&nbsp; can use this api to write messages onto the Script Trace Console.</p>
<p>Ex :</p>
<pre class="csharpcode"><span class="kwrd">if</span>( window.debugService ) {
  window.debugService.trace(<span class="str">"I am a trace message from the DebugService"</span>) ;
}
</pre>
<pre class="csharpcode"><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/b79dc342c2c8_13573/window.debugService.trace.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/b79dc342c2c8_13573/window.debugService.trace.jpg"><img style="border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="442" alt="window.debugService.trace" src="/assets/window.debugService.trace_thumb.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/b79dc342c2c8_13573/window.debugService.trace_thumb.jpg" width="570" border="0" /></a>
</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p><strong><u>window.debugService.inspect<br /></u></strong>You can use this API to inspect the state of an Object at runtime .<br />Ex: </p>
<pre class="csharpcode"><span class="kwrd">if</span>( window.debugService ) {
window.debugService.inspect(<span class="str">"Auto Complete Extender"</span>,$find(<span class="str">"AutoCompleteEx"</span>));
}</pre>
<pre class="csharpcode"><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/b79dc342c2c8_13573/ObjectInspector.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/b79dc342c2c8_13573/ObjectInspector.jpg"><img style="border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="328" alt="ObjectInspector" src="/assets/ObjectInspector_thumb.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/b79dc342c2c8_13573/ObjectInspector_thumb.jpg" width="600" border="0" /></a> </pre>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode">How do I use these methods to help me work with the AjaxControlToolkit Controls?<br />Whenever you want to work on the AjaxControlToolkit controls , there are a couple of things that hinder you</pre>
<ol>
<li>
<pre class="csharpcode">You don't know which methods are available on an extender </pre>
</li>
<li>
<pre class="csharpcode">You don't know how to invoke those methods on the extender</pre>
</li>
</ol>
<pre class="csharpcode"><strong>1) You don't know which methods are available on the Extender :</strong></pre>
<pre class="csharpcode">a) Get a handle to the Behavior of the Extender using the <a href="http://www.asp.net/AJAX/Documentation/Live/ClientReference/Global/FindShortcutMethod.aspx" target="_blank">$find</a> Method.<br />ex : </pre>
<pre class="csharpcode"><span class="kwrd">var</span> autoCompleteBehavior = $find(<span class="str">"AutoCompleteEx"</span>);</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<blockquote><pre class="csharpcode"> b) Use an Object Explorer to view the methods exposed by it :<br />  <strong>In Web Dev Helper's Script Console  :<br /></strong>      window.debugService.inspect(<span class="str">"AutoComplete Extender"</span>,autoCompleteBehavior);</pre>
</blockquote>
<pre class="csharpcode"><strong>       Using the ASP.NET AJAX API  :<br /></strong>          <a href="http://asp.net/AJAX/Documentation/Live/ClientReference/Sys/DebugClass/DebugTraceDumpProperty.aspx"><font face="Consolas" size="2">Sys.Debug.traceDump</font></a><a href="http://asp.net/AJAX/Documentation/Live/ClientReference/Sys/DebugClass/DebugTraceDumpProperty.aspx"><font face="Consolas" size="2">(object, name)</font></a><font face="Consolas" size="2"> <br />          Dumps an object to the debugger console and to the TraceConsoletextarea element, if available.</font></pre>
<pre class="csharpcode"><strong>        </strong>  <font face="Consolas" size="2">Sys.Debug.traceDump</font><font face="Consolas" size="2">(<span class="str">"AutoComplete Extender"</span>,autoCompleteBehavior);</font></pre>
<pre class="csharpcode"><strong> 2) You don't know how to invoke those methods on the extender</strong></pre>
<pre class="csharpcode">   In general , you can have a general rule about how to invoke these methods :<br />      The general syntax would be :</pre>
<pre class="csharpcode">    &lt;ExtenderBehaviorHandle&gt;.&lt;MethodName&gt;([Params])<br />     ex : <br />     autoCompleteBehavior.set_firstRowSelected(<span class="kwrd">true</span>)</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode">And finally :</pre>
<pre class="csharpcode">The best way to know which methods are exposed and what are the parameters exposed by the extender <br />is to <u><strong>Read the Source Code</strong> .</u></pre>
<pre class="csharpcode">Download the Latest Release Source Code from <a href="http://www.codeplex.com/AtlasControlToolkit/Release/ProjectReleases.aspx" target="_blank">Here</a><br /></pre>
<pre class="csharpcode">Hope this helps.<br />If you have a question about a specific Extender , feel free to drop a comment or contact me .<strong></strong></pre>

      </div>

      <a href="/how-do-i-learn-more-about-the-ajaxcontroltoolkit-controls/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/how-to-re-use-animation-extenders-in-a-page/">How to : Re-use Animation Extenders in a page</a></h1>

      <div class="entry">
        <p><a href="http://cid-925c2d2bb2d03c6b.skydrive.live.com/self.aspx/Public/ReuseAnimations.zip" target="_blank">Download Sample Code :</a>&nbsp;</p>
<p>while working with the AnimationExtender on an ASPX Page ,One would run into a scenario wherein you would need to associate the same animation with multiple&nbsp; Elements on the page.</p>
<p>Some Examples are :</p>
<ol>
<li>Associate an Animation&nbsp; with the rows of a GridView.  </li>
<li>Associate an Animation with probably multiple panels on the same page.</li>
</ol>
<p>Today , we will discuss how to re-use a&nbsp; single AnimationExtender in&nbsp; a few possible Scenarios.</p>
<ul>
<li><a href="http://blogs.msdn.com/phaniraj/archive/2007/08/15/how-to-re-use-animation-extenders-in-a-page.aspx#SameAnimationDifferentControls">Trigger the same Animation From Different Controls</a>  </li>
<li><a href="http://blogs.msdn.com/phaniraj/archive/2007/08/15/how-to-re-use-animation-extenders-in-a-page.aspx#modifyAnimationTarget">Modify the AnimationTarget on which you want the animation to run </a> </li>
<li><a href="http://blogs.msdn.com/phaniraj/archive/2007/08/15/how-to-re-use-animation-extenders-in-a-page.aspx#CombinationAB">Multiple TargetControlIDs and Multiple AnimationTargets</a></li>
</ul>
<p>&nbsp;</p>
<p>&nbsp;<strong><a name="SameAnimationDifferentControls">a) Trigger the same Animation From Different Controls</a></strong></p>
<p>This section will address the scenario wherein you would have an animation which is defined to animate a specific element.</p>
<p>And you would want different Elements on the Page to trigger the same animation on the element.</p>
<p>Here , we would be simulating a scenario wherein one would probably want to assign <u><strong>Multiple TargetControlIDs </strong></u>to an animation.</p>
<p>The TargetControlID Specifies the control that Kicks-off the animation.</p>
<p>If an AnimationTarget is not Specified , then it is the control which will be animated.</p>
<p>We will have the Following Elements :</p>
<p>a) A button to trigger the animation : </p>
<pre class="csharpcode"> <span class="rem">&lt;!-- The Trigger Button One--&gt;</span>
<span class="kwrd">&lt;</span><span class="html">asp:Button</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">ID</span><span class="kwrd">="btnAnimateTriggerOne"</span> <span class="attr">Text</span><span class="kwrd">="Trigger One"</span> <span class="attr">OnClientClick</span><span class="kwrd">="return false;"</span> <span class="kwrd">/&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode"><span class="kwrd">b) A Div/ASP:Panel which will be animated onClick of the Button </span></pre>
<pre class="csharpcode"> <span class="rem">&lt;!-- The Panel which will be animated--&gt;</span>
<span class="kwrd">&lt;</span><span class="html">asp:Panel</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">ID</span><span class="kwrd">="pnlAnimated"</span> <span class="attr">Style</span><span class="kwrd">="position: absolute; top: 100px;
            left: 50px; height: 200px; width: 150px; background-color: #99ccff;"</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">asp:Panel</span><span class="kwrd">&gt;</span></pre>
<pre class="csharpcode"><span class="kwrd">The Animation Markup will be as shown below :</span></pre>
<pre class="csharpcode"><span class="kwrd"></span><span class="rem">&lt;!-- The Markup for the animation Extender--&gt;</span>
<span class="kwrd">&lt;</span><span class="html">ajaxToolKit:AnimationExtender</span> <span class="attr">BehaviorID</span> <span class="kwrd">="animateMe"</span> <span class="attr">ID</span><span class="kwrd">="AnimationExtender1"</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">TargetControlID</span><span class="kwrd">="btnAnimateTriggerOne"</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">Animations</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;</span><span class="html">OnClick</span><span class="kwrd">&gt;</span>
                    <span class="kwrd">&lt;</span><span class="html">Sequence</span><span class="kwrd">&gt;</span>
                        <span class="kwrd">&lt;</span><span class="html">ReSize</span> <span class="attr">AnimationTarget</span><span class="kwrd">="pnlAnimated"</span> <span class="attr">height</span><span class="kwrd">="400"</span> <span class="attr">width</span><span class="kwrd">="400"</span> <span class="attr">duration</span> <span class="kwrd">="0.1"</span> <span class="attr">fps</span><span class="kwrd">="45"</span> <span class="attr">unit</span><span class="kwrd">="px"</span> <span class="kwrd">/&gt;</span>
                        <span class="kwrd">&lt;</span><span class="html">ReSize</span> <span class="attr">AnimationTarget</span><span class="kwrd">="pnlAnimated"</span> <span class="attr">height</span><span class="kwrd">="380"</span> <span class="attr">width</span><span class="kwrd">="380"</span> <span class="attr">duration</span> <span class="kwrd">="0.1"</span> <span class="attr">fps</span><span class="kwrd">="45"</span> <span class="attr">unit</span><span class="kwrd">="px"</span> <span class="kwrd">/&gt;</span>
                        <span class="kwrd">&lt;</span><span class="html">ReSize</span> <span class="attr">AnimationTarget</span><span class="kwrd">="pnlAnimated"</span> <span class="attr">height</span><span class="kwrd">="400"</span> <span class="attr">width</span><span class="kwrd">="400"</span> <span class="attr">duration</span> <span class="kwrd">="0.1"</span> <span class="attr">fps</span><span class="kwrd">="45"</span> <span class="attr">unit</span><span class="kwrd">="px"</span> <span class="kwrd">/&gt;</span>
                    <span class="kwrd">&lt;/</span><span class="html">Sequence</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;/</span><span class="html">OnClick</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;/</span><span class="html">Animations</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">ajaxToolKit:AnimationExtender</span><span class="kwrd">&gt;</span></pre>
<p>The Div pnlAnimated will resize to height and width 400 and</p>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p>back to 380 and then 400 again to provide an Easing effect .</p>
<p>Let's Say that&nbsp; you need to trigger the same animation by clicking on another button&nbsp; and you would want to do this without having to create a New AnimationExtender on the same page.</p>
<pre class="csharpcode"><span class="rem">&lt;!-- The Trigger Button two--&gt;</span>
<span class="kwrd">&lt;</span><span class="html">asp:Button</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">ID</span><span class="kwrd">="btnAnimateTriggerTwo"</span> <span class="attr">Text</span><span class="kwrd">="Trigger Two"</span> <span class="kwrd">/&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p>&nbsp;</p>
<p><strong>a.1) Client Side :</strong></p>
<blockquote>
<p><strong>Step 1</strong> : Assign a BehaviorID to the AnimationExtender if not already present.</p>
<pre class="csharpcode"><span class="attr">BehaviorID</span> <span class="kwrd">="animateMe"</span></pre>
<pre class="csharpcode"><span class="kwrd"><strong>Step 2</strong>: Assign an OnClientClick function to the btnAnimateTriggerTwo button .</span></pre>
<pre class="csharpcode"><span class="attr">OnClientClick</span><span class="kwrd">="ChangeAnimationTarget();return false;"</span></pre>
<pre class="csharpcode"><span class="kwrd"><strong>Step 3:</strong> The Function ChangeAnimationTarget() which will trigger the animation to be played.</span></pre>
<pre class="csharpcode">&lt;script language =<span class="str">"javascript"</span> type =<span class="str">"text/javascript"</span>&gt;
   <span class="kwrd">function</span> ChangeAnimationTarget() {
       $find(<span class="str">"animateMe"</span>).get_OnClickBehavior().play();
    }
 &lt;/script&gt;</pre>
<pre class="csharpcode">This will cause the animation already defined on the TargetControl of btnAnimateTriggerOne to be played onclick of the </pre>
<pre class="csharpcode">button btnAnimateTriggerTwo.</pre>
<pre class="csharpcode">In a similar way you can add any number of triggers to the same AnimationExtender.</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
</blockquote>
<pre class="csharpcode"><strong>a.2) Server Side :</strong></pre>
<blockquote>
<p>&nbsp;&nbsp;&nbsp;&nbsp; <strong>Step 1: </strong>Put the Above Controls inside the ContentTemplate of an UpdatePanel .</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; <strong>Step 2: </strong>On the Server-Side you can switch the TargetControl by running the following code.</p>
<pre class="csharpcode"><span class="kwrd">private</span> <span class="kwrd">void</span> ChangeAnimationTarget()
    {
        AnimationExtender1.TargetControlID = btnAnimateTriggerTwo.ID;
        btnAnimateTriggerTwo.OnClientClick = <span class="str">"return false;"</span>;
    }</pre>
<pre class="csharpcode">  <strong>Step 3: </strong>Now , the TargetControlId has changed and upon clicking on the button btnAnimateTriggerTwo, the animation will run.</pre>
<pre class="csharpcode">  In this case , you would have to switch the AnimationTarget BEFORE you want the animation to run.</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
</blockquote>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode"><strong>b)
<a name="modifyAnimationTarget">Modify the AnimationTarget on which you want the animation to run</a> </strong></pre>
<blockquote><pre class="csharpcode">let's consider a scenario in which you would want the same Animation to run on 2 or more different Elements.</pre>
<pre class="csharpcode">For the sake of simplicity , lets consider that you would want to run the above ResizeAnimation on </pre>
<pre class="csharpcode">another asp:Panel by the name of <strong>pnlAnimatedToo </strong> and you want to do this without having to create another AnimationExtender on the same page.</pre>
</blockquote>
<pre class="csharpcode"><strong>b.1) Client Side :</strong></pre>
<blockquote><pre class="csharpcode"><strong>Step 1 : </strong>You will have to change the markup of the AnimationExtender to look like this :</pre>
<pre class="csharpcode"> Change the AnimationTarget Attribute to be AnimationTargetScript ="getAnimationTarget();".</pre>
<pre class="csharpcode">This will cause the function getAnimationTarget() to be called whenever the AnimationExtender runs.</pre>
<pre class="csharpcode">and getAnimationTarget() will return the ID of the Control that should be animated.</pre>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">ajaxToolKit:AnimationExtender</span> <span class="attr">BehaviorID</span> <span class="kwrd">="animateMe"</span> <span class="attr">ID</span><span class="kwrd">="AnimationExtender1"</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">TargetControlID</span><span class="kwrd">="btnAnimateTriggerOne"</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">Animations</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;</span><span class="html">OnClick</span><span class="kwrd">&gt;</span>
                    <span class="kwrd">&lt;</span><span class="html">Sequence</span><span class="kwrd">&gt;</span>
                        <span class="kwrd">&lt;</span><span class="html">ReSize</span> <span class="attr">AnimationTargetScript</span><span class="kwrd">="getAnimationTarget();"</span> <span class="attr">height</span><span class="kwrd">="400"</span> <span class="attr">width</span><span class="kwrd">="400"</span> <span class="attr">duration</span> <span class="kwrd">="0.1"</span> <span class="attr">fps</span><span class="kwrd">="45"</span> <span class="attr">unit</span><span class="kwrd">="px"</span> <span class="kwrd">/&gt;</span>
                        <span class="kwrd">&lt;</span><span class="html">ReSize</span> <span class="attr">AnimationTargetScript</span><span class="kwrd">="getAnimationTarget();"</span> <span class="attr">height</span><span class="kwrd">="380"</span> <span class="attr">width</span><span class="kwrd">="380"</span> <span class="attr">duration</span> <span class="kwrd">="0.1"</span> <span class="attr">fps</span><span class="kwrd">="45"</span> <span class="attr">unit</span><span class="kwrd">="px"</span> <span class="kwrd">/&gt;</span>
                        <span class="kwrd">&lt;</span><span class="html">ReSize</span> <span class="attr">AnimationTargetScript</span><span class="kwrd">="getAnimationTarget();"</span> <span class="attr">height</span><span class="kwrd">="400"</span> <span class="attr">width</span><span class="kwrd">="400"</span> <span class="attr">duration</span> <span class="kwrd">="0.1"</span> <span class="attr">fps</span><span class="kwrd">="45"</span> <span class="attr">unit</span><span class="kwrd">="px"</span> <span class="kwrd">/&gt;</span>
                    <span class="kwrd">&lt;/</span><span class="html">Sequence</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;/</span><span class="html">OnClick</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;/</span><span class="html">Animations</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">ajaxToolKit:AnimationExtender</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode"><strong>Step 2 : </strong>Assign the Following function as OnClientClick handler of the Button btnAnimateTriggerOne.</pre>
<pre class="csharpcode"><span class="attr">OnClientClick</span><span class="kwrd">="setAnimationTarget();return false;"</span></pre>
<pre class="csharpcode">The Function setAnimationTarget sets the ID of the AnimationTarget for the AnimationExtender.</pre>
<pre class="csharpcode"><strong>Step 3: </strong>The Definition of the functions getAnimationTarget() and setAnimationTarget().</pre>
<pre class="csharpcode">&lt;script language =<span class="str">"javascript"</span> type =<span class="str">"text/javascript"</span>&gt;
 <span class="kwrd">var</span> currentAnimationTarget =<span class="str">"pnlAnimated"</span>;

<span class="kwrd">function</span> getAnimationTarget() {
    <span class="kwrd">return</span> currentAnimationTarget;
}
<span class="kwrd">function</span> setAnimationTarget() {
  currentAnimationTarget = currentAnimationTarget === <span class="str">"pnlAnimated"</span> ? <span class="str">"pnlAnimatedToo"</span>:<span class="str">"pnlAnimated"</span>;
}
&lt;/script&gt;</pre>
<p><style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style></p>
<p><font face="Consolas" color="#000000" size="2">In this example, the animationTarget will alternate between pnlAnimated and pnlAnimatedToo.</font></p>
<p><font face="Consolas" color="#000000" size="2">You can implement your own logic into the above functions for your implementation.</font></p>
</blockquote>
<pre class="csharpcode">&nbsp;</pre>
<p><font face="Consolas" color="#000000" size="2"><strong>c) Combination of a) and b) </strong>, i.e you would want to use the same animationExtender to trigger the same animations on different elements onClick of two different Buttons.</font></p>
<p><font face="Consolas" color="#000000" size="2"><strong><a name="CombinationAB">Multiple TargetControlIDs and Multiple AnimationTargets.</a></strong></font></p>
<p><font face="Consolas" color="#000000" size="2">For instance , in the above example , if you would want to </font></p>
<p><font face="Consolas" color="#000000" size="2">Animate pnlAnimated onClick of btnAnimateTriggerOne</font></p>
<p><font face="Consolas" color="#000000" size="2">and </font></p>
<p><font face="Consolas" color="#000000" size="2"><font face="Consolas" color="#000000" size="2">Animate pnlAnimatedToo onClick of btnAnimateTriggerTwo.</font></font></p>
<p><font face="Consolas" color="#000000" size="2">And you would want to do all of this Without creating a new AnimationExtender on the same page.</font></p>
<p><font face="Consolas" color="#000000" size="2"><strong>Step 1: </strong>Assign the OnClientClick of the Two buttons to be as below :</font></p>
<pre class="csharpcode"><span class="rem">&lt;!-- The Trigger Button One--&gt;</span>
<span class="kwrd">&lt;</span><span class="html">asp:Button</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">ID</span><span class="kwrd">="btnAnimateTriggerOne"</span> <span class="attr">Text</span><span class="kwrd">="Trigger One"</span>
<span class="attr">OnClientClick</span><span class="kwrd">="<font size="3">setAnimationTargetValue('pnlAnimated');</font>return false;"</span> <span class="kwrd">/&gt;</span>

<span class="rem">&lt;!-- The Trigger Button two--&gt;</span>
<span class="kwrd">&lt;</span><span class="html">asp:Button</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">ID</span><span class="kwrd">="btnAnimateTriggerTwo"</span> <span class="attr">Text</span><span class="kwrd">="Trigger Two"</span>
<span class="attr">OnClientClick</span><span class="kwrd">="<font size="3">setAnimationTargetValue('pnlAnimatedToo');SwitchTargetControl();</font>return false;"</span> <span class="kwrd">/&gt;</span>
</pre>
<pre class="csharpcode"><strong>Step 2: </strong>Change the Markup of the AnimationExtender to replace AnimationTarget to be AnimationTargetScript.</pre>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">ajaxToolKit:AnimationExtender</span> <span class="attr">BehaviorID</span> <span class="kwrd">="animateMe"</span> <span class="attr">ID</span><span class="kwrd">="AnimationExtender1"</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">TargetControlID</span><span class="kwrd">="btnAnimateTriggerOne"</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">Animations</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;</span><span class="html">OnClick</span><span class="kwrd">&gt;</span>
                    <span class="kwrd">&lt;</span><span class="html">Sequence</span><span class="kwrd">&gt;</span>
                        <span class="kwrd">&lt;</span><span class="html">ReSize</span> <span class="attr">AnimationTargetScript</span><span class="kwrd">="getAnimationTarget();"</span> <span class="attr">height</span><span class="kwrd">="400"</span> <span class="attr">width</span><span class="kwrd">="400"</span> <span class="attr">duration</span> <span class="kwrd">="0.1"</span> <span class="attr">fps</span><span class="kwrd">="45"</span> <span class="attr">unit</span><span class="kwrd">="px"</span> <span class="kwrd">/&gt;</span>
                        <span class="kwrd">&lt;</span><span class="html">ReSize</span> <span class="attr">AnimationTargetScript</span><span class="kwrd">="getAnimationTarget();"</span> <span class="attr">height</span><span class="kwrd">="380"</span> <span class="attr">width</span><span class="kwrd">="380"</span> <span class="attr">duration</span> <span class="kwrd">="0.1"</span> <span class="attr">fps</span><span class="kwrd">="45"</span> <span class="attr">unit</span><span class="kwrd">="px"</span> <span class="kwrd">/&gt;</span>
                        <span class="kwrd">&lt;</span><span class="html">ReSize</span> <span class="attr">AnimationTargetScript</span><span class="kwrd">="getAnimationTarget();"</span> <span class="attr">height</span><span class="kwrd">="400"</span> <span class="attr">width</span><span class="kwrd">="400"</span> <span class="attr">duration</span> <span class="kwrd">="0.1"</span> <span class="attr">fps</span><span class="kwrd">="45"</span> <span class="attr">unit</span><span class="kwrd">="px"</span> <span class="kwrd">/&gt;</span>
                    <span class="kwrd">&lt;/</span><span class="html">Sequence</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;/</span><span class="html">OnClick</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;/</span><span class="html">Animations</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">ajaxToolKit:AnimationExtender</span><span class="kwrd">&gt;</span></pre>
<pre class="csharpcode"><strong>Step 3: </strong>The Definition for the JavaScript Functions.</pre>
<pre class="csharpcode">&lt;script language =<span class="str">"javascript"</span> type =<span class="str">"text/javascript"</span>&gt;
            <span class="kwrd">function</span> SwitchTargetControl() {
                $find(<span class="str">"animateMe"</span>).get_OnClickBehavior().play();
            }

            <span class="kwrd">var</span> currentAnimationTarget =<span class="str">"pnlAnimated"</span>;

            <span class="kwrd">function</span> getAnimationTarget() {
                <span class="kwrd">return</span> currentAnimationTarget;
            }

            <span class="kwrd">function</span> setAnimationTargetValue( value ) {
                currentAnimationTarget  = value;
            }
&lt;/script&gt;</pre>
<pre class="csharpcode">&nbsp;</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>

      </div>

      <a href="/how-to-re-use-animation-extenders-in-a-page/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/how-to-perform-operations-on-all-instances-of-a-ajax-control-extender-on-a-page/">How to : Perform Operations on all instances of a Ajax Control Extender on a page</a></h1>

      <div class="entry">
        <p>Consider a scenario wherein you have a lot of control Extenders on a page and you want to conduct operations on all instances</p>
<p>Specific Extender or specific instances of an extender.</p>
<p>We all know that we can reference certain instances of an Extender by&nbsp;using &nbsp;its BehaviorID and the <a href="http://ajax.asp.net/docs/ClientReference/Global/FindShortcutMethod.aspx" target="_blank">$find</a> function.</p>
<p>Now , consider an implementation where you want to Collapse/Expand all Collapsible Panels present on a Page.</p>
<p>You don't know how many CollapsiblePanels will be present on the page and what their IDs will be .</p>
<p><strong><u>Solution</u></strong></p>
<p>The ASP.NET Ajax Framework has a couple of really useful functions which will help us here.</p>
<p>You can get all instances of all behaviors present on the page using the <strong><a href="http://ajax.asp.net/docs/ClientReference/Sys/ApplicationClass/SysApplicationGetComponentsMethod.aspx" target="_blank">Sys.Application.getComponents()</a> </strong>method.</p>
<p>There&nbsp; , it's &nbsp;that simple !!</p>
<p><strong>How do you use this to find all instances of a <u>Specific Control Extender </u>on a page ?</strong></p>
<p>Ans : You can find out the "Type" of any given Behavior by&nbsp;using any of the following code Snippets.</p>
<h5><strong>1) Using the Object.getType() Method.</strong></h5>
<p>&nbsp;EX: </p>
<p>&nbsp;Given that your behavior Instance is : controlYourSelf of type : HoverMenu</p>
<pre class="csharpcode">Object.getType( controlYourSelf ).getName()</pre>
<pre class="csharpcode">will give you the name of the AjaxControlToolkit behavior .</pre>
<pre class="csharpcode">Ex output is :  AjaxControlToolkit.HoverMenuBehavior and so on and so forth.</pre>
<h5><strong>2) Using the get_name() method on the Behavior Instance.</strong></h5>
<pre class="csharpcode">Your Behavior Name will not be qualified with AjaxControlToolkit.</pre>
<pre class="csharpcode">so , if you call get_name() on controlYourSelf Behavior .</pre>
<pre class="csharpcode">controlYourSelf.get_name() will give you : HoverMenuBehavior</pre>
<pre class="csharpcode">usage : </pre>
<pre class="csharpcode">&lt;BehaviorInstance&gt;.get_name()</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p>Consider the Following Example which shows you how to <strong><u>Collapse all the Collapsible Panels present on a page</u></strong>:</p>
<p><strong><u>The Algorithm would be:</u></strong></p>
<ol>
<li>&nbsp;Find all instances of the CollapsiblePanel Behavior on the page.
</li>
<li>&nbsp;On each of them ,
</li>
<li>&nbsp;Check if the Panel is Collapsed by calling the get_Collapsed() function.
</li>
<li>&nbsp;If not collapsed&nbsp;, call the collapsePanel Function to collapse the Panel.</li>
</ol>
<p><strong><u>The Code would be&nbsp; :</u></strong></p>
<pre class="csharpcode"><span class="rem">//Function To Collapse all CollapsiblePanels on a page , if not already collapsed.</span>
<span class="kwrd">function</span> collapseAllCollapsiblePanels() {
    <span class="kwrd">var</span> currentBehavior = <span class="kwrd">null</span>;
   <span class="rem">//1) Find all instances of the CollapsiblePanel Behavior on the page.</span>
    <span class="rem">//Get all the Behaviors Present in the Page</span>
    <span class="kwrd">var</span> allBehaviors = Sys.Application.getComponents() ;
    <span class="rem">//Loop Through them</span>
    <span class="kwrd">for</span>( <span class="kwrd">var</span> loopIndex = 0 ; loopIndex &lt; allBehaviors.length; loopIndex++ ) {
        currentBehavior = allBehaviors[loopIndex];
    <span class="rem">//For each behavior , check the Behavior Name </span>
        <span class="kwrd">if</span>( currentBehavior.get_name() === <span class="str">"CollapsiblePanelBehavior"</span> ) {
      <span class="rem">//If its of type CollapsiblePanelBehavior</span>
        <span class="rem">//3) Check if the Panel is Collapsed by calling the get_Collapsed() function.</span>
            <span class="kwrd">if</span>( !currentBehavior.get_Collapsed() ) {
            <span class="rem">//4) If not collapsed , call the collapsePanel Function to collapse the Panel.</span>
                currentBehavior.collapsePanel();
            }
        }
    }
}</pre>
<pre class="csharpcode">You can use this approach in your applications  for any myriad number of reasons .</pre>
<pre class="csharpcode">Hope this helps Someone out there.</pre>
<pre class="csharpcode">&nbsp;</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>

      </div>

      <a href="/how-to-perform-operations-on-all-instances-of-a-ajax-control-extender-on-a-page/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/how-to-use-a-key-value-pair-in-your-autocompleteextender-updated-again/">How to : Use a Key Value Pair in your AutoCompleteExtender ( updated again... )</a></h1>

      <div class="entry">
        <p>&nbsp;</p>
<p><font size="2">Hi all,</font></p>
<p><font size="2">This has come up time and again on the asp.net&nbsp; Ajax&nbsp; forums and has become the Top Voted issue for the AutoCompleteExtender Work Items . I had some time the other day and set upon to write a fix for this .</font></p>
<p><strong><u>How do you use&nbsp;&nbsp; it?</u></strong></p>
<p>&nbsp;<font size="2">1) Attach a handler to the itemSelected Event using the OnClientItemSelected property in&nbsp; the ACE markup </font></p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">ajaxToolkit:AutoCompleteExtender</span> <span class="attr">runat</span><span class="kwrd">="server"</span>
            <span class="attr">BehaviorID</span><span class="kwrd">="AutoCompleteEx"</span> <span class="attr">ID</span><span class="kwrd">="autoComplete1"</span>
            <span class="attr">TargetControlID</span><span class="kwrd">="myTextBox"</span> <span class="attr">ServicePath</span><span class="kwrd">="~/Services/AutoComplete.asmx"</span>
            <span class="attr">ServiceMethod</span><span class="kwrd">="GetCompletionListKeyValuePair"</span>
            ......
            <font size="4"><span class="attr">OnClientItemSelected</span> <span class="kwrd">="IAmSelected"</span>
        </font><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">ajaxToolkit:AutoCompleteExtender</span><span class="kwrd">&gt;</span></pre>
<pre class="csharpcode"><span class="kwrd">function</span> IAmSelected( source, eventArgs ) {
   alert( <span class="str">" Key : "</span>+ eventArgs.get_text() +<span class="str">"  Value :  "</span>+eventArgs.get_value());
}</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p><style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style></p>
<p><font size="2">2) The Server-Side Method :</font></p>
<p><font size="2">The Server-Side Method will return an array of strings as before ,</font></p>
<p><font size="2">You create KeyValue Pairs by calling the method :</font></p>
<pre class="csharpcode">AjaxControlToolkit.AutoCompleteExtender.CreateAutoCompleteItem(&lt;key&gt;,&lt;<span class="kwrd">value</span>&gt;);</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p><font size="2">EX:</font>&nbsp; </p>
<pre class="csharpcode">[WebMethod]

        <span class="kwrd">public</span> <span class="kwrd">string</span>[] GetCompletionList(<span class="kwrd">string</span> prefixText, <span class="kwrd">int</span> count)
        {

            <span class="kwrd">if</span> (count == 0)
            {

                count = 10;

            }

            <span class="kwrd">if</span> (prefixText.Equals(<span class="str">"xyz"</span>))
            {

                <span class="kwrd">return</span> <span class="kwrd">new</span> <span class="kwrd">string</span>[0];

            }

            Random random = <span class="kwrd">new</span> Random();

            List&lt;<span class="kwrd">string</span>&gt; items = <span class="kwrd">new</span> List&lt;<span class="kwrd">string</span>&gt;(count);

            <span class="kwrd">for</span> (<span class="kwrd">int</span> i = 0; i &lt; count; i++)
            {

                <span class="kwrd">char</span> c1 = (<span class="kwrd">char</span>)random.Next(65, 90);

                <span class="kwrd">char</span> c2 = (<span class="kwrd">char</span>)random.Next(97, 122);

                <span class="kwrd">char</span> c3 = (<span class="kwrd">char</span>)random.Next(97, 122);

                items.Add(<font color="#ff0000" size="4">AjaxControlToolkit.AutoCompleteExtender.CreateAutoCompleteItem</font>(prefixText + c1 + c2 + c3, i.ToString()));

            }

            <span class="kwrd">return</span> items.ToArray();

        }
</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode">The Display of the ACE does not change , it still remains the same :</pre>
<pre class="csharpcode">Once you select an item from the DropDown of the ACE , you get an alert which shows you the value of the selectedItem.</pre>
<pre class="csharpcode">In Your applications , instead of the Alert , process some business logic as per your requirements.</pre>
<pre class="csharpcode">Hope this is an useful Addition.</pre>
<pre class="csharpcode">&nbsp;</pre>
<p>Download the Latest AjaxControlToolkit from :</p>
<p><a title="http://www.codeplex.com/AtlasControlToolkit/Release/ProjectReleases.aspx?ReleaseId=4941" href="http://www.codeplex.com/AtlasControlToolkit/Release/ProjectReleases.aspx?ReleaseId=4941" mce_href="http://www.codeplex.com/AtlasControlToolkit/Release/ProjectReleases.aspx?ReleaseId=4941">http://www.codeplex.com/AtlasControlToolkit/Release/ProjectReleases.aspx?ReleaseId=4941</a></p>
<p mce_keep="true">&nbsp;</p>
<p><strong>[Update ]</strong></p>
<p>You don't need to specify the UseKeyValuepairs attibute anymore ( in fact , its been removed :) ).</p>
<p>The ACE script is intelligent enough to realize when Key/Value pairs are returned automatically.</p>
<p>And also , the method CreateKeyvaluePair has been changed to CreateAutoCompleteItem.</p>
<p mce_keep="true">&nbsp;</p>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style></p>

      </div>

      <a href="/how-to-use-a-key-value-pair-in-your-autocompleteextender-updated-again/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/scripting-animations-from-the-ms-ajax-animationextender/">Scripting Animations from the Ms Ajax AnimationExtender</a></h1>

      <div class="entry">
        <h1></h1>
<p>An ignored / unknown / very useful&nbsp; feature of the animation Framework is that it allows you to control the animation as its playing.</p>
<p>You can <strong><u>Play, Pause , Resume , Stop and Quit&nbsp;</u></strong> an Animation Instance by using appropriate methods in JavaScript.</p>
<p><strong><u>Setting up the Animation</u></strong></p>
<p>The Animation we will be playing is a Length Animation on a DIV element with ID "<font color="#ff0000">divMovable</font>".</p>
<p>The DIV will Increase in length from 200 px to 550px over a duration of 1.5 Seconds OnClick of the DIV.</p>
<h3>Markup For Div</h3>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">id</span><span class="kwrd">="divMovable"</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">class</span><span class="kwrd">="demoDivYellow"</span><span class="kwrd">&gt;</span>
    I Move Away
<span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span></pre>
<h3><span class="kwrd">Markup for the Animation Extender</span></h3>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">ajaxToolkit:AnimationExtender</span> <span class="attr">ID</span><span class="kwrd">="AnimationExtender1"</span> <span class="attr">BehaviorID</span><span class="kwrd">="controlledAnimation"</span>
                        <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">TargetControlID</span><span class="kwrd">="divMovable"</span><span class="kwrd">&gt;</span>
      <span class="kwrd">&lt;</span><span class="html">Animations</span><span class="kwrd">&gt;</span>
             <span class="kwrd">&lt;</span><span class="html">OnClick</span><span class="kwrd">&gt;</span>
                     <span class="kwrd">&lt;</span><span class="html">Length</span> <span class="attr">duration</span><span class="kwrd">="1.5"</span> <span class="attr">fps</span><span class="kwrd">="40"</span>
                            <span class="attr">Property</span><span class="kwrd">="style"</span>  <span class="attr">PropertyKey</span><span class="kwrd">="height"</span>
                            <span class="attr">StartValue</span><span class="kwrd">="200"</span>  <span class="attr">EndValue</span><span class="kwrd">="550"</span>
                            <span class="attr">unit</span><span class="kwrd">="px"</span> <span class="attr">AnimationTarget</span><span class="kwrd">="divMovable"</span> <span class="kwrd">/&gt;</span>
              <span class="kwrd">&lt;/</span><span class="html">OnClick</span><span class="kwrd">&gt;</span>
         <span class="kwrd">&lt;/</span><span class="html">Animations</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">ajaxToolkit:AnimationExtender</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p>Notice that the AnimationExtender has the BehaviorID assigned to be "<font color="#0000ff"><strong>controlledAnimation</strong></font>".</p>
<p>We will be accessing the Control Methods using this BehaviorID.</p>
<p><strong><u>Playing An Animation</u></strong></p>
<p>&nbsp;You&nbsp; can trigger an animation to start playing by calling the <font color="#ff0000"><strong>play</strong></font> method on&nbsp;the Animation Extender Behavior .</p>
<pre class="csharpcode"><span class="kwrd">function</span> playAnimation() {
            <span class="kwrd">var</span> onclkBehavior = $find(<span class="str">"controlledAnimation"</span>).get_OnClickBehavior().get_animation();
            <font color="#008040"><font size="4"><strong>onclkBehavior.play();</strong></font>
</font>        }</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p><strong><u>Pausing An Animation</u></strong></p>
<p>&nbsp;You&nbsp; can Pause an animation by calling the&nbsp;<font color="#ff0000"><strong>pause</strong></font> method on&nbsp;the Animation Extender Behavior .</p>
<pre class="csharpcode"><span class="kwrd">function</span> pauseAnimation() {
            <span class="kwrd">var</span> onclkBehavior = $find(<span class="str">"controlledAnimation"</span>).get_OnClickBehavior().get_animation();
            <strong><font color="#008000" size="4">onclkBehavior.pause();</font></strong>
        }</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p><strong><u>Resuming a Paused Animation</u></strong></p>
<p>You can Resume a Paused Animation by calling its <font color="#ff0000"><strong>play</strong></font> Method again :) .</p>
<p><strong><u>Stopping A Playing&nbsp;Animation</u></strong></p>
<p>&nbsp;You&nbsp; can Stop&nbsp;a playing animation by calling the&nbsp;<font color="#ff0000"><strong>stop </strong></font>method on&nbsp;the Animation Extender Behavior .</p>
<pre class="csharpcode"><span class="kwrd">function</span> stopAnimation() {
            <span class="kwrd">var</span> onclkBehavior = $find(<span class="str">"controlledAnimation"</span>).get_OnClickBehavior().get_animation();
            <font color="#008040" size="4"><strong>onclkBehavior.stop();</strong></font>
        }</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p><strong><u>Quitting A Playing Animation</u></strong></p>
<p>&nbsp;You&nbsp; can quit&nbsp; playing an animation by calling the&nbsp;<font color="#ff0000"><strong>quit </strong></font>method on&nbsp;the Animation Extender Behavior .</p>
<pre class="csharpcode"><span class="kwrd">function</span> quitAnimation() {
            <span class="kwrd">var</span> onclkBehavior = $find(<span class="str">"controlledAnimation"</span>).get_OnClickBehavior().get_animation();
            <font color="#008040" size="4"><strong>onclkBehavior.quit();</strong></font>
        }</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p>&nbsp;</p>
<p><strong><u>What's the Difference between Stop and Quit ?</u></strong></p>
<p>Copied Text from the Remarks section of the <strong><u>Quit</u></strong> Function from AnimationBehavior.JS</p>
<pre class="csharpcode"><span class="str">"Quit differs from the stop function which will update the final state.  The
quit function is most useful for scenarios where you're toggling back and forth
between two animations , like those used in OnHoverOver or OnHoverOut, and
 you don't want to completely finish one animation if its counterpart is triggered"</span></pre>
<pre class="csharpcode"><strong><u>Complete Sample</u></strong></pre>
<pre class="csharpcode"><span class="asp">&lt;%@ Page Language="C#" AutoEventWireup="true"%&gt;</span>
<span class="asp">&lt;%@ Register Assembly="AjaxControlToolkit, Version=1.0.10123.0, Culture=neutral, PublicKeyToken=28f01b0e84b6d53e"
    Namespace="AjaxControlToolkit" TagPrefix="ajaxToolkit" %&gt;</span>
<span class="kwrd">&lt;</span><span class="html">head</span> <span class="attr">id</span><span class="kwrd">="Head1"</span> <span class="attr">runat</span><span class="kwrd">="server"</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">title</span><span class="kwrd">&gt;</span>Controlling Animation With JavaScript<span class="kwrd">&lt;/</span><span class="html">title</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">script</span> <span class="attr">language</span><span class="kwrd">="javascript"</span><span class="kwrd">&gt;</span>
        <span class="kwrd">var</span> onclkBehavior ;
        <span class="kwrd">function</span> pageLoad()
        {
            onclkBehavior = $find(<span class="str">"controlledAnimation"</span>).get_OnClickBehavior().get_animation();
        }
        <span class="kwrd">function</span> playAnimation() {

            onclkBehavior.play();
            $get(<span class="str">"lblCurrentStatus"</span>).innerText=<span class="str">"Playing.."</span>;
        }
        <span class="kwrd">function</span> pauseAnimation()
        {

           onclkBehavior.pause();
           $get(<span class="str">"lblCurrentStatus"</span>).innerText=<span class="str">"Paused.."</span>;
        }
        <span class="kwrd">function</span> stopAnimation() {
            onclkBehavior.stop();
            $get(<span class="str">"lblCurrentStatus"</span>).innerText=<span class="str">"Stopped.."</span>;
        }
        <span class="kwrd">function</span> quitAnimation()
        {
            $find(<span class="str">"controlledAnimation"</span>).get_OnClickBehavior().quit();
            $get(<span class="str">"lblCurrentStatus"</span>).innerText=<span class="str">"Quit.."</span>;
        }
    <span class="kwrd">&lt;/</span><span class="html">script</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">head</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">body</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">form</span> <span class="attr">id</span><span class="kwrd">="frmScripting"</span> <span class="attr">runat</span><span class="kwrd">="server"</span><span class="kwrd">&gt;</span></pre>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">input</span> <span class="attr">type</span><span class="kwrd">="button"</span> <span class="attr">class</span><span class="kwrd">="purpleButtonClass"</span> <span class="attr">onclick</span><span class="kwrd">="playAnimation()"</span> <span class="attr">id</span><span class="kwrd">="btnPlayAnimation"</span>
                           <span class="attr">value</span><span class="kwrd">="Play"</span> <span class="kwrd">/&gt;&lt;</span><span class="html">br</span> <span class="kwrd">/&gt;&lt;</span><span class="html">br</span> <span class="kwrd">/&gt;</span>
<span class="kwrd">&lt;</span><span class="html">input</span> <span class="attr">type</span><span class="kwrd">="button"</span> <span class="attr">class</span><span class="kwrd">="purpleButtonClass"</span> <span class="attr">onclick</span><span class="kwrd">="pauseAnimation()"</span> <span class="attr">id</span><span class="kwrd">="btnPauseAnimation"</span>
                           <span class="attr">value</span><span class="kwrd">="Pause"</span> <span class="kwrd">/&gt;&lt;</span><span class="html">br</span> <span class="kwrd">/&gt;&lt;</span><span class="html">br</span> <span class="kwrd">/&gt;</span>
<span class="kwrd">&lt;</span><span class="html">input</span> <span class="attr">type</span><span class="kwrd">="button"</span> <span class="attr">class</span><span class="kwrd">="purpleButtonClass"</span> <span class="attr">onclick</span><span class="kwrd">="stopAnimation()"</span> <span class="attr">id</span><span class="kwrd">="btnStopAnimation"</span>
                           <span class="attr">value</span><span class="kwrd">="Stop"</span> <span class="kwrd">/&gt;&lt;</span><span class="html">br</span> <span class="kwrd">/&gt;&lt;</span><span class="html">br</span> <span class="kwrd">/&gt;</span>
<span class="kwrd">&lt;</span><span class="html">input</span> <span class="attr">type</span><span class="kwrd">="button"</span> <span class="attr">class</span><span class="kwrd">="purpleButtonClass"</span> <span class="attr">onclick</span><span class="kwrd">="quitAnimation()"</span> <span class="attr">id</span><span class="kwrd">="btnQuitAnimation"</span>
                           <span class="attr">value</span><span class="kwrd">="Quit"</span> <span class="kwrd">/&gt;&lt;</span><span class="html">br</span> <span class="kwrd">/&gt;&lt;</span><span class="html">br</span> <span class="kwrd">/&gt;</span>
<span class="kwrd">&lt;</span><span class="html">span</span> <span class="attr">id</span><span class="kwrd">="lblCurrentStatus"</span><span class="kwrd">&gt;&lt;/</span><span class="html">span</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode"><span class="kwrd"></span>
<span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">id</span><span class="kwrd">="divMovable"</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">class</span><span class="kwrd">="demoDivYellow"</span><span class="kwrd">&gt;</span>
    I Move Away
<span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span>

<span class="kwrd">&lt;</span><span class="html">ajaxToolkit:AnimationExtender</span> <span class="attr">ID</span><span class="kwrd">="AnimationExtender1"</span> <span class="attr">BehaviorID</span><span class="kwrd">="controlledAnimation"</span>
    <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">TargetControlID</span><span class="kwrd">="divMovable"</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">Animations</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">OnClick</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">Length</span> <span class="attr">duration</span><span class="kwrd">="1.5"</span> <span class="attr">fps</span><span class="kwrd">="40"</span>
                    <span class="attr">Property</span><span class="kwrd">="style"</span>  <span class="attr">PropertyKey</span><span class="kwrd">="height"</span>
                    <span class="attr">StartValue</span><span class="kwrd">="200"</span>  <span class="attr">EndValue</span><span class="kwrd">="550"</span>
                    <span class="attr">unit</span><span class="kwrd">="px"</span> <span class="attr">AnimationTarget</span><span class="kwrd">="divMovable"</span> <span class="kwrd">/&gt;</span>
        <span class="kwrd">&lt;/</span><span class="html">OnClick</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;/</span><span class="html">Animations</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">ajaxToolkit:AnimationExtender</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">form</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">body</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">html</span><span class="kwrd">&gt;</span></pre>
<pre class="csharpcode"><span class="kwrd"><font color="#000000" size="4">Hope this helps someone out there!</font></span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>

      </div>

      <a href="/scripting-animations-from-the-ms-ajax-animationextender/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/my-update-to-the-autocompleteextender/">My Update to the AutoCompleteExtender</a></h1>

      <div class="entry">
        <p>HI ,</p>
<p>&nbsp;I was asked to work on the <strong><u>beta&nbsp;&nbsp;</u></strong>&nbsp; <a href="http://www.codeplex.com/AtlasControlToolkit/Wiki/View.aspx?title=PatchUtility&amp;referringTitle=PatchCredit">AjaxControlToolkit Patch Utility</a> Tool from the <a href="http://forums.asp.net/1022.aspx">Asp.Net AjaxControlToolkit Forums</a> .</p>
<p>&nbsp; My first fix , which allows the first result in a result set to be automatically selected&nbsp; ( if chosen to ) , has been made part of the codebase </p>
<p>and will be in the next release of the Toolkit .</p>
<p>Youc an see me in the <a href="http://www.codeplex.com/AtlasControlToolkit/Wiki/View.aspx?title=PatchHallOfFame&amp;referringTitle=PatchCredit">Hall of Fame</a> .</p>
<p>&nbsp;</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/MyUpdatetotheAutoCompleteExtender_FF9/FRSAC%5B8%5D.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/MyUpdatetotheAutoCompleteExtender_FF9/FRSAC%5B8%5D.jpg" atomicselection="true"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="270" src="/assets/FRSAC_thumb%5B6%5D.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/MyUpdatetotheAutoCompleteExtender_FF9/FRSAC_thumb%5B6%5D.jpg" width="901" border="0" /></a> </p>
<p>Default Behavior , With "FirstRowSelected" set to <strong><u>false.</u></strong></p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/MyUpdatetotheAutoCompleteExtender_FF9/FRSAC3%5B4%5D.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/MyUpdatetotheAutoCompleteExtender_FF9/FRSAC3%5B4%5D.jpg" atomicselection="true"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="177" src="/assets/FRSAC3_thumb%5B2%5D.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/MyUpdatetotheAutoCompleteExtender_FF9/FRSAC3_thumb%5B2%5D.jpg" width="244" border="0" /></a> </p>
<p>&nbsp;</p>
<p>Behavior after My patch&nbsp;is part of the AjaxCotnrolToolkit , With "FirstRowSelected" set to <strong><u>true.</u></strong></p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/MyUpdatetotheAutoCompleteExtender_FF9/ACEFRS1%5B10%5D.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/MyUpdatetotheAutoCompleteExtender_FF9/ACEFRS1%5B10%5D.jpg" atomicselection="true"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="270" src="/assets/ACEFRS1_thumb%5B8%5D.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/MyUpdatetotheAutoCompleteExtender_FF9/ACEFRS1_thumb%5B8%5D.jpg" width="487" border="0" /></a> </p>
<p>Link to the WorkItem my fix resolves&nbsp;&nbsp; <a href="http://www.codeplex.com/AtlasControlToolkit/WorkItem/View.aspx?WorkItemId=9305">Be able to have the first row selected Title is required</a>.</p>
<p>Hope this helps !!!</p>

      </div>

      <a href="/my-update-to-the-autocompleteextender/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/some-useful-links-from-the-asp-net-ajax-forums/">Some Useful Links from the  ASP.NET Ajax Forums</a></h1>

      <div class="entry">
        <p>Hi ,</p>
<p>Over the past couple of months, I have been actively contributing to the Asp.net Ajax forums and have come across some very </p>
<p>&nbsp;weird and challenging problems to solve.Anyone who's been at the forums can tell, the community is VERY Active and helpful when it comes to helping</p>
<p>out your fellow developer . Below is a list of some FAQs that I often encountered and was able to address on the&nbsp; Forums .</p>
<p>Helping someone out with a brain-bender they are stuck on and seeing the issue resolved after some brainstorming is VERY satisfying.</p>
<p>Why am I doing this ? </p>
<p>There is a lot of content on the Forums and I wanna share what I learnt and was able to share with my fellow devs.</p>
<p>Also, I could have blogged about this but felt that its better to point you guys to the place where we learnt about this .</p>
<p>You might find some content duplicated from my Blog , as far as possible I have tried to avoid that and give you guys the unique ones that I have seen.</p>
<ol>
<li><a title="Tough ModalPopup Extender Question ( My Favorite )" href="http://forums.asp.net/thread/1578347.aspx" target="_blank">Tough ModalPopup Extender Question ( My Favorite )</a></li>
<li><a title="Assigning Multiple Triggers to an AnimationExtender" href="http://forums.asp.net/thread/1679613.aspx" target="_blank">Assigning Multiple Triggers to an AnimationExtender</a></li>
<li><a title="Execute JavaScript on the client Side Before Showing a ModalPopup" href="http://forums.asp.net/thread/1667827.aspx">Execute JavaScript on the client Side Before Showing a ModalPopup</a></li>
<li><a href="http://forums.asp.net/thread/1457306.aspx" target="_blank">Expand Accordion Pane WITHOUT clicking the header</a></li>
<li><a title="Animate an Element's Property in JavaScript" href="http://forums.asp.net/thread/1623283.aspx" target="_blank">Animate an Element's Property in JavaScript</a></li>
<li><a title="Using client side calculated sizes for the Resize animation" href="http://forums.asp.net/thread/1612703.aspx" target="_blank">Using client side calculated sizes for the Resize animation</a></li>
<li><a title="Prevent repeat animation (animationextender) / ConditionalAnimation" href="http://forums.asp.net/thread/1621738.aspx" target="_blank">Prevent repeat animation (animationextender) / ConditionalAnimation</a></li>
<li><a title="How do I use Animation without server-side controls? (mission impossible??)" href="http://forums.asp.net/thread/1578357.aspx" target="_blank">How do I use Animation without server-side controls? (mission impossible??)</a></li>
<li><a title="Hyperlink to a page with Accordion and opening a specific pane" href="http://forums.asp.net/thread/1601837.aspx" target="_blank">Hyperlink to a page with Accordion and opening a specific pane</a></li>
<li><a title="Change visible Accordion Pane using  JavaScript" href="http://forums.asp.net/thread/1597085.aspx" target="_blank">Change visible Accordion Pane using JavaScript</a></li>
<li><a title="Combine Animate and Modal dialog functionality" href="http://forums.asp.net/thread/1597036.aspx" target="_blank">Combine Animate and Modal dialog functionality</a></li>
<li><a title="Create ModalPopupExtender control dynamically client side" href="http://forums.asp.net/thread/1581774.aspx" target="_blank">Create ModalPopupExtender control dynamically client side</a></li>
</ol>
<p>&nbsp;</p>
<p>As time goes by , I will be putting up another list of issues that I helped on , </p>
<p>these are the unique ( sort-of ) ones that I could find out of all the ones that I answered .</p>
<p>If you are not a part of the Forums , get yourself an account and start helping out !</p>
<p>Hope this helps someone out there !</p>

      </div>

      <a href="/some-useful-links-from-the-asp-net-ajax-forums/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/howto-detect-if-iis7-is-installed-on-a-vista-machine/">Howto: Detect if IIS7 is installed on a Vista Machine</a></h1>

      <div class="entry">
        <p>Quite Often we come across a Need to find out if IIS 7 is installed before we install any software thats dependent on IIS.</p>
<p>There are many ways to do this .</p>
<p>I will describe one of the Easiest ways to do this .</p>
<p>When IIS is installed on a Vista Machine , it creates a Registry Key under the Node.</p>
<p><strong>HKLM\Software\Microsoft\InetStp</strong></p>
<p>The Optional Modules that are selected are specified under the Registry key .</p>
<p><strong>HKLM\Software\Microsoft\InetStp\Components</strong></p>
<p>We will write a small code snippet that reads the registry and reports if IIS is installed on a Vista Machine.</p>
<p>1) Include the Microsoft.Win32 Namespace to include the Functions&nbsp; to access the Windows Registry .</p>
<pre class="csharpcode"><span class="kwrd">using</span> Microsoft.Win32;</pre>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode">2) <span class="rem">Function To Find out if IIS Is installed on a machine</span></pre>
<pre class="csharpcode"><strong><u><span class="rem"></span>
</u></strong><span class="kwrd">public</span> <span class="kwrd">bool</span> IsIISInstalled(){</pre>
<pre class="csharpcode"><span class="kwrd">bool</span> IISIsInstalled = <span class="kwrd">false</span>;</pre>
<pre class="csharpcode"><span class="rem">//Try to Open the Registry Key</span>
RegistryKey softwareKey = Registry.LocalMachine.OpenSubKey(<span class="str">"Software\Microsoft\InetStp"</span>);</pre>
<pre class="csharpcode"><span class="rem">//If the Registry Key exists, then IIS is Installed on Vista</span>
IISIsInstalled = softwareKey == <span class="kwrd">null</span> ? <span class="kwrd">false</span> : <span class="kwrd">true</span>;</pre>
<pre class="csharpcode"><span class="rem">//Return Existance to calling Function</span>
<span class="kwrd">return</span> IISIsInstalled;</pre>
<pre class="csharpcode">
}</pre>
<pre class="csharpcode">3) Function To Find all the Optional Components that are installed with IIS .</pre>
<pre class="csharpcode"><span class="kwrd">public</span> <span class="kwrd">string</span>[] GetOptionalIISComponentsInstalled()  {
<span class="rem">//The Optional Components are Values  in the Registry Subkey Specified above</span>
<span class="kwrd">string</span>[] optionalComponents = Registry.LocalMachine.OpenSubKey(<span class="str">"Software\Microsoft\InetStp\Components"</span>).GetValueNames();
<span class="rem">//Return the String Array to the calling function</span>
<span class="kwrd">return</span> optionalComponents;
}</pre>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode">Please  note that the code Snippet provided is <u>only for Demonstration Purposes </u>and does not claim to be optimised for any of the below.</pre>
<pre class="csharpcode"> a) Performance</pre>
<pre class="csharpcode"> b) Security </pre>
<pre class="csharpcode"> c) Scalabality</pre>
<pre class="csharpcode"><u><strong>Use the  Code snippet  at your own risk</strong></u></pre>
<pre class="csharpcode"><strong><u>Complete Example:</u></strong></pre>
<pre class="csharpcode"><span class="kwrd">using</span> System;
<span class="kwrd">using</span> System.Reflection;
<span class="kwrd">using</span> System.IO;
<span class="kwrd">using</span> System.Collections.Generic;
<span class="kwrd">using</span> System.Text;
<span class="kwrd">using</span> Microsoft.Win32;
<span class="kwrd">namespace</span> DetectIIS
{
    <span class="kwrd">class</span> Program{</pre>
<pre class="csharpcode">       <span class="kwrd">public</span> <span class="kwrd">string</span>[] GetOptionalIISComponentsInstalled(){
            <span class="kwrd">string</span>[] optionalComponents = Registry.LocalMachine.OpenSubKey(<span class="str">"Software\Microsoft\InetStp\Components"</span>).GetValueNames();
            <span class="kwrd">return</span> optionalComponents;
        }</pre>
<pre class="csharpcode">        <span class="kwrd">public</span> <span class="kwrd">bool</span> IsIISInstalled(){
            <span class="kwrd">bool</span> IISIsInstalled = <span class="kwrd">false</span>;
            RegistryKey softwareKey = Registry.LocalMachine.OpenSubKey(<span class="str">"Software\Microsoft\InetStp"</span>);
            IISIsInstalled = softwareKey == <span class="kwrd">null</span> ? <span class="kwrd">false</span> : <span class="kwrd">true</span>;
            <span class="kwrd">return</span> IISIsInstalled;
        }

        <span class="kwrd">static</span> <span class="kwrd">void</span> Main(<span class="kwrd">string</span>[] args)
        {
            <span class="kwrd">try</span>
            {
                Program anInstance = <span class="kwrd">new</span> Program();</pre>
<pre class="csharpcode">                <span class="kwrd">if</span> (anInstance.IsIISInstalled())
                {
                    <span class="kwrd">string</span>[] installedComponents = anInstance.GetOptionalIISComponentsInstalled();
                    <span class="kwrd">foreach</span> (<span class="kwrd">string</span> component <span class="kwrd">in</span> installedComponents)
                    {
                        Console.WriteLine(component);
                    }

                }
                Console.Read();
            }
            <span class="kwrd">catch</span> (AccessViolationException aceExcep)
            {
                Console.WriteLine(<span class="str">"You do not have sufficient access to the Registry , please run under elevated mode"</span>);

            }
        }
    }
}</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode">&nbsp;</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>

      </div>

      <a href="/howto-detect-if-iis7-is-installed-on-a-vista-machine/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/howto-change-visible-tab-using-javascript-in-the-ms-ajax-tabcontrol/">HowTo : Change Visible Tab Using JavaScript in the MS AJAX TabControl</a></h1>

      <div class="entry">
        <p>I have seen this in the forums a lot ..</p>
<p>"How do I change the Visible Tab in the MS AJAX TabControl on the Client-Side using Javascript ?"</p>
<p>Well, I have posted it several times and I think Its time I'd rather point people to a link than write the same piece again and again :-).</p>
<p>So, here you go .....</p>
<p>1) Consider that you have a TabControl on your page by the name of "MyTabs" . </p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">ajaxToolKit:TabContainer</span> <span class="attr">ID</span><span class="kwrd">="MyTabs"</span> <span class="attr">runat</span><span class="kwrd">="server"</span><span class="kwrd">&gt;</span>
//blah blah blah
<span class="kwrd">&lt;/</span><span class="html">ajaxToolKit:TabContainer</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode">2) <font face="tre">You can access the Methods exposed by the TabControl by accessing its  behavior.</font></pre>
<pre class="csharpcode"><font face="tre">   The Behavior is not accessible easily . </font></pre>
<pre class="csharpcode"><font face="tre">   The  TabControl has a property called as "control" that provides a way to access the Client-Side Methods of the </font></pre>
<pre class="csharpcode"><font face="tre">   TabControl.</font></pre>
<pre class="csharpcode"><span class="kwrd">   EX: var</span> tabBehavior = $get(<span class="str">'&lt;%=MyTabs.ClientID%&gt;'</span>).control; </pre>
<pre class="csharpcode"><font face="tre">3) once you have a handle to the Tabbehavior , you can use the "set_activeTab" method to set the Active Tab of the TabControl.</font></pre>
<pre class="csharpcode">   EX:tabBehavior.set_activeTabIndex(1); </pre>
<pre class="csharpcode">4)  You are Done !!</pre>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode">Complete  Code for the ChangeTab Function :</pre>
<pre class="csharpcode">&lt;script language=<span class="str">"javascript"</span>&gt;

<span class="kwrd">function</span> changeTab( tabIndex ){
<span class="kwrd">var</span> tabBehavior = $get(<span class="str">'&lt;%=MyTabs.ClientID%&gt;'</span>).control;
tabBehavior.set_activeTabIndex(tabIndex);
}</pre>
<pre class="csharpcode">&lt;/script&gt;
</pre>
<pre class="csharpcode">The Complete Example is posted below :</pre>
<blockquote><pre class="csharpcode"><span class="asp">&lt;%@ Register Assembly="AjaxControlToolkit" Namespace="AjaxControlToolkit" TagPrefix="ajaxToolKit" %&gt;</span>
<span class="kwrd">&lt;!</span><span class="html">DOCTYPE</span> <span class="attr">html</span> <span class="attr">PUBLIC</span> <span class="kwrd">"-//W3C//DTD XHTML 1.0 Transitional//EN"</span> <span class="kwrd">"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">html</span> <span class="attr">xmlns</span><span class="kwrd">="http://www.w3.org/1999/xhtml"</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">head</span> <span class="attr">runat</span><span class="kwrd">="server"</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">title</span><span class="kwrd">&gt;</span>Select Tabs By Script<span class="kwrd">&lt;/</span><span class="html">title</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">head</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">body</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">form</span> <span class="attr">id</span><span class="kwrd">="frmAccessAccordion"</span> <span class="attr">runat</span><span class="kwrd">="server"</span><span class="kwrd">&gt;</span>

        <span class="kwrd">&lt;</span><span class="html">script</span> <span class="attr">language</span><span class="kwrd">="javascript"</span><span class="kwrd">&gt;</span>
        <span class="kwrd">function</span> changeTab(){
        <span class="rem">//Get The Index of the Current Selected Index in the DropDownList</span>
        <span class="kwrd">var</span> tabIndex = parseInt( $get(<span class="str">'&lt;%=dlTabindex.ClientID%&gt;'</span>).value );
        <span class="rem">//Get a Handle to the Tab Behavior </span>
        <span class="kwrd">var</span> tabBehavior = $get(<span class="str">'&lt;%=MyTabs.ClientID%&gt;'</span>).control;
        <span class="rem">//Set the Currently Visible Tab </span>
        tabBehavior.set_activeTabIndex(tabIndex);
        }
        <span class="kwrd">&lt;/</span><span class="html">script</span><span class="kwrd">&gt;</span>
        Select Tab To Show :
        <span class="kwrd">&lt;</span><span class="html">asp:DropDownList</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">ID</span><span class="kwrd">="dlTabindex"</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">asp:ListItem</span> <span class="attr">Text</span><span class="kwrd">="One"</span> <span class="attr">Value</span><span class="kwrd">="0"</span><span class="kwrd">&gt;&lt;/</span><span class="html">asp:ListItem</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">asp:ListItem</span> <span class="attr">Text</span><span class="kwrd">="Two"</span> <span class="attr">Value</span><span class="kwrd">="1"</span><span class="kwrd">&gt;&lt;/</span><span class="html">asp:ListItem</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">asp:ListItem</span> <span class="attr">Text</span><span class="kwrd">="Three"</span> <span class="attr">Value</span><span class="kwrd">="2"</span><span class="kwrd">&gt;&lt;/</span><span class="html">asp:ListItem</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;/</span><span class="html">asp:DropDownList</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">asp:Button</span> <span class="attr">ID</span><span class="kwrd">="btnDynamicAnimate"</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">Text</span><span class="kwrd">="Button"</span> <span class="attr">OnClientClick</span><span class="kwrd">="changeTab();return false;"</span> <span class="kwrd">/&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">asp:ScriptManager</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">ID</span><span class="kwrd">="scrpManager"</span> <span class="attr">EnablePartialRendering</span><span class="kwrd">="true"</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;/</span><span class="html">asp:ScriptManager</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">ajaxToolKit:TabContainer</span> <span class="attr">ID</span><span class="kwrd">="MyTabs"</span> <span class="attr">runat</span><span class="kwrd">="server"</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">ajaxToolKit:TabPanel</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">ID</span><span class="kwrd">="tabOne"</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;</span><span class="html">HeaderTemplate</span><span class="kwrd">&gt;</span>
                    One
                <span class="kwrd">&lt;/</span><span class="html">HeaderTemplate</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;</span><span class="html">ContentTemplate</span><span class="kwrd">&gt;</span>
                    Tab One
                <span class="kwrd">&lt;/</span><span class="html">ContentTemplate</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;/</span><span class="html">ajaxToolKit:TabPanel</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">ajaxToolKit:TabPanel</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">ID</span><span class="kwrd">="tabTwo"</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;</span><span class="html">HeaderTemplate</span><span class="kwrd">&gt;</span>
                    Two
                <span class="kwrd">&lt;/</span><span class="html">HeaderTemplate</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;</span><span class="html">ContentTemplate</span><span class="kwrd">&gt;</span>
                    Tab Two
                    <span class="kwrd">&lt;</span><span class="html">asp:Button</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">ID</span><span class="kwrd">="btnServer"</span> <span class="attr">Text</span><span class="kwrd">="Submit"</span> <span class="kwrd">/&gt;</span>
                <span class="kwrd">&lt;/</span><span class="html">ContentTemplate</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;/</span><span class="html">ajaxToolKit:TabPanel</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">ajaxToolKit:TabPanel</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">ID</span><span class="kwrd">="tabThree"</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;</span><span class="html">HeaderTemplate</span><span class="kwrd">&gt;</span>
                    Three
                <span class="kwrd">&lt;/</span><span class="html">HeaderTemplate</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;</span><span class="html">ContentTemplate</span><span class="kwrd">&gt;</span>
                    Tab Three
                    <span class="kwrd">&lt;</span><span class="html">asp:Button</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">ID</span><span class="kwrd">="Button1"</span> <span class="attr">Text</span><span class="kwrd">="Submit"</span> <span class="kwrd">/&gt;</span>
                <span class="kwrd">&lt;/</span><span class="html">ContentTemplate</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;/</span><span class="html">ajaxToolKit:TabPanel</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;/</span><span class="html">ajaxToolKit:TabContainer</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;/</span><span class="html">form</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">body</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">html</span><span class="kwrd">&gt;</span></pre>
</blockquote>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode">&nbsp;</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>

      </div>

      <a href="/howto-change-visible-tab-using-javascript-in-the-ms-ajax-tabcontrol/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/ms-ajax-animationextender-how-many-ways-do-i-play-thee-updated/">MS AJAX AnimationExtender : How Many Ways Do I Play thee ? ( Updated )</a></h1>

      <div class="entry">
        <p>We will discuss the various ways&nbsp; in which one can animate a visual element using the MS AJAX Animation.</p>
<p>The Example would be to resize a div named "queryReply" to have a height of 100px and width of 200px On&nbsp;Click of the&nbsp; Div&nbsp;.</p>
<p>1) <strong>The Simplest Way&nbsp; , Markup </strong></p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">ajaxToolkit:AnimationExtender</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">ID</span><span class="kwrd">="animateReplyPanes"</span>
        <span class="attr">TargetControlID</span><span class="kwrd">="queryReply"</span> <span class="attr">BehaviorID</span><span class="kwrd">="animateReplyPanesBehavior"</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">Animations</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;</span><span class="html">OnClick</span><span class="kwrd">&gt;</span>
                       <span class="kwrd">&lt;</span><span class="html">Resize</span> <span class="attr">Height</span><span class="kwrd">="100"</span> <span class="attr">FPS</span><span class="kwrd">="25"</span> <span class="attr">Width</span><span class="kwrd">="200"</span> <span class="attr">duration</span><span class="kwrd">="0.3"</span> <span class="attr">unit</span><span class="kwrd">="px"</span><span class="kwrd">/&gt;</span>
                <span class="kwrd">&lt;/</span><span class="html">OnClick</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;/</span><span class="html">Animations</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">ajaxToolkit:AnimationExtender</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p>This would be the easiest way to&nbsp;attach &nbsp;an animation (&nbsp;ReSize ) to a control&nbsp; ( QueryReply )&nbsp;on an Event ( <span class="html">OnClick </span>) .</p>
<p>When the Div &nbsp;is clicked , the Control "queryReply" is resized to have a height of 100 px and a width of 200px.</p>
<p>2) The "Not So Simple" Ways via javascript</p>
<p><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a) Call the Static PLAY Method &nbsp;of the Animation Framework to Animate the Control .</strong></p>
<blockquote>
<div>
<pre class="csharpcode"><span class="rem">&lt;!--AjaxControlToolkit.Animation.ResizeAnimation.play(target, duration, fps, width, height, unit);--&gt;</span></pre>
<style type="text/css">.csharpcode-wrapper, .csharpcode-wrapper pre {<br />
  background-color: #f4f4f4;<br />
  border: solid 1px gray;<br />
  cursor: text;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  margin: 20px 0px 10px 0px;<br />
  max-height: 200px;<br />
  overflow: auto;<br />
  padding: 4px 4px 4px 4px;<br />
  width: 97.5%;<br />
}<br />
.csharpcode-wrapper pre {<br />
  border-style: none;<br />
  margin: 0px 0px 0px 0px;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
}<br />
.csharpcode, .csharpcode pre, .csharpcode .alt {<br />
  background-color: #f4f4f4;<br />
  border-style: none;<br />
  color: black;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
  width: 100%;<br />
}<br />
.csharpcode pre {<br />
  margin: 0em;<br />
}<br />
.csharpcode .alt {<br />
  background-color: white;<br />
}<br />
.csharpcode .asp {<br />
  background-color: #ffff00;<br />
}<br />
.csharpcode .attr {<br />
  color: #ff0000;<br />
}<br />
.csharpcode .html {<br />
  color: #800000;<br />
}<br />
.csharpcode .kwrd {<br />
  color: #0000ff;<br />
}<br />
.csharpcode .lnum {<br />
  color: #606060;<br />
}<br />
.csharpcode .op {<br />
  color: #0000c0;<br />
}<br />
.csharpcode .preproc {<br />
  color: #cc6633;<br />
}<br />
.csharpcode .rem {<br />
  color: #008000;<br />
}<br />
.csharpcode .str {<br />
  color: #006080;<br />
}<br />
</style>
</div>
<div>
<pre class="csharpcode"><span class="rem">//Play the Animation by calling its static methods</span>
AjaxControlToolkit.Animation.ResizeAnimation.play( $get(<span class="str">"queryReply"</span>) , 0.3 , 25 , 100 , 300 , <span class="str">"px"</span> );
</pre>
<style type="text/css">.csharpcode-wrapper, .csharpcode-wrapper pre {<br />
  background-color: #f4f4f4;<br />
  border: solid 1px gray;<br />
  cursor: text;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  margin: 20px 0px 10px 0px;<br />
  max-height: 200px;<br />
  overflow: auto;<br />
  padding: 4px 4px 4px 4px;<br />
  width: 97.5%;<br />
}<br />
.csharpcode-wrapper pre {<br />
  border-style: none;<br />
  margin: 0px 0px 0px 0px;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
}<br />
.csharpcode, .csharpcode pre, .csharpcode .alt {<br />
  background-color: #f4f4f4;<br />
  border-style: none;<br />
  color: black;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
  width: 100%;<br />
}<br />
.csharpcode pre {<br />
  margin: 0em;<br />
}<br />
.csharpcode .alt {<br />
  background-color: white;<br />
}<br />
.csharpcode .asp {<br />
  background-color: #ffff00;<br />
}<br />
.csharpcode .attr {<br />
  color: #ff0000;<br />
}<br />
.csharpcode .html {<br />
  color: #800000;<br />
}<br />
.csharpcode .kwrd {<br />
  color: #0000ff;<br />
}<br />
.csharpcode .lnum {<br />
  color: #606060;<br />
}<br />
.csharpcode .op {<br />
  color: #0000c0;<br />
}<br />
.csharpcode .preproc {<br />
  color: #cc6633;<br />
}<br />
.csharpcode .rem {<br />
  color: #008000;<br />
}<br />
.csharpcode .str {<br />
  color: #006080;<br />
}<br />
</style>
</div>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p>The Animation will play immediately after this line.</p>
<p><strong>b) Create an Instance of the Client-Side Animation Extenders to Animate the Control .</strong></p>
<pre class="csharpcode"><span class="rem">&lt;!--Constructor: new AjaxControlToolkit.Animation.ResizeAnimation(target, duration, fps, width, height, unit); --&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<div>
<pre class="csharpcode"><span class="rem">//Create an instance of the ReSize Animation</span>
<span class="kwrd">var</span> resizeAnimation = <span class="kwrd">new</span> AjaxControlToolkit.Animation.ResizeAnimation( $get(<span class="str">"queryReply"</span>) , 0.3 , 25 , 100 , 300 , <span class="str">"px"</span>);
<span class="rem">//Play the Animation just created</span>
resizeAnimation.play(); </pre>
</div>
<div><strong>c) Selectively playing the Animation Already defined in Markup for an AnimationExtender on the Page.</strong></div>
<div><strong></strong>&nbsp;</div>
<div>Lets say that you already have animation defined on your page in markup and you want to trigger the animation using Script .</div>
<div>You achieve this by :</div>
<div>&nbsp;&nbsp; 1) Get a handle to the AnimationExtender's Behavior by using the "$find" method.</div>
<pre class="csharpcode"><span class="rem">//Get a handle to the Animation Behavior</span>
<span class="kwrd">var</span> behaveYourself       = $find(<span class="str">"animateReplyPanesBehavior"</span>);
</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<div>&nbsp;&nbsp; 2) Based on where the animation is defined ( Onload , OnClick , OnHover&nbsp;, whatever&nbsp;), get a handle to the child Animation Definition.&nbsp;&nbsp;&nbsp; </div>
<pre class="csharpcode"><span class="rem">//Get the Animation to be played onClick of the TargetControl </span>
<span class="kwrd">var</span> onClickAnimation     = behaveYourself.get_OnClickBehavior();
<span class="rem">//Get the Animation to be played onLoad of the TargetControl </span>
<span class="kwrd">var</span> onLoadAnimation     = behaveYourself.get_OnLoadBehavior();
<span class="rem">//Get the Animation to be played onHover of the TargetControl </span>
<span class="kwrd">var</span> onHoverAnimation     = behaveYourself.get_OnHoverBehavior();</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<div>&nbsp;&nbsp; 3) Call the "Play" method on the&nbsp; required Animations Definition.</div>
<div>&nbsp;</div>
<pre class="csharpcode"><span class="rem">//Play the Animation defined  onClick of the TargetControl </span>
onClickAnimation.play();
<span class="rem">//Play the Animation defined  onLoad of the TargetControl </span>
onLoadAnimation.play();
<span class="rem">//Play the Animation defined  onHover of the TargetControl </span>
onHoverAnimation.play();</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<div>&nbsp;</div>
<style type="text/css">.csharpcode-wrapper, .csharpcode-wrapper pre {<br />
  background-color: #f4f4f4;<br />
  border: solid 1px gray;<br />
  cursor: text;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  margin: 20px 0px 10px 0px;<br />
  max-height: 200px;<br />
  overflow: auto;<br />
  padding: 4px 4px 4px 4px;<br />
  width: 97.5%;<br />
}<br />
.csharpcode-wrapper pre {<br />
  border-style: none;<br />
  margin: 0px 0px 0px 0px;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
}<br />
.csharpcode, .csharpcode pre, .csharpcode .alt {<br />
  background-color: #f4f4f4;<br />
  border-style: none;<br />
  color: black;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
  width: 100%;<br />
}<br />
.csharpcode pre {<br />
  margin: 0em;<br />
}<br />
.csharpcode .alt {<br />
  background-color: white;<br />
}<br />
.csharpcode .asp {<br />
  background-color: #ffff00;<br />
}<br />
.csharpcode .attr {<br />
  color: #ff0000;<br />
}<br />
.csharpcode .html {<br />
  color: #800000;<br />
}<br />
.csharpcode .kwrd {<br />
  color: #0000ff;<br />
}<br />
.csharpcode .lnum {<br />
  color: #606060;<br />
}<br />
.csharpcode .op {<br />
  color: #0000c0;<br />
}<br />
.csharpcode .preproc {<br />
  color: #cc6633;<br />
}<br />
.csharpcode .rem {<br />
  color: #008000;<br />
}<br />
.csharpcode .str {<br />
  color: #006080;<br />
}<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p><strong>d) Set the JSON String for an existing Animation Extender </strong></p>
<p>Once you declare the Markup as above, you can access the animations that are assigned to the Extender by using the "get_&lt;Event&gt;" Methods on the Behavior .</p>
<p>EX:</p>
<div>
<pre class="csharpcode"><span class="rem">//Get a handle to the Animation Behavior</span>
<span class="kwrd">var</span> behaveYourself       = $find(<span class="str">"animateReplyPanesBehavior"</span>);
<span class="rem">//Get the Animation to be played onClick of the TargetControl </span>
<span class="kwrd">var</span> onClickAnimation     = behaveYourself.get_OnClickBehavior();</pre>
<p>&nbsp;</p></div>
</blockquote>
<blockquote><pre class="csharpcode">Once you have the respective Animation Behavior , you can use the "set_&lt;EVENT&gt;" method to set the Animation JSON String .</pre>
<pre class="csharpcode">The Json String is constucted like this :</pre>
<pre class="csharpcode">"{
     "AnimationName":"ReSize",
     "Height":"100px",</pre>
<pre class="csharpcode">     "width":"200px",
     "unit":"px",
     "duration":"0.3",
     "AnimationTarget":"queryReply",
     "AnimationChildren":[]
 }"</pre>
<pre class="csharpcode">The AnimationName is the Name of the Animation that you want run .</pre>
<pre class="csharpcode">The AnimationChildren is supposed to be an array of child animations .</pre>
<pre class="csharpcode">The ReSize animation cannot have Child Animations, so the array is empty.</pre>
<pre class="csharpcode">So, once you have the JSON String, we use the "Set_&lt;Event&gt;" function to set the JSON property of the animation.</pre>
<div>
<pre class="csharpcode"><span class="rem">//Construct the JSON String</span>
<span class="kwrd">var</span> jsonAnimationString =<span class="str">"{\"AnimationName\":\"ReSize\",\"Height\":\"100px\", "</span>+
<span class="str">"\"Width\":\"200\",\"unit\":\"px\",\"duration\":\"0.1"</span> +
<span class="str">"\",\"AnimationTarget\":\"queryReply\",\"AnimationChildren\":[]}"</span>;
<span class="rem">//Set the JSON of the AnimationExtender to be the JSON String</span>
behaveYourself.set_OnClick( jsonAnimationString );
<span class="rem">//Play the Animation</span>
onClickAnimation.play();</pre>
<style type="text/css">.csharpcode-wrapper, .csharpcode-wrapper pre {<br />
  background-color: #f4f4f4;<br />
  border: solid 1px gray;<br />
  cursor: text;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  margin: 20px 0px 10px 0px;<br />
  max-height: 200px;<br />
  overflow: auto;<br />
  padding: 4px 4px 4px 4px;<br />
  width: 97.5%;<br />
}<br />
.csharpcode-wrapper pre {<br />
  border-style: none;<br />
  margin: 0px 0px 0px 0px;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
}<br />
.csharpcode, .csharpcode pre, .csharpcode .alt {<br />
  background-color: #f4f4f4;<br />
  border-style: none;<br />
  color: black;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
  width: 100%;<br />
}<br />
.csharpcode pre {<br />
  margin: 0em;<br />
}<br />
.csharpcode .alt {<br />
  background-color: white;<br />
}<br />
.csharpcode .asp {<br />
  background-color: #ffff00;<br />
}<br />
.csharpcode .attr {<br />
  color: #ff0000;<br />
}<br />
.csharpcode .html {<br />
  color: #800000;<br />
}<br />
.csharpcode .kwrd {<br />
  color: #0000ff;<br />
}<br />
.csharpcode .lnum {<br />
  color: #606060;<br />
}<br />
.csharpcode .op {<br />
  color: #0000c0;<br />
}<br />
.csharpcode .preproc {<br />
  color: #cc6633;<br />
}<br />
.csharpcode .rem {<br />
  color: #008000;<br />
}<br />
.csharpcode .str {<br />
  color: #006080;<br />
}<br />
</style>
</div>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
</blockquote>
<p>&nbsp;</p>
<p><strong><u>Complete Example :</u></strong></p>
<p>&nbsp;</p>
<pre class="csharpcode"><span class="asp">&lt;%@ Register Assembly="AjaxControlToolkit" Namespace="AjaxControlToolkit" TagPrefix="ajaxToolkit" %&gt;</span>
<span class="kwrd">&lt;!</span><span class="html">DOCTYPE</span> <span class="attr">html</span> <span class="attr">PUBLIC</span> <span class="kwrd">"-//W3C//DTD XHTML 1.0 Transitional//EN"</span> <span class="kwrd">"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">html</span> <span class="attr">xmlns</span><span class="kwrd">="http://www.w3.org/1999/xhtml"</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">head</span> <span class="attr">runat</span><span class="kwrd">="server"</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">title</span><span class="kwrd">&gt;</span>Ways to Call Animations<span class="kwrd">&lt;/</span><span class="html">title</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">head</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">body</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">form</span> <span class="attr">id</span><span class="kwrd">="frmAnimations"</span> <span class="attr">runat</span><span class="kwrd">="server"</span><span class="kwrd">&gt;</span>

        <span class="kwrd">&lt;</span><span class="html">script</span> <span class="attr">language</span><span class="kwrd">="javascript"</span><span class="kwrd">&gt;</span>

            <span class="kwrd">function</span> callStaticMethods(){
            <span class="rem">//Play the Animation by calling its static methods</span>
            AjaxControlToolkit.Animation.ResizeAnimation.play( $get(<span class="str">"queryReply"</span>) , 0.2 , 45 , 200 , 100 , <span class="str">"px"</span> );
            }

            <span class="kwrd">function</span> createInstanceAndPlay(){
            <span class="rem">//Create an instance of the ReSize Animation</span>
            <span class="kwrd">var</span> resizeAnimation = <span class="kwrd">new</span> AjaxControlToolkit.Animation.ResizeAnimation( $get(<span class="str">"queryReply"</span>) , 0.2 , 45 , 200 , 100 , <span class="str">"px"</span>);
            <span class="rem">//Play the Animation just created</span>
            resizeAnimation.play();
            }

            <span class="kwrd">function</span> SetJSONStringThenPlay(){
            <span class="rem">//Get a handle to the Animation Behavior</span>
            <span class="kwrd">var</span> behaveYourself       = $find(<span class="str">"animateReplyPanesBehavior"</span>);
            <span class="rem">//Get the Animation to be played onClick of the TargetControl </span>
            <span class="kwrd">var</span> onClickAnimation     = behaveYourself.get_OnClickBehavior();
            <span class="rem">//Construct the JSON String</span>
            <span class="kwrd">var</span> jsonAnimationString =<span class="str">"{\"AnimationName\":\"ReSize\",\"Height\":\"100px\", "</span>+
            <span class="str">"\"Width\":\"200\",\"unit\":\"px\",\"duration\":\"0.1"</span> +
            <span class="str">"\",\"AnimationTarget\":\"queryReply\",\"AnimationChildren\":[]}"</span>;
            <span class="rem">//Set the JSON of the AnimationExtender to be the JSON String</span>
            behaveYourself.set_OnClick( jsonAnimationString );
            <span class="rem">//Play the Animation</span>
            onClickAnimation.play();
            }

        <span class="kwrd">&lt;/</span><span class="html">script</span><span class="kwrd">&gt;</span>

        <span class="kwrd">&lt;</span><span class="html">input</span> <span class="attr">type</span><span class="kwrd">="button"</span> <span class="attr">value</span><span class="kwrd">="Call Static Play Method"</span> <span class="attr">onclick</span><span class="kwrd">="callStaticMethods();"</span> <span class="kwrd">/&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">input</span> <span class="attr">type</span><span class="kwrd">="button"</span> <span class="attr">value</span><span class="kwrd">="Create Instance And Play"</span> <span class="attr">onclick</span><span class="kwrd">="createInstanceAndPlay();"</span> <span class="kwrd">/&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">input</span> <span class="attr">type</span><span class="kwrd">="button"</span> <span class="attr">value</span><span class="kwrd">="Set JSON String then Play"</span> <span class="attr">onclick</span><span class="kwrd">="SetJSONStringThenPlay();"</span> <span class="kwrd">/&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">id</span><span class="kwrd">="queryReply"</span> <span class="attr">style</span><span class="kwrd">="background-color: #ffcc00; position: absolute;
            top: 100px; left: 100px; height: 300px; width: 300px"</span><span class="kwrd">&gt;</span>
            Click me to resize me ( Uses Markup )
        <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">asp:ScriptManager</span> <span class="attr">ID</span><span class="kwrd">="ScriptManager1"</span> <span class="attr">runat</span><span class="kwrd">="server"</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;/</span><span class="html">asp:ScriptManager</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">ajaxToolkit:AnimationExtender</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">ID</span><span class="kwrd">="animateReplyPanes"</span> <span class="attr">TargetControlID</span><span class="kwrd">="queryReply"</span>
            <span class="attr">BehaviorID</span><span class="kwrd">="animateReplyPanesBehavior"</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">Animations</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;</span><span class="html">OnClick</span><span class="kwrd">&gt;</span>
                    <span class="kwrd">&lt;</span><span class="html">Resize</span> <span class="attr">height</span><span class="kwrd">="100"</span> <span class="attr">width</span><span class="kwrd">="200"</span> <span class="attr">duration</span> <span class="kwrd">="0.2"</span> <span class="attr">fps</span><span class="kwrd">="45"</span> <span class="attr">unit</span><span class="kwrd">="px"</span><span class="kwrd">&gt;&lt;/</span><span class="html">Resize</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;/</span><span class="html">OnClick</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;/</span><span class="html">Animations</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;/</span><span class="html">ajaxToolkit:AnimationExtender</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;/</span><span class="html">form</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">body</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">html</span><span class="kwrd">&gt;</span>
</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p>Hope I helped someone out there looking For this information .</p>
<p>Well, Happy Coding !!</p>

      </div>

      <a href="/ms-ajax-animationextender-how-many-ways-do-i-play-thee-updated/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/howto-customize-rendering-of-autocompleteextender-1/">HowTo : Customize Rendering of AutoCompleteExtender 1</a></h1>

      <div class="entry">
        <p><strong><u>Registering your own handlers when Items in the SearchResults are Selected</u></strong></p>
<p>Hi,</p>
<p>Quite a few people have a list of changes that they want made to the AutoCompleteExtender , and the asp.net Ajax Team is working quite dilligently to solving most of these </p>
<p>in the next toolkit release .</p>
<p>I will tackle a few of the issues for those who dont want to wait until the next toolkit release.</p>
<ol>
<li>Registering your own handlers when Items in the SearchResults are Selected.  </li>
<li>Specifying your own template for how the data should be displayed.</li>
</ol>
<p>We will discusss Point #2 in My Next&nbsp; Blog post .</p>
<p>We will achieve these functionalities by modifying the source of the AjaxControlToolkit for the File "AutoCompleteBehavior.js".</p>
<p><strong><u>1.Registering your own handlers when Items in the SearchResults are Selected.</u></strong></p>
<p>To achieve this , we will have to add/modify certain scripts.</p>
<p>&nbsp;Lets look at the changes now .</p>
<p>1. Add a member to the class called "<strong>customClickHandler</strong>" , which will store the Event handler to be called when an item in the list is selected.</p>
<div>
<pre class="csharpcode">AjaxControlToolkit.AutoCompleteBehavior.initializeBase(<span class="kwrd">this</span>, [element]);
Blah , blah , blah , existing declarations
<span class="kwrd">this</span>._customClickHandler = <span class="kwrd">null</span>;
}
</pre>
<style type="text/css">.csharpcode-wrapper, .csharpcode-wrapper pre {<br />
  background-color: #f4f4f4;<br />
  border: solid 1px gray;<br />
  cursor: text;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  margin: 20px 0px 10px 0px;<br />
  max-height: 200px;<br />
  overflow: auto;<br />
  padding: 4px 4px 4px 4px;<br />
  width: 97.5%;<br />
}<br />
.csharpcode-wrapper pre {<br />
  border-style: none;<br />
  margin: 0px 0px 0px 0px;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
}<br />
.csharpcode, .csharpcode pre, .csharpcode .alt {<br />
  background-color: #f4f4f4;<br />
  border-style: none;<br />
  color: black;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
  width: 100%;<br />
}<br />
.csharpcode pre {<br />
  margin: 0em;<br />
}<br />
.csharpcode .alt {<br />
  background-color: white;<br />
}<br />
.csharpcode .asp {<br />
  background-color: #ffff00;<br />
}<br />
.csharpcode .attr {<br />
  color: #ff0000;<br />
}<br />
.csharpcode .html {<br />
  color: #800000;<br />
}<br />
.csharpcode .kwrd {<br />
  color: #0000ff;<br />
}<br />
.csharpcode .lnum {<br />
  color: #606060;<br />
}<br />
.csharpcode .op {<br />
  color: #0000c0;<br />
}<br />
.csharpcode .preproc {<br />
  color: #cc6633;<br />
}<br />
.csharpcode .rem {<br />
  color: #008000;<br />
}<br />
.csharpcode .str {<br />
  color: #006080;<br />
}<br />
</style>
</div>
<p>2. Provide a way for Users to specify the Eventhandler , add a function called <strong>"set_ClickCallBack".</strong></p>
<div>
<pre class="csharpcode">AjaxControlToolkit.AutoCompleteBehavior.prototype = {
blah,blah, existing functions
set_ClickCallBack:<span class="kwrd">function</span>(evthandler){
    <span class="kwrd">this</span>._customClickHandler = Function.createDelegate(<span class="kwrd">this</span>, evthandler);
   }
}</pre>
<style type="text/css">.csharpcode-wrapper, .csharpcode-wrapper pre {<br />
  background-color: #f4f4f4;<br />
  border: solid 1px gray;<br />
  cursor: text;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  margin: 20px 0px 10px 0px;<br />
  max-height: 200px;<br />
  overflow: auto;<br />
  padding: 4px 4px 4px 4px;<br />
  width: 97.5%;<br />
}<br />
.csharpcode-wrapper pre {<br />
  border-style: none;<br />
  margin: 0px 0px 0px 0px;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
}<br />
.csharpcode, .csharpcode pre, .csharpcode .alt {<br />
  background-color: #f4f4f4;<br />
  border-style: none;<br />
  color: black;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
  width: 100%;<br />
}<br />
.csharpcode pre {<br />
  margin: 0em;<br />
}<br />
.csharpcode .alt {<br />
  background-color: white;<br />
}<br />
.csharpcode .asp {<br />
  background-color: #ffff00;<br />
}<br />
.csharpcode .attr {<br />
  color: #ff0000;<br />
}<br />
.csharpcode .html {<br />
  color: #800000;<br />
}<br />
.csharpcode .kwrd {<br />
  color: #0000ff;<br />
}<br />
.csharpcode .lnum {<br />
  color: #606060;<br />
}<br />
.csharpcode .op {<br />
  color: #0000c0;<br />
}<br />
.csharpcode .preproc {<br />
  color: #cc6633;<br />
}<br />
.csharpcode .rem {<br />
  color: #008000;<br />
}<br />
.csharpcode .str {<br />
  color: #006080;<br />
}<br />
</style>
</div>
<p>3.Wherever the&nbsp; extender's Default onclick hanlder is called, replace with this handler.</p>
<p><strong>_onListMouseDown</strong></p>
<div>
<pre class="csharpcode">_onListMouseDown: <span class="kwrd">function</span>(ev) {
   <span class="kwrd">if</span> (ev.target !== <span class="kwrd">this</span>._completionListElement) {
       <span class="kwrd">if</span>( <span class="kwrd">this</span>._customClickHandler != <span class="kwrd">null</span> ){
             <span class="kwrd">this</span>._customClickHandler( ev.target );
       }
       <span class="kwrd">else</span>{
           <span class="kwrd">this</span>._setText(ev.target.firstChild.nodeValue);
           }
       }
   },</pre>
<style type="text/css">.csharpcode-wrapper, .csharpcode-wrapper pre {<br />
  background-color: #f4f4f4;<br />
  border: solid 1px gray;<br />
  cursor: text;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  margin: 20px 0px 10px 0px;<br />
  max-height: 200px;<br />
  overflow: auto;<br />
  padding: 4px 4px 4px 4px;<br />
  width: 97.5%;<br />
}<br />
.csharpcode-wrapper pre {<br />
  border-style: none;<br />
  margin: 0px 0px 0px 0px;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
}<br />
.csharpcode, .csharpcode pre, .csharpcode .alt {<br />
  background-color: #f4f4f4;<br />
  border-style: none;<br />
  color: black;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
  width: 100%;<br />
}<br />
.csharpcode pre {<br />
  margin: 0em;<br />
}<br />
.csharpcode .alt {<br />
  background-color: white;<br />
}<br />
.csharpcode .asp {<br />
  background-color: #ffff00;<br />
}<br />
.csharpcode .attr {<br />
  color: #ff0000;<br />
}<br />
.csharpcode .html {<br />
  color: #800000;<br />
}<br />
.csharpcode .kwrd {<br />
  color: #0000ff;<br />
}<br />
.csharpcode .lnum {<br />
  color: #606060;<br />
}<br />
.csharpcode .op {<br />
  color: #0000c0;<br />
}<br />
.csharpcode .preproc {<br />
  color: #cc6633;<br />
}<br />
.csharpcode .rem {<br />
  color: #008000;<br />
}<br />
.csharpcode .str {<br />
  color: #006080;<br />
}<br />
</style>
</div>
<p><strong>_onKeyDown</strong></p>
<div>
<pre class="csharpcode">_onKeyDown: <span class="kwrd">function</span>(ev) {
        <span class="kwrd">var</span> k = ev.keyCode ? ev.keyCode : ev.rawEvent.keyCode;
        <span class="kwrd">if</span> (k === Sys.UI.Key.esc) {
            <span class="kwrd">this</span>._hideCompletionList();
            ev.preventDefault();
        }
        <span class="kwrd">else</span> <span class="kwrd">if</span> (k === Sys.UI.Key.up) {
            <span class="kwrd">if</span> (<span class="kwrd">this</span>._selectIndex &gt; 0) {
                <span class="kwrd">this</span>._selectIndex--;
                <span class="kwrd">this</span>._highlightItem(<span class="kwrd">this</span>._completionListElement.childNodes[<span class="kwrd">this</span>._selectIndex]);
                ev.preventDefault();
            }
        }
        <span class="kwrd">else</span> <span class="kwrd">if</span> (k === Sys.UI.Key.down) {
            <span class="kwrd">if</span> (<span class="kwrd">this</span>._selectIndex &lt; (<span class="kwrd">this</span>._completionListElement.childNodes.length - 1)) {
                <span class="kwrd">this</span>._selectIndex++;
                <span class="kwrd">this</span>._highlightItem(<span class="kwrd">this</span>._completionListElement.childNodes[<span class="kwrd">this</span>._selectIndex]);
                ev.preventDefault();
            }
        }
        <span class="kwrd">else</span> <span class="kwrd">if</span> (k === Sys.UI.Key.enter) {
            <span class="kwrd">if</span> (<span class="kwrd">this</span>._selectIndex !== -1) {
            <span class="rem">//Call Custom Click Handler if registered</span>
            <span class="kwrd">if</span>( <span class="kwrd">this</span>._customClickHandler == <span class="kwrd">null</span> ){
                <span class="kwrd">this</span>._setText(<span class="kwrd">this</span>._completionListElement.childNodes[<span class="kwrd">this</span>._selectIndex].firstChild.nodeValue);}
                <span class="kwrd">else</span> {
                <span class="kwrd">this</span>._customClickHandler( <span class="kwrd">this</span>._completionListElement );
                }

                ev.preventDefault();
            }
        }

        <span class="kwrd">if</span> (k !== Sys.UI.Key.tab) {
            <span class="kwrd">this</span>._timer.set_enabled(<span class="kwrd">true</span>);
        }
    },</pre>
<style type="text/css">.csharpcode-wrapper, .csharpcode-wrapper pre {<br />
  background-color: #f4f4f4;<br />
  border: solid 1px gray;<br />
  cursor: text;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  margin: 20px 0px 10px 0px;<br />
  max-height: 200px;<br />
  overflow: auto;<br />
  padding: 4px 4px 4px 4px;<br />
  width: 97.5%;<br />
}<br />
.csharpcode-wrapper pre {<br />
  border-style: none;<br />
  margin: 0px 0px 0px 0px;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
}<br />
.csharpcode, .csharpcode pre, .csharpcode .alt {<br />
  background-color: #f4f4f4;<br />
  border-style: none;<br />
  color: black;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
  width: 100%;<br />
}<br />
.csharpcode pre {<br />
  margin: 0em;<br />
}<br />
.csharpcode .alt {<br />
  background-color: white;<br />
}<br />
.csharpcode .asp {<br />
  background-color: #ffff00;<br />
}<br />
.csharpcode .attr {<br />
  color: #ff0000;<br />
}<br />
.csharpcode .html {<br />
  color: #800000;<br />
}<br />
.csharpcode .kwrd {<br />
  color: #0000ff;<br />
}<br />
.csharpcode .lnum {<br />
  color: #606060;<br />
}<br />
.csharpcode .op {<br />
  color: #0000c0;<br />
}<br />
.csharpcode .preproc {<br />
  color: #cc6633;<br />
}<br />
.csharpcode .rem {<br />
  color: #008000;<br />
}<br />
.csharpcode .str {<br />
  color: #006080;<br />
}<br />
</style>
</div>
<p>&nbsp;</p>
<p><strong><u>How do you use this after modification in your applications ?</u></strong></p>
<p>If the behaviorID of the AutoCompleteExtender is "customAutoComplete".</p>
<p>The Code to hookup the Custom Click handler is :</p>
<div>
<pre class="csharpcode"><span class="kwrd">function</span>  pageLoad(){
$find(<span class="str">"customAutoComplete"</span>).set_ClickCallBack( customClickhandler );
}</pre>
</div>
<p>customClickHandler is a javascript Function .</p>
<div>
<pre class="csharpcode"><span class="kwrd">function</span> customClickhandler( clickedElement ){
<span class="rem">//Your Code here</span>
}
</pre>
</div>

      </div>

      <a href="/howto-customize-rendering-of-autocompleteextender-1/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/expirements-with-ms-ajax-1-plot-a-path-and-follow-it/">Expirements with Ms AJAX 1 : Plot a Path and follow it</a></h1>

      <div class="entry">
        </p>
<div class="wlWriterEditableSmartContent" id="d49da610-fc34-4988-88d9-3c0a788fd878:e1993fb9-3c44-454f-802d-f718bef150d4" contenteditable="false" style="padding-right: 0px; display: inline; padding-left: 0px; padding-bottom: 0px; margin: 0px; padding-top: 0px"><embed name="msn_soapbox" pluginspage="http://macromedia.com/go/getflashplayer" src="http://images.soapbox.msn.com/flash/soapbox1_1.swf" width="412" height="362" type="application/x-shockwave-flash" quality="high" wmode="transparent" flashvars="c=v&amp;v=62373c16-4fc1-49f1-9847-edb2c429952a"></embed></div></p>
<p>&nbsp;</p>
<p>While working on some documentation and presentations for MS AJAX Animation ( wait for it , its gonna rock !!&nbsp;) , I made what you see in the demo video.</p>
<p>Its basic premise is this :</p>
<ol>
<li>Allow the User to plot points on a plane  </li>
<li>Then trigger an animation that goes over all the points&nbsp; and stops</li>
</ol>
<p>Why do this ?</p>
<p>No&nbsp;Perceptible use , pure fun factor&nbsp;.</p>
<p>I just though that it'd be cool to control an animation by clicking on points and asking an element to go to those points .</p>
<p>Well, here you have it .</p>
<p>Once the demo is hosted, you can see the same as an online app.</p>
<p>Take a look at a screenshot .</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/1528719273ab_C948/PlotaPath%5B4%5D.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/1528719273ab_C948/PlotaPath%5B4%5D.jpg" atomicselection="true"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="400" src="/assets/PlotaPath_thumb%5B2%5D.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/1528719273ab_C948/PlotaPath_thumb%5B2%5D.jpg" width="516" border="0" /></a> </p>
<p>Lets see how we can achieve this ..</p>
<p>We need the following functionality </p>
<ol>
<li>&nbsp;&nbsp; Allow the User to plot an arbitrary number of points on a plane  </li>
<li>&nbsp; Create an animation that moves to all the points.&nbsp;</li>
</ol>
<p><strong><u>1.Allow the User to plot an arbitrary number of points on a plane </u></strong></p>
<p>&nbsp;The "Plane"&nbsp; would be a DIV element on the page. </p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">id</span><span class="kwrd">="pathPallette"</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p>&nbsp;The user plots a point on the plane by clicking on the plane.</p>
<p>We will have a global collection of points called pointsInpath which will be a javaScript array .</p>
<pre class="csharpcode"><span class="kwrd">var</span> pointsInPath = <span class="kwrd">new</span> Array();</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p>We can attach an eventhandler to the Click event of the Div by using the $addHandler function of the Ms AJAX framework&nbsp; explained <a href="http://ajax.asp.net/docs/ClientReference/Global/AddHandlerShortcutMethod.aspx">Here</a>&nbsp;.</p>
<pre class="csharpcode">Syntax: $addHandler(element, eventName, handler);</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode">$addHandler($get(<span class="str">"pathPallette"</span>),<span class="str">"click"</span>,markPoint);</pre>
<pre class="csharpcode">We will now define the function "markPoint".</pre>
<pre class="csharpcode"></pre>
<div>
<div class="csharpcode">
<pre class="alt"><span class="kwrd">function</span> markPoint(eventArg)</pre>
<pre>{</pre>
<pre class="alt">    <span class="kwrd">var</span> evt = window.<span class="kwrd">event</span> || eventArg;   </pre>
<pre>    <span class="kwrd">var</span> xCoOrd = evt.clientX ;</pre>
<pre class="alt">    <span class="kwrd">var</span> yCoOrd = evt.clientY ;</pre>
<pre>    </pre>
<pre class="alt">    Addpoint( xCoOrd , yCoOrd );</pre>
<pre>    createMarker( xCoOrd - $get(<span class="str">"pathPallette"</span>).offsetLeft , yCoOrd - $get(<span class="str">"pathPallette"</span>).offsetTop );</pre>
<pre class="alt">}</pre>
</div>
<style type="text/css">.csharpcode-wrapper, .csharpcode-wrapper pre {<br />
  background-color: #f4f4f4;<br />
  border: solid 1px gray;<br />
  cursor: text;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  margin: 20px 0px 10px 0px;<br />
  max-height: 200px;<br />
  overflow: auto;<br />
  padding: 4px 4px 4px 4px;<br />
  width: 97.5%;<br />
}<br />
.csharpcode-wrapper pre {<br />
  border-style: none;<br />
  margin: 0px 0px 0px 0px;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
}<br />
.csharpcode, .csharpcode pre, .csharpcode .alt {<br />
  background-color: #f4f4f4;<br />
  border-style: none;<br />
  color: black;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
  width: 100%;<br />
}<br />
.csharpcode pre {<br />
  margin: 0em;<br />
}<br />
.csharpcode .alt {<br />
  background-color: white;<br />
}<br />
.csharpcode .asp {<br />
  background-color: #ffff00;<br />
}<br />
.csharpcode .attr {<br />
  color: #ff0000;<br />
}<br />
.csharpcode .html {<br />
  color: #800000;<br />
}<br />
.csharpcode .kwrd {<br />
  color: #0000ff;<br />
}<br />
.csharpcode .lnum {<br />
  color: #606060;<br />
}<br />
.csharpcode .op {<br />
  color: #0000c0;<br />
}<br />
.csharpcode .preproc {<br />
  color: #cc6633;<br />
}<br />
.csharpcode .rem {<br />
  color: #008000;<br />
}<br />
.csharpcode .str {<br />
  color: #006080;<br />
}<br />
</style>
</div>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p>MarkPoint&nbsp; calls 2 functions .</p>
<ol>
<li>AddPoint&nbsp; , to add the point to a collection of points
</li>
<li>Createmarker ,to&nbsp; mark the spot as a point on the plane which will be visited by the Animated element</li>
</ol>
<p><strong><u>AddPoint</u></strong></p>
<div>
<div class="csharpcode">
<pre class="alt"><span class="kwrd">function</span> Addpoint( xCoOrd,yCoOrd)</pre>
<pre>{</pre>
<pre class="alt">    anyMorePoints= <span class="kwrd">true</span>;</pre>
<pre>    pointsInPath[index++] = <span class="str">"{\"X\" : \""</span>+xCoOrd +<span class="str">"\",\"Y\":\""</span>+yCoOrd +<span class="str">"\"}"</span>;</pre>
<pre class="alt">}</pre>
</div>
<style type="text/css">.csharpcode-wrapper, .csharpcode-wrapper pre {<br />
  background-color: #f4f4f4;<br />
  border: solid 1px gray;<br />
  cursor: text;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  margin: 20px 0px 10px 0px;<br />
  max-height: 200px;<br />
  overflow: auto;<br />
  padding: 4px 4px 4px 4px;<br />
  width: 97.5%;<br />
}<br />
.csharpcode-wrapper pre {<br />
  border-style: none;<br />
  margin: 0px 0px 0px 0px;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
}<br />
.csharpcode, .csharpcode pre, .csharpcode .alt {<br />
  background-color: #f4f4f4;<br />
  border-style: none;<br />
  color: black;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
  width: 100%;<br />
}<br />
.csharpcode pre {<br />
  margin: 0em;<br />
}<br />
.csharpcode .alt {<br />
  background-color: white;<br />
}<br />
.csharpcode .asp {<br />
  background-color: #ffff00;<br />
}<br />
.csharpcode .attr {<br />
  color: #ff0000;<br />
}<br />
.csharpcode .html {<br />
  color: #800000;<br />
}<br />
.csharpcode .kwrd {<br />
  color: #0000ff;<br />
}<br />
.csharpcode .lnum {<br />
  color: #606060;<br />
}<br />
.csharpcode .op {<br />
  color: #0000c0;<br />
}<br />
.csharpcode .preproc {<br />
  color: #cc6633;<br />
}<br />
.csharpcode .rem {<br />
  color: #008000;<br />
}<br />
.csharpcode .str {<br />
  color: #006080;<br />
}<br />
</style>
</div>
<p>The AddPoint function recieves the X and Y co-ordinates of the Point in the Element's Path.</p>
<p>Add the Point to the existing points collection.</p>
<p><strong><u>Createmarker </u></strong></p>
<div>
<div class="csharpcode">
<pre class="alt"><span class="kwrd">function</span> createMarker( xCoOrd,yCoOrd )</pre>
<pre>{</pre>
<pre class="alt">    <span class="kwrd">var</span> newmarker = document.createElement(<span class="str">"SPAN"</span>);</pre>
<pre>    newmarker.id = <span class="str">"marker"</span>+markeridCounter;    </pre>
<pre class="alt">    newmarker.className =<span class="str">"white"</span>;</pre>
<pre>    newmarker.innerText = markeridCounter;</pre>
<pre class="alt">    $get(<span class="str">"pathPallette"</span>).appendChild( newmarker );</pre>
<pre>    Sys.UI.DomElement.setLocation( newmarker , xCoOrd , yCoOrd );</pre>
<pre class="alt">    markeridCounter++;</pre>
<pre>    </pre>
<pre class="alt">}</pre>
</div>
<style type="text/css">.csharpcode-wrapper, .csharpcode-wrapper pre {<br />
  background-color: #f4f4f4;<br />
  border: solid 1px gray;<br />
  cursor: text;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  margin: 20px 0px 10px 0px;<br />
  max-height: 200px;<br />
  overflow: auto;<br />
  padding: 4px 4px 4px 4px;<br />
  width: 97.5%;<br />
}<br />
.csharpcode-wrapper pre {<br />
  border-style: none;<br />
  margin: 0px 0px 0px 0px;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
}<br />
.csharpcode, .csharpcode pre, .csharpcode .alt {<br />
  background-color: #f4f4f4;<br />
  border-style: none;<br />
  color: black;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
  width: 100%;<br />
}<br />
.csharpcode pre {<br />
  margin: 0em;<br />
}<br />
.csharpcode .alt {<br />
  background-color: white;<br />
}<br />
.csharpcode .asp {<br />
  background-color: #ffff00;<br />
}<br />
.csharpcode .attr {<br />
  color: #ff0000;<br />
}<br />
.csharpcode .html {<br />
  color: #800000;<br />
}<br />
.csharpcode .kwrd {<br />
  color: #0000ff;<br />
}<br />
.csharpcode .lnum {<br />
  color: #606060;<br />
}<br />
.csharpcode .op {<br />
  color: #0000c0;<br />
}<br />
.csharpcode .preproc {<br />
  color: #cc6633;<br />
}<br />
.csharpcode .rem {<br />
  color: #008000;<br />
}<br />
.csharpcode .str {<br />
  color: #006080;<br />
}<br />
</style>
</div>
<p>This Function creates a &lt;SPAN&gt; element , writes the point # in the span , and positions it in the plane.</p>
<p><strong><u>2.Create an animation that moves to all the points</u></strong></p>
<p>&nbsp;<strong><u>Basic algorithm for this step</u></strong></p>
<ol>
<li>&nbsp;&nbsp; Get the Point to navigate to
</li>
<li>&nbsp;&nbsp; Set the animation to move to the next point
</li>
<li>&nbsp; Play the animation until there are no more points left </li>
</ol>
<p>The Element that will move to all the points will be another div ( "divMovable" )&nbsp;with a background color&nbsp; assigned to it </p>
<div>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">id</span><span class="kwrd">="divMovable"</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">style</span><span class="kwrd">="height: 15px; width: 15px; position: absolute;
          top: 300px; left: 300px; background-color: #ffcc00;"</span><span class="kwrd">&gt;</span>
          <span class="attr">&amp;nbsp;</span>
<span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span></pre>
</div>
<p>The Animation Markup would be to use the Move Animation to move the Element along the points.</p>
<div>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">ajaxToolkit:AnimationExtender</span> <span class="attr">ID</span><span class="kwrd">="AnimationExtender1"</span> <span class="attr">BehaviorID</span><span class="kwrd">="controlledAnimation"</span>
            <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">TargetControlID</span><span class="kwrd">="divMovable"</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">Animations</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;</span><span class="html">OnClick</span><span class="kwrd">&gt;</span>
                     <span class="kwrd">&lt;</span><span class="html">Move</span> <span class="attr">relative</span><span class="kwrd">="false"</span>  <span class="attr">duration</span><span class="kwrd">="0.2"</span> <span class="attr">fps</span><span class="kwrd">="40"</span>
                        <span class="attr">horizontalScript</span> <span class="kwrd">="getX()"</span> <span class="attr">verticalScript</span> <span class="kwrd">="getY()"</span>
                      <span class="attr">AnimationTarget</span><span class="kwrd">="divMovable"</span> <span class="kwrd">/&gt;</span>
                <span class="kwrd">&lt;/</span><span class="html">OnClick</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;/</span><span class="html">Animations</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">ajaxToolkit:AnimationExtender</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode-wrapper, .csharpcode-wrapper pre {<br />
  background-color: #f4f4f4;<br />
  border: solid 1px gray;<br />
  cursor: text;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  margin: 20px 0px 10px 0px;<br />
  max-height: 200px;<br />
  overflow: auto;<br />
  padding: 4px 4px 4px 4px;<br />
  width: 97.5%;<br />
}<br />
.csharpcode-wrapper pre {<br />
  border-style: none;<br />
  margin: 0px 0px 0px 0px;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
}<br />
.csharpcode, .csharpcode pre, .csharpcode .alt {<br />
  background-color: #f4f4f4;<br />
  border-style: none;<br />
  color: black;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
  width: 100%;<br />
}<br />
.csharpcode pre {<br />
  margin: 0em;<br />
}<br />
.csharpcode .alt {<br />
  background-color: white;<br />
}<br />
.csharpcode .asp {<br />
  background-color: #ffff00;<br />
}<br />
.csharpcode .attr {<br />
  color: #ff0000;<br />
}<br />
.csharpcode .html {<br />
  color: #800000;<br />
}<br />
.csharpcode .kwrd {<br />
  color: #0000ff;<br />
}<br />
.csharpcode .lnum {<br />
  color: #606060;<br />
}<br />
.csharpcode .op {<br />
  color: #0000c0;<br />
}<br />
.csharpcode .preproc {<br />
  color: #cc6633;<br />
}<br />
.csharpcode .rem {<br />
  color: #008000;<br />
}<br />
.csharpcode .str {<br />
  color: #006080;<br />
}<br />
</style>
</div>
<p>The MoveAnimation would run only once and would also move to only one point , we need to keep changing the destination Points.</p>
<p>If you notice the horizontalScript ="getX()" verticalScript ="getY()"&nbsp; snippet , the "Script" attribute added to any attribute in the Animation Markup</p>
<p>would cause the expression to be "eval"ed at runtime allowing us to use Expressions to set properties.</p>
<p>So, right , the&nbsp; horizontal (X) co-ordinates&nbsp; would be retrieved from the function getX().</p>
<p>The Vertical (Y) co-ordinates would be retrieved from the function getY().</p>
<p>The&nbsp; next point the element should move to would be represented by&nbsp; "nextPoint".</p>
<p>The Function "setNextPoint()" would set the next point in the path.</p>
<pre class="csharpcode"><span class="kwrd">function</span> getX()
{
    <span class="kwrd">if</span>( nextPoint == <span class="kwrd">null</span>)
    {
        setNextPoint();
    }
    <span class="kwrd">return</span> nextPoint.X;
}</pre>
<p>&nbsp;</p>
<pre class="csharpcode"><p><span class="kwrd">function</span> getY()
{
    <span class="kwrd">return</span> nextPoint.Y;
}
</p><p>&nbsp;</p></pre>
<p>Once we get the next point to move to , the animation should repeat with the new values for X and Y Co-Ordinates.</p>
<p>We do this , by hooking a handler to the Ending event of the Animation.&nbsp;</p>
<div>
<pre class="csharpcode">&lt;script language=<span class="str">"javascript"</span>&gt;
       <span class="kwrd">var</span> OnClickBehavior ;
       <span class="kwrd">function</span> pageLoad()
       {
           OnClickBehavior = $find(<span class="str">"controlledAnimation"</span>).get_OnClickBehavior().get_animation();
           OnClickBehavior.add_ended(continueAnimating);
           $addHandler($get(<span class="str">"pathPallette"</span>),<span class="str">"click"</span>,markPoint);
      }

   &lt;/script&gt;</pre>
</div>
<div>&nbsp;</div>
<div>We can hook eventhandlers to the ending event of the Animation by&nbsp; using the "add_ended" method.</div>
<div>Here , we add the "continueAnimating" function as an eventhandler to the Animation Ending&nbsp; event.</div>
<div>Then , we call the "play" method on the animation just as it ends, to give a seamless&nbsp;feel to the flow as the element moves along different points.</div>
<div>
<pre class="csharpcode"><span class="kwrd">function</span> continueAnimating(){
     setNextPoint();
     <span class="kwrd">if</span>( nextPoint!= <span class="kwrd">null</span>){
        OnClickBehavior.play();
     }
}</pre>
<style type="text/css">.csharpcode-wrapper, .csharpcode-wrapper pre {<br />
  background-color: #f4f4f4;<br />
  border: solid 1px gray;<br />
  cursor: text;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  margin: 20px 0px 10px 0px;<br />
  max-height: 200px;<br />
  overflow: auto;<br />
  padding: 4px 4px 4px 4px;<br />
  width: 97.5%;<br />
}<br />
.csharpcode-wrapper pre {<br />
  border-style: none;<br />
  margin: 0px 0px 0px 0px;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
}<br />
.csharpcode, .csharpcode pre, .csharpcode .alt {<br />
  background-color: #f4f4f4;<br />
  border-style: none;<br />
  color: black;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
  width: 100%;<br />
}<br />
.csharpcode pre {<br />
  margin: 0em;<br />
}<br />
.csharpcode .alt {<br />
  background-color: white;<br />
}<br />
.csharpcode .asp {<br />
  background-color: #ffff00;<br />
}<br />
.csharpcode .attr {<br />
  color: #ff0000;<br />
}<br />
.csharpcode .html {<br />
  color: #800000;<br />
}<br />
.csharpcode .kwrd {<br />
  color: #0000ff;<br />
}<br />
.csharpcode .lnum {<br />
  color: #606060;<br />
}<br />
.csharpcode .op {<br />
  color: #0000c0;<br />
}<br />
.csharpcode .preproc {<br />
  color: #cc6633;<br />
}<br />
.csharpcode .rem {<br />
  color: #008000;<br />
}<br />
.csharpcode .str {<br />
  color: #006080;<br />
}<br />
</style>
</div>
<div>&nbsp;</div>
<div>Trigger the complete animation sequence by calling the "play" method on the OnclickBehavior </div>
<div>
<pre class="csharpcode"><span class="kwrd">function</span> playAnimation()
{
    ResetPoints();
    hideAllmarkers();
    setNextPoint();
    OnClickBehavior.play();
}</pre>
<style type="text/css">.csharpcode-wrapper, .csharpcode-wrapper pre {<br />
  background-color: #f4f4f4;<br />
  border: solid 1px gray;<br />
  cursor: text;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  margin: 20px 0px 10px 0px;<br />
  max-height: 200px;<br />
  overflow: auto;<br />
  padding: 4px 4px 4px 4px;<br />
  width: 97.5%;<br />
}<br />
.csharpcode-wrapper pre {<br />
  border-style: none;<br />
  margin: 0px 0px 0px 0px;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
}<br />
.csharpcode, .csharpcode pre, .csharpcode .alt {<br />
  background-color: #f4f4f4;<br />
  border-style: none;<br />
  color: black;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
  width: 100%;<br />
}<br />
.csharpcode pre {<br />
  margin: 0em;<br />
}<br />
.csharpcode .alt {<br />
  background-color: white;<br />
}<br />
.csharpcode .asp {<br />
  background-color: #ffff00;<br />
}<br />
.csharpcode .attr {<br />
  color: #ff0000;<br />
}<br />
.csharpcode .html {<br />
  color: #800000;<br />
}<br />
.csharpcode .kwrd {<br />
  color: #0000ff;<br />
}<br />
.csharpcode .lnum {<br />
  color: #606060;<br />
}<br />
.csharpcode .op {<br />
  color: #0000c0;<br />
}<br />
.csharpcode .preproc {<br />
  color: #cc6633;<br />
}<br />
.csharpcode .rem {<br />
  color: #008000;<br />
}<br />
.csharpcode .str {<br />
  color: #006080;<br />
}<br />
</style>
</div>
<div>&nbsp;</div>
<div>There you have it , fun and a pretty&nbsp; neat exercise in geometry and also shows you how easy it is to do complex stuff with the MS Ajax Framework.</div>
<style type="text/css">.csharpcode-wrapper, .csharpcode-wrapper pre {<br />
  background-color: #f4f4f4;<br />
  border: solid 1px gray;<br />
  cursor: text;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  margin: 20px 0px 10px 0px;<br />
  max-height: 200px;<br />
  overflow: auto;<br />
  padding: 4px 4px 4px 4px;<br />
  width: 97.5%;<br />
}<br />
.csharpcode-wrapper pre {<br />
  border-style: none;<br />
  margin: 0px 0px 0px 0px;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
}<br />
.csharpcode, .csharpcode pre, .csharpcode .alt {<br />
  background-color: #f4f4f4;<br />
  border-style: none;<br />
  color: black;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
  width: 100%;<br />
}<br />
.csharpcode pre {<br />
  margin: 0em;<br />
}<br />
.csharpcode .alt {<br />
  background-color: white;<br />
}<br />
.csharpcode .asp {<br />
  background-color: #ffff00;<br />
}<br />
.csharpcode .attr {<br />
  color: #ff0000;<br />
}<br />
.csharpcode .html {<br />
  color: #800000;<br />
}<br />
.csharpcode .kwrd {<br />
  color: #0000ff;<br />
}<br />
.csharpcode .lnum {<br />
  color: #606060;<br />
}<br />
.csharpcode .op {<br />
  color: #0000c0;<br />
}<br />
.csharpcode .preproc {<br />
  color: #cc6633;<br />
}<br />
.csharpcode .rem {<br />
  color: #008000;<br />
}<br />
.csharpcode .str {<br />
  color: #006080;<br />
}<br />
</style>

      </div>

      <a href="/expirements-with-ms-ajax-1-plot-a-path-and-follow-it/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/how-to-using-ms-ajax-caseanimation-in-your-applications/">How To : Using MS AJAX CaseAnimation in your applications</a></h1>

      <div class="entry">
        <p>I hang out at the forums a lot .( <a title="http://forums.asp.net/1022/ShowForum.aspx" href="http://forums.asp.net/1022/ShowForum.aspx">http://forums.asp.net/1022/ShowForum.aspx</a>&nbsp;), I&nbsp;go by &nbsp;phanatic.</p>
<p>Looking at a couple of threads let me know that there are no examples of the caseAnimation anywhere :-(</p>
<p>Ok, so I built a simple sample which illustrates the use of a CaseAnimation .</p>
<p><strong><u>See demo here </u></strong></p>
<p><strong><u></u></strong>&nbsp;</p>
<div class="wlWriterSmartContent" id="d49da610-fc34-4988-88d9-3c0a788fd878:7ea9a5f6-314f-455f-9795-a3ab22217d1a" contenteditable="false" style="padding-right: 0px; display: inline; padding-left: 0px; padding-bottom: 0px; margin: 0px; padding-top: 0px"><embed src="http://images.soapbox.msn.com/flash/soapbox1_1.swf" quality="high" width="412" height="362" wmode="transparent" name="msn_soapbox" type="application/x-shockwave-flash" pluginspage="http://macromedia.com/go/getflashplayer" flashvars="c=v&v=e68c5d0a-bd7d-4dbf-87e8-10f427e7303c"></embed></div>
<p>So , here we go ....</p>
<p>1) Add a reference to the AjaxControlToolkit to your page.</p>
<div>
<pre class="csharpcode"><span class="asp">&lt;%@ Register Assembly="AjaxControlToolkit" Namespace="AjaxControlToolkit" TagPrefix="ajaxToolKit" %&gt;</span></pre>
<style type="text/css">.csharpcode-wrapper, .csharpcode-wrapper pre {<br />
  background-color: #f4f4f4;<br />
  border: solid 1px gray;<br />
  cursor: text;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  margin: 20px 0px 10px 0px;<br />
  max-height: 200px;<br />
  overflow: auto;<br />
  padding: 4px 4px 4px 4px;<br />
  width: 97.5%;<br />
}<br />
.csharpcode-wrapper pre {<br />
  border-style: none;<br />
  margin: 0px 0px 0px 0px;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
}<br />
.csharpcode, .csharpcode pre, .csharpcode .alt {<br />
  background-color: #f4f4f4;<br />
  border-style: none;<br />
  color: black;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
  width: 100%;<br />
}<br />
.csharpcode pre {<br />
  margin: 0em;<br />
}<br />
.csharpcode .alt {<br />
  background-color: white;<br />
}<br />
.csharpcode .asp {<br />
  background-color: #ffff00;<br />
}<br />
.csharpcode .attr {<br />
  color: #ff0000;<br />
}<br />
.csharpcode .html {<br />
  color: #800000;<br />
}<br />
.csharpcode .kwrd {<br />
  color: #0000ff;<br />
}<br />
.csharpcode .lnum {<br />
  color: #606060;<br />
}<br />
.csharpcode .op {<br />
  color: #0000c0;<br />
}<br />
.csharpcode .preproc {<br />
  color: #cc6633;<br />
}<br />
.csharpcode .rem {<br />
  color: #008000;<br />
}<br />
.csharpcode .str {<br />
  color: #006080;<br />
}<br />
</style>
</div>
<p>2) Add the AnimationExtender's Markup.</p>
<div>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">ajaxToolKit:AnimationExtender</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">ID</span><span class="kwrd">="animateDiv"</span> <span class="attr">TargetControlID</span><span class="kwrd">="btnAnimate"</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode-wrapper, .csharpcode-wrapper pre {<br />
  background-color: #f4f4f4;<br />
  border: solid 1px gray;<br />
  cursor: text;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  margin: 20px 0px 10px 0px;<br />
  max-height: 200px;<br />
  overflow: auto;<br />
  padding: 4px 4px 4px 4px;<br />
  width: 97.5%;<br />
}<br />
.csharpcode-wrapper pre {<br />
  border-style: none;<br />
  margin: 0px 0px 0px 0px;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
}<br />
.csharpcode, .csharpcode pre, .csharpcode .alt {<br />
  background-color: #f4f4f4;<br />
  border-style: none;<br />
  color: black;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
  width: 100%;<br />
}<br />
.csharpcode pre {<br />
  margin: 0em;<br />
}<br />
.csharpcode .alt {<br />
  background-color: white;<br />
}<br />
.csharpcode .asp {<br />
  background-color: #ffff00;<br />
}<br />
.csharpcode .attr {<br />
  color: #ff0000;<br />
}<br />
.csharpcode .html {<br />
  color: #800000;<br />
}<br />
.csharpcode .kwrd {<br />
  color: #0000ff;<br />
}<br />
.csharpcode .lnum {<br />
  color: #606060;<br />
}<br />
.csharpcode .op {<br />
  color: #0000c0;<br />
}<br />
.csharpcode .preproc {<br />
  color: #cc6633;<br />
}<br />
.csharpcode .rem {<br />
  color: #008000;<br />
}<br />
.csharpcode .str {<br />
  color: #006080;<br />
}<br />
</style>
</div>
<p>3) We will trigger the animation on the Click of a button </p>
<div>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">Animations</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">OnClick</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode-wrapper, .csharpcode-wrapper pre {<br />
  background-color: #f4f4f4;<br />
  border: solid 1px gray;<br />
  cursor: text;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  margin: 20px 0px 10px 0px;<br />
  max-height: 200px;<br />
  overflow: auto;<br />
  padding: 4px 4px 4px 4px;<br />
  width: 97.5%;<br />
}<br />
.csharpcode-wrapper pre {<br />
  border-style: none;<br />
  margin: 0px 0px 0px 0px;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
}<br />
.csharpcode, .csharpcode pre, .csharpcode .alt {<br />
  background-color: #f4f4f4;<br />
  border-style: none;<br />
  color: black;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
  width: 100%;<br />
}<br />
.csharpcode pre {<br />
  margin: 0em;<br />
}<br />
.csharpcode .alt {<br />
  background-color: white;<br />
}<br />
.csharpcode .asp {<br />
  background-color: #ffff00;<br />
}<br />
.csharpcode .attr {<br />
  color: #ff0000;<br />
}<br />
.csharpcode .html {<br />
  color: #800000;<br />
}<br />
.csharpcode .kwrd {<br />
  color: #0000ff;<br />
}<br />
.csharpcode .lnum {<br />
  color: #606060;<br />
}<br />
.csharpcode .op {<br />
  color: #0000c0;<br />
}<br />
.csharpcode .preproc {<br />
  color: #cc6633;<br />
}<br />
.csharpcode .rem {<br />
  color: #008000;<br />
}<br />
.csharpcode .str {<br />
  color: #006080;<br />
}<br />
</style>
</div>
<p>4) The Markup for the Case Animation.</p>
<div>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">Case</span> <span class="attr">SelectScript</span><span class="kwrd">="ReturnAnimationIndexToPlay()"</span> <span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode-wrapper, .csharpcode-wrapper pre {<br />
  background-color: #f4f4f4;<br />
  border: solid 1px gray;<br />
  cursor: text;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  margin: 20px 0px 10px 0px;<br />
  max-height: 200px;<br />
  overflow: auto;<br />
  padding: 4px 4px 4px 4px;<br />
  width: 97.5%;<br />
}<br />
.csharpcode-wrapper pre {<br />
  border-style: none;<br />
  margin: 0px 0px 0px 0px;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
}<br />
.csharpcode, .csharpcode pre, .csharpcode .alt {<br />
  background-color: #f4f4f4;<br />
  border-style: none;<br />
  color: black;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
  width: 100%;<br />
}<br />
.csharpcode pre {<br />
  margin: 0em;<br />
}<br />
.csharpcode .alt {<br />
  background-color: white;<br />
}<br />
.csharpcode .asp {<br />
  background-color: #ffff00;<br />
}<br />
.csharpcode .attr {<br />
  color: #ff0000;<br />
}<br />
.csharpcode .html {<br />
  color: #800000;<br />
}<br />
.csharpcode .kwrd {<br />
  color: #0000ff;<br />
}<br />
.csharpcode .lnum {<br />
  color: #606060;<br />
}<br />
.csharpcode .op {<br />
  color: #0000c0;<br />
}<br />
.csharpcode .preproc {<br />
  color: #cc6633;<br />
}<br />
.csharpcode .rem {<br />
  color: #008000;<br />
}<br />
.csharpcode .str {<br />
  color: #006080;<br />
}<br />
</style>
</div>
<p>The SelectScript is used to return an index of the child animation to play.</p>
<p>The indices are Zero-based.</p>
<p>5) Under the&nbsp; Case Animation , we will put in a couple of child animations .</p>
<div>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">Length</span>  <span class="attr">Property</span><span class="kwrd">="style"</span> <span class="attr">PropertyKey</span><span class="kwrd">="height"</span> <span class="attr">Fps</span><span class="kwrd">="50"</span> <span class="attr">duration</span><span class="kwrd">="0.2"</span> <span class="attr">StartValue</span><span class="kwrd">="400"</span> <span class="attr">EndValue</span><span class="kwrd">="100"</span> <span class="attr">AnimationTarget</span><span class="kwrd">="div1"</span>  <span class="kwrd">&gt;&lt;/</span><span class="html">Length</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">Move</span> <span class="attr">duration</span><span class="kwrd">="0.2"</span> <span class="attr">Horizontal</span><span class="kwrd">="500"</span>  <span class="attr">Vertical</span><span class="kwrd">="300"</span> <span class="attr">Relative</span><span class="kwrd">="false"</span> <span class="attr">AnimationTarget</span><span class="kwrd">="div1"</span> <span class="attr">Unit</span><span class="kwrd">="px"</span><span class="kwrd">&gt;&lt;/</span><span class="html">Move</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">FadeOut</span> <span class="attr">duration</span><span class="kwrd">="0.2"</span>  <span class="attr">MinimumOpacity</span> <span class="kwrd">="0"</span> <span class="attr">MaximumOpacity</span><span class="kwrd">="100"</span> <span class="attr">AnimationTarget</span><span class="kwrd">="div1"</span> <span class="kwrd">&gt;&lt;/</span><span class="html">FadeOut</span><span class="kwrd">&gt;</span>   </pre>
<style type="text/css">.csharpcode-wrapper, .csharpcode-wrapper pre {<br />
  background-color: #f4f4f4;<br />
  border: solid 1px gray;<br />
  cursor: text;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  margin: 20px 0px 10px 0px;<br />
  max-height: 200px;<br />
  overflow: auto;<br />
  padding: 4px 4px 4px 4px;<br />
  width: 97.5%;<br />
}<br />
.csharpcode-wrapper pre {<br />
  border-style: none;<br />
  margin: 0px 0px 0px 0px;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
}<br />
.csharpcode, .csharpcode pre, .csharpcode .alt {<br />
  background-color: #f4f4f4;<br />
  border-style: none;<br />
  color: black;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
  width: 100%;<br />
}<br />
.csharpcode pre {<br />
  margin: 0em;<br />
}<br />
.csharpcode .alt {<br />
  background-color: white;<br />
}<br />
.csharpcode .asp {<br />
  background-color: #ffff00;<br />
}<br />
.csharpcode .attr {<br />
  color: #ff0000;<br />
}<br />
.csharpcode .html {<br />
  color: #800000;<br />
}<br />
.csharpcode .kwrd {<br />
  color: #0000ff;<br />
}<br />
.csharpcode .lnum {<br />
  color: #606060;<br />
}<br />
.csharpcode .op {<br />
  color: #0000c0;<br />
}<br />
.csharpcode .preproc {<br />
  color: #cc6633;<br />
}<br />
.csharpcode .rem {<br />
  color: #008000;<br />
}<br />
.csharpcode .str {<br />
  color: #006080;<br />
}<br />
</style>
</div>
<p>6) End Tags</p>
<p>&nbsp;</p>
<div>
<pre class="csharpcode"><span class="kwrd">&lt;/</span><span class="html">Case</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">OnClick</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">Animations</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">ajaxToolKit:AnimationExtender</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode-wrapper, .csharpcode-wrapper pre {<br />
  background-color: #f4f4f4;<br />
  border: solid 1px gray;<br />
  cursor: text;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  margin: 20px 0px 10px 0px;<br />
  max-height: 200px;<br />
  overflow: auto;<br />
  padding: 4px 4px 4px 4px;<br />
  width: 97.5%;<br />
}<br />
.csharpcode-wrapper pre {<br />
  border-style: none;<br />
  margin: 0px 0px 0px 0px;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
}<br />
.csharpcode, .csharpcode pre, .csharpcode .alt {<br />
  background-color: #f4f4f4;<br />
  border-style: none;<br />
  color: black;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
  width: 100%;<br />
}<br />
.csharpcode pre {<br />
  margin: 0em;<br />
}<br />
.csharpcode .alt {<br />
  background-color: white;<br />
}<br />
.csharpcode .asp {<br />
  background-color: #ffff00;<br />
}<br />
.csharpcode .attr {<br />
  color: #ff0000;<br />
}<br />
.csharpcode .html {<br />
  color: #800000;<br />
}<br />
.csharpcode .kwrd {<br />
  color: #0000ff;<br />
}<br />
.csharpcode .lnum {<br />
  color: #606060;<br />
}<br />
.csharpcode .op {<br />
  color: #0000c0;<br />
}<br />
.csharpcode .preproc {<br />
  color: #cc6633;<br />
}<br />
.csharpcode .rem {<br />
  color: #008000;<br />
}<br />
.csharpcode .str {<br />
  color: #006080;<br />
}<br />
</style>
</div>
<p>&nbsp;</p>
<p>7) The SelectScript Function ,&nbsp; <strong>ReturnAnimationIndexToPlay.</strong></p>
<p><strong></strong>&nbsp;</p>
<div>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">script</span> <span class="attr">language</span><span class="kwrd">="javascript"</span><span class="kwrd">&gt;</span></pre>
<pre class="alt"><span class="lnum">   1:</span> &nbsp;</pre>
<pre><span class="lnum">   2:</span>             <span class="kwrd">var</span> animIndex = -1;</pre>
<pre class="alt"><span class="lnum">   3:</span>             <span class="kwrd">function</span> ReturnAnimationIndexToPlay()</pre>
<pre><span class="lnum">   4:</span>             {</pre>
<pre class="alt"><span class="lnum">   5:</span>                 animIndex++;</pre>
<pre><span class="lnum">   6:</span>                 animIndex = ( animIndex ) % 3;</pre>
<pre class="alt"><span class="lnum">   7:</span>                 <span class="kwrd">return</span> animIndex;</pre>
<pre><span class="lnum">   8:</span>             }</pre>
<pre class="alt"><span class="lnum">   9:</span>         </pre>
<style type="text/css">.csharpcode-wrapper, .csharpcode-wrapper pre {<br />
  background-color: #f4f4f4;<br />
  border: solid 1px gray;<br />
  cursor: text;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  margin: 20px 0px 10px 0px;<br />
  max-height: 200px;<br />
  overflow: auto;<br />
  padding: 4px 4px 4px 4px;<br />
  width: 97.5%;<br />
}<br />
.csharpcode-wrapper pre {<br />
  border-style: none;<br />
  margin: 0px 0px 0px 0px;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
}<br />
.csharpcode, .csharpcode pre, .csharpcode .alt {<br />
  background-color: #f4f4f4;<br />
  border-style: none;<br />
  color: black;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
  width: 100%;<br />
}<br />
.csharpcode pre {<br />
  margin: 0em;<br />
}<br />
.csharpcode .alt {<br />
  background-color: white;<br />
}<br />
.csharpcode .asp {<br />
  background-color: #ffff00;<br />
}<br />
.csharpcode .attr {<br />
  color: #ff0000;<br />
}<br />
.csharpcode .html {<br />
  color: #800000;<br />
}<br />
.csharpcode .kwrd {<br />
  color: #0000ff;<br />
}<br />
.csharpcode .lnum {<br />
  color: #606060;<br />
}<br />
.csharpcode .op {<br />
  color: #0000c0;<br />
}<br />
.csharpcode .preproc {<br />
  color: #cc6633;<br />
}<br />
.csharpcode .rem {<br />
  color: #008000;<br />
}<br />
.csharpcode .str {<br />
  color: #006080;<br />
}<br />
</style>
<p><span class="kwrd">&lt;/</span><span class="html">script</span><span class="kwrd">&gt;</span></p>
<style type="text/css">.csharpcode-wrapper, .csharpcode-wrapper pre {<br />
  background-color: #f4f4f4;<br />
  border: solid 1px gray;<br />
  cursor: text;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  margin: 20px 0px 10px 0px;<br />
  max-height: 200px;<br />
  overflow: auto;<br />
  padding: 4px 4px 4px 4px;<br />
  width: 97.5%;<br />
}<br />
.csharpcode-wrapper pre {<br />
  border-style: none;<br />
  margin: 0px 0px 0px 0px;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
}<br />
.csharpcode, .csharpcode pre, .csharpcode .alt {<br />
  background-color: #f4f4f4;<br />
  border-style: none;<br />
  color: black;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
  width: 100%;<br />
}<br />
.csharpcode pre {<br />
  margin: 0em;<br />
}<br />
.csharpcode .alt {<br />
  background-color: white;<br />
}<br />
.csharpcode .asp {<br />
  background-color: #ffff00;<br />
}<br />
.csharpcode .attr {<br />
  color: #ff0000;<br />
}<br />
.csharpcode .html {<br />
  color: #800000;<br />
}<br />
.csharpcode .kwrd {<br />
  color: #0000ff;<br />
}<br />
.csharpcode .lnum {<br />
  color: #606060;<br />
}<br />
.csharpcode .op {<br />
  color: #0000c0;<br />
}<br />
.csharpcode .preproc {<br />
  color: #cc6633;<br />
}<br />
.csharpcode .rem {<br />
  color: #008000;<br />
}<br />
.csharpcode .str {<br />
  color: #006080;<br />
}<br />
</style>
</div>
<p>&nbsp;</p>
<p><strong><u>Complete Markup .</u></strong></p>
<p><strong><u></u></strong>&nbsp;</p>
<pre class="csharpcode"><span class="asp">&lt;%@ Register Assembly="AjaxControlToolkit" Namespace="AjaxControlToolkit" TagPrefix="ajaxToolKit" %&gt;</span>
<span class="kwrd">&lt;!</span><span class="html">DOCTYPE</span> <span class="attr">html</span> <span class="attr">PUBLIC</span> <span class="kwrd">"-//W3C//DTD XHTML 1.0 Transitional//EN"</span> <span class="kwrd">"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">html</span> <span class="attr">xmlns</span><span class="kwrd">="http://www.w3.org/1999/xhtml"</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">head</span> <span class="attr">runat</span><span class="kwrd">="server"</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">title</span><span class="kwrd">&gt;</span>Case Animation Demo<span class="kwrd">&lt;/</span><span class="html">title</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">link</span> <span class="attr">rel</span><span class="kwrd">="stylesheet"</span> <span class="attr">href</span><span class="kwrd">="../css/defaultStyles.css"</span> <span class="attr">type</span><span class="kwrd">="text/css"</span> <span class="kwrd">/&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">style</span><span class="kwrd">&gt;</span>
        div { position:absolute;}
    <span class="kwrd">&lt;/</span><span class="html">style</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">head</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">body</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">form</span> <span class="attr">id</span><span class="kwrd">="frmCaseAnimation"</span> <span class="attr">runat</span><span class="kwrd">="server"</span><span class="kwrd">&gt;</span>

        <span class="kwrd">&lt;</span><span class="html">script</span> <span class="attr">language</span><span class="kwrd">="javascript"</span><span class="kwrd">&gt;</span>
            <span class="kwrd">var</span> animIndex = -1;
            <span class="kwrd">function</span> ReturnAnimationIndexToPlay()
            {
                animIndex++;
                animIndex = ( animIndex ) % 3;
                <span class="kwrd">return</span> animIndex;
            }
        <span class="kwrd">&lt;/</span><span class="html">script</span><span class="kwrd">&gt;</span>

        <span class="kwrd">&lt;</span><span class="html">asp:ScriptManager</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">ID</span><span class="kwrd">="ScrpManager"</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;/</span><span class="html">asp:ScriptManager</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">asp:Button</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">ID</span><span class="kwrd">="btnAnimate"</span> <span class="attr">OnClientClick</span><span class="kwrd">="return false;"</span> <span class="attr">Text</span><span class="kwrd">="Animate Using Case Animation"</span> <span class="kwrd">/&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">ajaxToolKit:AnimationExtender</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">ID</span><span class="kwrd">="animateDiv"</span> <span class="attr">TargetControlID</span><span class="kwrd">="btnAnimate"</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">Animations</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;</span><span class="html">OnClick</span><span class="kwrd">&gt;</span>
                    <span class="kwrd">&lt;</span><span class="html">Case</span> <span class="attr">SelectScript</span><span class="kwrd">="ReturnAnimationIndexToPlay()"</span> <span class="kwrd">&gt;</span>
                        <span class="kwrd">&lt;</span><span class="html">Length</span>  <span class="attr">Property</span><span class="kwrd">="style"</span> <span class="attr">PropertyKey</span><span class="kwrd">="height"</span> <span class="attr">Fps</span><span class="kwrd">="50"</span> <span class="attr">duration</span><span class="kwrd">="0.2"</span> <span class="attr">StartValue</span><span class="kwrd">="400"</span> <span class="attr">EndValue</span><span class="kwrd">="100"</span> <span class="attr">AnimationTarget</span><span class="kwrd">="div1"</span>  <span class="kwrd">&gt;&lt;/</span><span class="html">Length</span><span class="kwrd">&gt;</span>
                        <span class="kwrd">&lt;</span><span class="html">Move</span> <span class="attr">duration</span><span class="kwrd">="0.2"</span> <span class="attr">Horizontal</span><span class="kwrd">="500"</span>  <span class="attr">Vertical</span><span class="kwrd">="300"</span> <span class="attr">Relative</span><span class="kwrd">="false"</span> <span class="attr">AnimationTarget</span><span class="kwrd">="div1"</span> <span class="attr">Unit</span><span class="kwrd">="px"</span><span class="kwrd">&gt;&lt;/</span><span class="html">Move</span><span class="kwrd">&gt;</span>
                        <span class="kwrd">&lt;</span><span class="html">FadeOut</span> <span class="attr">duration</span><span class="kwrd">="0.2"</span>  <span class="attr">MinimumOpacity</span> <span class="kwrd">="0"</span> <span class="attr">MaximumOpacity</span><span class="kwrd">="100"</span> <span class="attr">AnimationTarget</span><span class="kwrd">="div1"</span> <span class="kwrd">&gt;&lt;/</span><span class="html">FadeOut</span><span class="kwrd">&gt;</span>
                    <span class="kwrd">&lt;/</span><span class="html">Case</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;/</span><span class="html">OnClick</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;/</span><span class="html">Animations</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;/</span><span class="html">ajaxToolKit:AnimationExtender</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">id</span><span class="kwrd">="div1"</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">style</span><span class="kwrd">="display: block; width: 100px; height: 400px;
            position: absolute; background-color: #000000; color: #FFCC00"</span><span class="kwrd">&gt;</span>
            Paragraph One
        <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;/</span><span class="html">form</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">body</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">html</span><span class="kwrd">&gt;</span>
</pre>
<p><style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style></p>
<p>Hope this helps.</p>
<p>Feel free to chime in with questions / comments.</p>

      </div>

      <a href="/how-to-using-ms-ajax-caseanimation-in-your-applications/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/howto-sys-preview-ui-effects-fadeanimation/">HowTo : Sys.Preview.UI.Effects.FadeAnimation</a></h1>

      <div class="entry">
        <p>The Sys.Preview.UI.Effects &nbsp;Namespace contains a couple of animations that one can use in their applications.</p>
<p>Here , we will talk about how to use the <strong><u>FadeAnimation </u></strong>thats present in the Sys.Preview.UI.Effects NameSpace.</p>
<p>The Scripts that are to be included are : </p>
<ol>
<li>MicrosoftAjax.js</li>
<li>PreviewScript.js</li>
<li>PreviewGlitz.js</li>
</ol>
<p>Call the Initialize function to do the same to the Ajax Scripts :-)</p>
<pre class="csharpcode">&lt;script language=<span class="str">"javascript"</span>&gt;
    Sys.Application.initialize();
&lt;/script&gt;</pre>
<pre class="csharpcode"><span class="rem">//Get a handle to the animation Target as a Sys.UI.Control object </span>
<span class="kwrd">var</span> domElementVar = <span class="kwrd">new</span> Sys.UI.Control( $get(<span class="str">"animationTarget"</span>)  );</pre>
<pre class="csharpcode"><span class="rem">//Create an instance of the FadeAnimation .</span>
      <span class="kwrd">var</span> fadeAnimation = <span class="kwrd">new</span> Sys.Preview.UI.Effects.FadeAnimation();</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode"><span class="rem">//Set the Duration </span>
       fadeAnimation.set_duration( 0.3 );
<span class="rem">//Set the Animation Target as a Sys.UI.Control object </span>
        fadeAnimation.set_target( domElementVar );
<span class="rem">//Set the Animation Effect ( FadeIn / FadeOut )</span>
        fadeAnimation.set_effect( fadeEffect );
<span class="rem">//Set the Maximum Opacity Value</span>
        fadeAnimation.setValue( 70 );
<span class="rem">//Play the Animation</span>
        fadeAnimation.play(); </pre>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode">The Complete Example is given below , its also available as a download .</pre>
<pre class="csharpcode"><span class="kwrd"></span>&nbsp;</pre>
<pre class="csharpcode"><span class="kwrd">&lt;!</span><span class="html">DOCTYPE</span> <span class="attr">html</span> <span class="attr">PUBLIC</span> <span class="kwrd">"-//W3C//DTD XHTML 1.0 Transitional//EN"</span> <span class="kwrd">"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">html</span> <span class="attr">xmlns</span><span class="kwrd">="http://www.w3.org/1999/xhtml"</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">head</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">title</span><span class="kwrd">&gt;</span>Fade Animation Using Futures<span class="kwrd">&lt;/</span><span class="html">title</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">head</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">body</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">script</span> <span class="attr">src</span><span class="kwrd">="Scripts/MicrosoftAjax.js"</span> <span class="attr">type</span><span class="kwrd">="text/javascript"</span><span class="kwrd">&gt;&lt;/</span><span class="html">script</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">script</span> <span class="attr">src</span><span class="kwrd">="Scripts/PreviewScript.js"</span> <span class="attr">type</span><span class="kwrd">="text/javascript"</span><span class="kwrd">&gt;&lt;/</span><span class="html">script</span><span class="kwrd">&gt;</span>
</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">script</span> <span class="attr">src</span><span class="kwrd">="Scripts/PreviewGlitz.debug.js"</span> <span class="attr">type</span><span class="kwrd">="text/javascript"</span><span class="kwrd">&gt;&lt;/</span><span class="html">script</span><span class="kwrd">&gt;</span> </pre>
<pre class="csharpcode"><span class="rem">&lt;!-- The Fade Out Animate Button --&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">input</span> <span class="attr">type</span><span class="kwrd">="button"</span> <span class="attr">id</span><span class="kwrd">="btnFadeOutAnimate"</span> <span class="attr">value</span><span class="kwrd">="Fade Out"</span> <span class="attr">onclick</span><span class="kwrd">="FadeUsingFutures(true )"</span> <span class="kwrd">/&gt;</span></pre>
<pre class="csharpcode"><span class="rem">&lt;!-- The Fade In Animate Button --&gt;</span>
</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">input</span> <span class="attr">type</span><span class="kwrd">="button"</span> <span class="attr">id</span><span class="kwrd">="btnFadeInAnimate"</span> <span class="attr">style</span> <span class="kwrd">="display:none"</span> <span class="attr">value</span><span class="kwrd">="Fade In"</span> <span class="attr">onclick</span><span class="kwrd">="FadeUsingFutures( false )"</span> <span class="kwrd">/&gt;</span>

<span class="rem">&lt;!-- The Div thats gonna be animated--&gt;</span>
<span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">id</span><span class="kwrd">="animationTarget"</span> <span class="attr">style</span><span class="kwrd">="width: 400px; height: 400px; background-color: #FFCC00"</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode">&lt;script language=<span class="str">"javascript"</span>&gt;
    Sys.Application.initialize();

    <span class="rem">//Get a handle to the animation Target as a Sys.UI.Control object </span>
    <span class="kwrd">var</span> domElementVar = <span class="kwrd">new</span> Sys.UI.Control( $get(<span class="str">"animationTarget"</span>)  );
    <span class="kwrd">function</span> FadeUsingFutures( fadeOut )
    {
        <span class="rem">//Create an instance of the FadeAnimation .</span>
        <span class="kwrd">var</span> fadeAnimation = <span class="kwrd">new</span> Sys.Preview.UI.Effects.FadeAnimation();

        <span class="rem">//Decide whether to Fadein Our FadeOut</span>
        <span class="kwrd">var</span> fadeEffect = fadeOut ?  Sys.Preview.UI.Effects.FadeEffect.FadeOut : Sys.Preview.UI.Effects.FadeEffect.FadeIn ;

       <span class="rem">//Hide / Show the appropriate button(s)</span>
        $get(<span class="str">"btnFadeOutAnimate"</span>).style.display =  fadeOut  ? <span class="str">"none"</span>:<span class="str">"block"</span>;
        $get(<span class="str">"btnFadeInAnimate"</span>).style.display  =  fadeOut  ? <span class="str">"block"</span>:<span class="str">"none"</span>;

       <span class="rem">//Set the Duration </span>
       fadeAnimation.set_duration( 0.3 );
       <span class="rem">//Set the Animation Target as a Sys.UI.Control object </span>
        fadeAnimation.set_target( domElementVar );
        <span class="rem">//Set the Animation Effect ( FadeIn / FadeOut )</span>
        fadeAnimation.set_effect( fadeEffect );
        <span class="rem">//Set the Maximum Opacity Value</span>
        fadeAnimation.setValue( 70 );
        <span class="rem">//Play the Animation</span>
        fadeAnimation.play();
    }

    &lt;/script&gt;</pre>
<pre class="csharpcode"><span class="kwrd">&lt;/</span><span class="html">body</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">html</span><span class="kwrd">&gt;</span>
</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Components.PostAttachments/00/01/88/63/44/Futures%20Animation.zip" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-components-postattachments/00-01-88-63-44/Futures-Animation.zip">Futures Animation.zip</a></p>

      </div>

      <a href="/howto-sys-preview-ui-effects-fadeanimation/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/sys-preview-timer-control-a-client-side-timer/">Sys.Preview.Timer Control - A Client Side Timer</a></h1>

      <div class="entry">
        <p>We have quite often come across&nbsp; scenarios where-in we need to execute certain client-Side code at certain intervals .</p>
<p>What we often ended up doing is to use the&nbsp;<a href="http://msdn.microsoft.com/library/default.asp?url=/workshop/author/dhtml/reference/methods/settimeout.asp">window.setTimeOut()</a> and the&nbsp;<a href="http://msdn.microsoft.com/library/default.asp?url=/workshop/author/dhtml/reference/methods/setinterval.asp">window.setInterval</a> functions of IE to execute an expression </p>
<p>at certain intervals of time .</p>
<p>&nbsp;</p>
<p>The Sys.Preview.Timer Provides an abstraction over these functions and makes it easier to define Functions to be Executed at certain </p>
<p>Time Intervals.</p>
<pre class="csharpcode">&nbsp;</pre>
<p>You need to include the Script file "<font face="cali" color="#ff0000">PreviewScript.js<font color="#000000">" to&nbsp; have access to the Timer Control .</font></font></p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">script</span> <span class="attr">src</span><span class="kwrd">="Scripts/PreviewScript.js"</span> <span class="attr">type</span><span class="kwrd">="text/javascript"</span><span class="kwrd">&gt;&lt;/</span><span class="html">script</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p>&nbsp;</p>
<p><strong><u>Instantiating the Timer control :</u></strong></p>
<pre class="csharpcode"><strong><span class="kwrd">var</span> clientSideTimer = <span class="kwrd">new</span> Sys.Preview.Timer();</strong></pre>
<pre class="csharpcode"><font face="Treb">By default , once instatiated , the Timer is disabled .</font></pre>
<pre class="csharpcode"><strong><u>Enable The Timer</u></strong></pre>
<pre class="csharpcode"><strong>clientSideTimer.set_enabled( <span class="kwrd">true</span> ); </strong></pre>
<pre class="csharpcode"><strong></strong>&nbsp;</pre>
<pre class="csharpcode"><u><strong>Set the Interval for the timer :</strong></u></pre>
<pre class="csharpcode">The Interval is measured in milliseconds </pre>
<pre class="csharpcode"><strong>clientSideTimer.set_interval( 1000 );</strong></pre>
<pre class="csharpcode"><strong><u>Add a function to be called at the interval</u></strong></pre>
<pre class="csharpcode">You add the function to be called at the interval by running </pre>
<pre class="csharpcode"><strong>clientSideTimer.add_tick( OnTimerTick );</strong></pre>
<pre class="csharpcode"><font face="tRE"></font>&nbsp;</pre>
<pre class="csharpcode"><font face="tRE">The Parameter "OnTimerTick" is a function that is executed at the Interval specified.</font></pre>
<pre class="csharpcode"><font face="tRE">You can add multiple Functions to be callled at the interval.</font></pre>
<pre class="csharpcode"><font face="tRE">The functions are executed at the interval in the <u>same order that they are added using add_tick</u>.</font></pre>
<pre class="csharpcode"><strong><u>Stop the Timer </u></strong></pre>
<pre class="csharpcode">Disable the Timer to stop the  Timer Entirely.</pre>
<pre class="csharpcode"><strong>clientSideTimer.set_enabled( <span class="kwrd">false</span> ); </strong></pre>
<pre class="csharpcode">Alternatively , you can stop certain functions being called by calling the "<font color="#ff0000"><strong>remove_tick</strong><font color="#000000"><strong>" </strong>Method on the Timer.</font></font></pre>
<pre class="csharpcode"><strong>clientSideTimer.remove_tick( OnTimerTick );</strong></pre>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode">Check out the  Sample attached to get a view of how the control works and how you can use it .</pre>
<pre class="csharpcode"><strong><u>Whats Missing :</u></strong></pre>
<pre class="csharpcode">The main pain point I see in using the Timer Control is that <u>I cannot pass a context to the Functions called at the "Tick" event.</u></pre>
<pre class="csharpcode">The reason this happens is because ..</pre>
<blockquote><pre class="csharpcode">The Function that returns the callback to the "Tick" event passes "Sys.EventArgs.Empty"  to the callback.</pre>
</blockquote>
<pre class="csharpcode">You can customize the Script to enable the functionality of passing a context to the Timer Callback.</pre>
<pre class="csharpcode">We will discuss that in a future post .</pre>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode">&nbsp;</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Components.PostAttachments/00/01/88/52/99/Client%20Side%20Timer.zip" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-components-postattachments/00-01-88-52-99/Client-Side-Timer.zip">Client Side Timer.zip</a></p>

      </div>

      <a href="/sys-preview-timer-control-a-client-side-timer/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/using-ms-ajax-animations-from-the-client-side/">Using MS Ajax Animations From the Client-Side</a></h1>

      <div class="entry">
        <p>We&nbsp; will talk about how to use the MS-Ajax Animation Framework <u>without any server-side code.</u></p>
<p>The sample completely illustrates how to instantiate and use the Animation Controls by including the proper script references.</p>
<p>1) Include the following scripts in your HTML Page</p>
<blockquote>
<p>MicrosoftAjax.js&nbsp; ( download from <a title="Download Location" href="http://ajax.asp.net/downloads/library/default.aspx?tabid=47&amp;subtabid=471" mce_href="http://ajax.asp.net/downloads/library/default.aspx?tabid=47&amp;subtabid=471">Here</a>&nbsp;)</p>
<p>Timer.js ( downlod from <a title="Download Location" href="http://www.codeplex.com/AtlasControlToolkit/Project/FileDownload.aspx?DownloadId=7711" mce_href="http://www.codeplex.com/AtlasControlToolkit/Project/FileDownload.aspx?DownloadId=7711">Here</a>&nbsp;)</p>
<p>BaseScripts.js</p>
<p>Common.js </p>
<p>Animations.js</p>
<p>AnimationBehavior.js</p>
</blockquote>
<p><strong><u>Actual HTML </u></strong></p>
<blockquote><pre class="csharpcode"></pre>
<div class="csharpcode-wrapper">
<pre class="csharpcode">&lt;script src=<span class="str">"ClientScripts/MicrosoftAjax.js"</span> type=<span class="str">"text/javascript"</span>&gt;&lt;/script&gt;
&lt;script src=<span class="str">"ClientScripts/Timer.js"</span> type=<span class="str">"text/javascript"</span>&gt;&lt;/script&gt;
&lt;script src=<span class="str">"ClientScripts/BaseScripts.js"</span> type=<span class="str">"text/javascript"</span>&gt;&lt;/script&gt;
&lt;script src=<span class="str">"ClientScripts/Animations.js"</span> type=<span class="str">"text/javascript"</span>&gt;&lt;/script&gt;
&lt;script src=<span class="str">"ClientScripts/Common.js"</span> type=<span class="str">"text/javascript"</span>&gt;&lt;/script&gt;
&lt;script src=<span class="str">"ClientScripts/AnimationBehavior.js"</span> type=<span class="str">"text/javascript"</span>&gt;&lt;/script&gt;</pre>
<style type="text/css">.csharpcode-wrapper, .csharpcode-wrapper pre {<br />
  background-color: #f4f4f4;<br />
  border: solid 1px gray;<br />
  cursor: text;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  margin: 20px 0px 10px 0px;<br />
  max-height: 200px;<br />
  overflow: auto;<br />
  padding: 4px 4px 4px 4px;<br />
  width: 97.5%;<br />
}<br />
.csharpcode-wrapper pre {<br />
  border-style: none;<br />
  margin: 0px 0px 0px 0px;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
}<br />
.csharpcode, .csharpcode pre, .csharpcode .alt {<br />
  background-color: #f4f4f4;<br />
  border-style: none;<br />
  color: black;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
  width: 100%;<br />
}<br />
.csharpcode pre {<br />
  margin: 0em;<br />
}<br />
.csharpcode .alt {<br />
  background-color: white;<br />
}<br />
.csharpcode .asp {<br />
  background-color: #ffff00;<br />
}<br />
.csharpcode .attr {<br />
  color: #ff0000;<br />
}<br />
.csharpcode .html {<br />
  color: #800000;<br />
}<br />
.csharpcode .kwrd {<br />
  color: #0000ff;<br />
}<br />
.csharpcode .lnum {<br />
  color: #606060;<br />
}<br />
.csharpcode .op {<br />
  color: #0000c0;<br />
}<br />
.csharpcode .preproc {<br />
  color: #cc6633;<br />
}<br />
.csharpcode .rem {<br />
  color: #008000;<br />
}<br />
.csharpcode .str {<br />
  color: #006080;<br />
}<br />
</style>
</div>
</blockquote>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p>2) Call the "Initialize()" function to initialize the Scripts in the HTML Page.</p>
<blockquote>
<div class="csharpcode-wrapper">
<pre class="csharpcode">&lt;script type=<span class="str">"text/javascript"</span>&gt;
&lt;!--
Sys.Application.initialize();
--&gt;
&lt;/script&gt;</pre>
<style type="text/css">.csharpcode-wrapper, .csharpcode-wrapper pre {<br />
  background-color: #f4f4f4;<br />
  border: solid 1px gray;<br />
  cursor: text;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  margin: 20px 0px 10px 0px;<br />
  max-height: 200px;<br />
  overflow: auto;<br />
  padding: 4px 4px 4px 4px;<br />
  width: 97.5%;<br />
}<br />
.csharpcode-wrapper pre {<br />
  border-style: none;<br />
  margin: 0px 0px 0px 0px;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
}<br />
.csharpcode, .csharpcode pre, .csharpcode .alt {<br />
  background-color: #f4f4f4;<br />
  border-style: none;<br />
  color: black;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
  width: 100%;<br />
}<br />
.csharpcode pre {<br />
  margin: 0em;<br />
}<br />
.csharpcode .alt {<br />
  background-color: white;<br />
}<br />
.csharpcode .asp {<br />
  background-color: #ffff00;<br />
}<br />
.csharpcode .attr {<br />
  color: #ff0000;<br />
}<br />
.csharpcode .html {<br />
  color: #800000;<br />
}<br />
.csharpcode .kwrd {<br />
  color: #0000ff;<br />
}<br />
.csharpcode .lnum {<br />
  color: #606060;<br />
}<br />
.csharpcode .op {<br />
  color: #0000c0;<br />
}<br />
.csharpcode .preproc {<br />
  color: #cc6633;<br />
}<br />
.csharpcode .rem {<br />
  color: #008000;<br />
}<br />
.csharpcode .str {<br />
  color: #006080;<br />
}<br />
</style>
</div>
</blockquote>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode">3) Create  your animation using the $create Method or use the Static methods of the Animation Library to create animations.</pre>
<pre class="csharpcode"><strong><u>Sample HTML</u></strong></pre>
<blockquote><pre class="csharpcode"><span class="kwrd">&lt;!</span><span class="html">DOCTYPE</span> <span class="attr">html</span> <span class="attr">PUBLIC</span> <span class="kwrd">"-//W3C//DTD XHTML 1.0 Transitional//EN"</span> <span class="kwrd">"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">html</span> <span class="attr">xmlns</span><span class="kwrd">="http://www.w3.org/1999/xhtml"</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">head</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">title</span><span class="kwrd">&gt;</span>Animation Repro<span class="kwrd">&lt;/</span><span class="html">title</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">head</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">body</span><span class="kwrd">&gt;</span>

    <span class="kwrd">&lt;</span><span class="html">script</span> <span class="attr">src</span><span class="kwrd">="ClientScripts/MicrosoftAjax.debug.js"</span> <span class="attr">type</span><span class="kwrd">="text/javascript"</span><span class="kwrd">&gt;&lt;/</span><span class="html">script</span><span class="kwrd">&gt;</span>

    &lt;script src=<span class="str">"ClientScripts/Timer.js"</span> type=<span class="str">"text/javascript"</span>&gt;&lt;/script&gt;

    &lt;script src=<span class="str">"ClientScripts/MicrosoftAjaxWebForms.debug.js"</span> type=<span class="str">"text/javascript"</span>&gt;&lt;/script&gt;

    &lt;script src=<span class="str">"ClientScripts/BaseScripts.js"</span> type=<span class="str">"text/javascript"</span>&gt;&lt;/script&gt;

    &lt;script src=<span class="str">"ClientScripts/Animations.js"</span> type=<span class="str">"text/javascript"</span>&gt;&lt;/script&gt;

    &lt;script src=<span class="str">"ClientScripts/Common.js"</span> type=<span class="str">"text/javascript"</span>&gt;&lt;/script&gt;

    &lt;script src=<span class="str">"ClientScripts/AnimationBehavior.js"</span> type=<span class="str">"text/javascript"</span>&gt;&lt;/script&gt;

    &lt;input type=<span class="str">"button"</span> onclick=<span class="str">"Expand(event)"</span> value=<span class="str">"Expand"</span> style=<span class="str">"display: block"</span>
        id=<span class="str">"btnExpand"</span> /&gt;
    &lt;input type=<span class="str">"button"</span> onclick=<span class="str">"Contract(event)"</span> value=<span class="str">"Contract"</span> style=<span class="str">"display: none"</span>
        id=<span class="str">"btnContract"</span> /&gt;
    &lt;div id=<span class="str">"popup"</span> style=<span class="str">"display: block; cursor: hand; background-color: #ffcc00; height: 100px;
        width: 200px;"</span> title=<span class="str">"click to hide"</span>&gt;
        &lt;table style=<span class="str">"width: 100%; height: 100%;"</span>&gt;
            &lt;tr&gt;
                &lt;td style=<span class="str">"text-align: center; vertical-align: middle;"</span>&gt;
                    TEST
                &lt;/td&gt;
            &lt;/tr&gt;
        &lt;/table&gt;
    &lt;/div&gt;

    &lt;script type=<span class="str">"text/javascript"</span>&gt;


&lt;!--

Sys.Application.initialize();

<span class="kwrd">function</span> Contract(eventArgument) {

   <span class="rem">//Hack for FireFox</span>
    <span class="kwrd">if</span>( eventArgument == <span class="kwrd">null</span> )
    {
        eventArgument = <span class="kwrd">event</span>;
    }
    $get(<span class="str">"btnExpand"</span>).style.display = <span class="str">"block"</span>;
    $get(<span class="str">"btnContract"</span>).style.display = <span class="str">"none"</span>;

    <span class="rem">//ResizeAnimation.play(target, duration, fps, width, height, unit);</span>
    AjaxControlToolkit.Animation.ResizeAnimation.play($get(<span class="str">"popup"</span>), 0.3 , 25 , 200 , 100 , <span class="str">"px"</span> );

}

<span class="kwrd">function</span> Expand(eventArgument) {

<span class="rem">//Hack for FireFox </span>
    <span class="kwrd">if</span>( eventArgument == <span class="kwrd">null</span> )
    {
        eventArgument = <span class="kwrd">event</span>;
    }

    $get(<span class="str">"btnExpand"</span>).style.display = <span class="str">"none"</span>;
    $get(<span class="str">"btnContract"</span>).style.display = <span class="str">"block"</span>;

    <span class="rem">//ResizeAnimation.play(target, duration, fps, width, height, unit);</span>
    AjaxControlToolkit.Animation.ResizeAnimation.play($get(<span class="str">"popup"</span>), 0.3 , 25 , 400 , 400 , <span class="str">"px"</span> );


}
--&gt;
    <span class="kwrd">&lt;/</span><span class="html">script</span><span class="kwrd">&gt;</span>

<span class="kwrd">&lt;/</span><span class="html">body</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">html</span><span class="kwrd">&gt;</span>
</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode"></pre>
<div>&nbsp;</div>
</blockquote>
<pre class="csharpcode">Check out the Sample Attached to get a feel of how this works.</pre>
<pre class="csharpcode">Any questions/comments are welcome </pre>
<pre class="csharpcode">&nbsp;</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Components.PostAttachments/00/01/86/56/12/Client-Side%20Animations.zip" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-components-postattachments/00-01-86-56-12/Client_2D00_Side-Animations.zip">Client-Side Animations.zip</a></p>

      </div>

      <a href="/using-ms-ajax-animations-from-the-client-side/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/customizing-the-alert-messages-in-ie/">Customizing the Alert  Messages in IE</a></h1>

      <div class="entry">
        <p>Have you ever felt that this looks ugly ?</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/CusomizingtheAlertConfirmMessagesinIE_B410/Ordinary%5B1%5D.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/CusomizingtheAlertConfirmMessagesinIE_B410/Ordinary%5B1%5D.jpg" atomicselection="true"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="192" src="/assets/Ordinary.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/CusomizingtheAlertConfirmMessagesinIE_B410/Ordinary.jpg" width="240" border="0" /></a> </p>
<p>Did you ever want to customize the Image , the text, the Icons ?</p>
<p>You would probably want to customize it to the Look and feel of your web application.</p>
<p>We are gonna talk about how to customize the Alert Box in IE .</p>
<p>When we are done , it will look like this .</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/CusomizingtheAlertConfirmMessagesinIE_B410/customAlert%5B1%5D.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/CusomizingtheAlertConfirmMessagesinIE_B410/customAlert%5B1%5D.jpg" atomicselection="true"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="192" src="/assets/customAlert.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/CusomizingtheAlertConfirmMessagesinIE_B410/customAlert.jpg" width="240" border="0" /></a> </p>
<p>We can change the Default ALERT function with Javascript .</p>
<pre class="csharpcode">window.alert=<span class="kwrd">function</span>( alertMessage ){
<span class="rem">//Function Body</span>
}
</pre>
<pre class="csharpcode">Thats it!!! Thats the Magic line!</pre>
<pre class="csharpcode">With this function , you can customize the way the alert messages are shown.</pre>
<pre class="csharpcode">I will demonstrate one way to render the custom Alert  message.</pre>
<pre class="csharpcode">We will put a DIV in the Page that will show the alert message .</pre>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">id</span><span class="kwrd">="alertPanel"</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode"><font face="Consolas" size="2">We will form the body by forming a string containing the representational HTML .</font></pre>
<pre class="csharpcode">    &lt;DIV&gt; //To Contain the Alert Message</pre>
<blockquote><pre class="csharpcode">       &lt;IMG&gt; //The icon of the message prompt</pre>
</blockquote>
<pre class="csharpcode">             &lt;SPAN&gt; //This element contains the text to be shown</pre>
<pre class="csharpcode">             &lt;INPUT TYPE="BUTTON"/&gt; //The Button to close the alert message </pre>
<pre class="csharpcode">    &lt;/DIV&gt;</pre>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode"><strong><u>Actual Code showing the same </u></strong></pre>
<pre class="csharpcode"><span class="kwrd">var</span> alertBox = <span class="str">"&lt;DIV style=\"width:350px;height:70px\" class=\"alertPosition\"&gt;"</span>;
            alertBox +=<span class="str">"&lt;div class=\"alertBoxIn\" &gt;"</span>;
                     alertBox  +=<span class="str">"&lt;img src=\"images/InfoBox-48x48.png\" style=\"position: relative; top: 1%; left: 2%\" /&gt;&lt;/td&gt;"</span>;
                     alertBox +=<span class="str">"&lt;SPAN style=\"position: relative; top:-30%; left: 12%\"&gt;"</span>+alertMessage+<span class="str">"&lt;/SPAN&gt;"</span>;
                     alertBox  +=<span class="str">"&lt;input style=\"position: relative; top:20%; left:10%\" type=\"button\" value=\"    Ok      \" onclick=\"closeAlert();\" /&gt;"</span>;
            alertBox+=<span class="str">"&lt;/div&gt;"</span>;
    alertBox+=<span class="str">"&lt;/div&gt;"</span>;</pre>
<pre class="csharpcode">Once the Body of the Alert message is formed , we need to add it to the document.</pre>
<pre class="csharpcode">we will do this by injecting the body of the Alert Message into the alertPanel Div that we already have on the page .</pre>
<pre class="csharpcode">document.getElementById(<span class="str">"alertPanel"</span>).innerHTML = alertBox;</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode">Upon click of the Button , you would want to close the alert message .</pre>
<pre class="csharpcode">We close the Alert message by removing it from the document .</pre>
<pre class="csharpcode">document.getElementById(<span class="str">"alertPanel"</span>).innerHTML =   <span class="str">""</span> ;</pre>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode">The Completed Function looks like this ......</pre>
<pre class="csharpcode">window.alert=<span class="kwrd">function</span>( alertMessage )
{
    <span class="kwrd">var</span> alertBox = <span class="str">""</span>;
            alertBox +=<span class="str">"&lt;div style=\"width:350px;height:70px\" class=\"alertBoxIn alertPosition\" &gt;"</span>;
                     alertBox  +=<span class="str">"&lt;img src=\"images/InfoBox-48x48.png\" style=\"position: relative; top: 1%; left: 2%\" /&gt;&lt;/td&gt;"</span>;
                     alertBox +=<span class="str">"&lt;SPAN style=\"position: relative; top:-30%; left: 12%\"&gt;"</span>+alertMessage+<span class="str">"&lt;/SPAN&gt;"</span>;
                     alertBox  +=<span class="str">"&lt;input style=\"position: relative; top:20%; left:10%\" type=\"button\" value=\"    Ok      \" onclick=\"closeAlert();\" /&gt;"</span>;
            alertBox+=<span class="str">"&lt;/div&gt;"</span>;
    document.getElementById(<span class="str">"alertPanel"</span>).innerHTML = alertBox;
    document.getElementById(<span class="str">"alertPanel"</span>).focus();
 }</pre>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode"><strong><u>Bonus:</u></strong></pre>
<pre class="csharpcode"><strong><u>Creating your own alert prompt message</u></strong></pre>
<pre class="csharpcode">I changed the icon to make it look like an error message .</pre>
<pre class="csharpcode">See here.....</pre>
<pre class="csharpcode"><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/CusomizingtheAlertConfirmMessagesinIE_B410/customError%5B1%5D.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/CusomizingtheAlertConfirmMessagesinIE_B410/customError%5B1%5D.jpg" atomicselection="true"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="192" src="/assets/customError.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/CusomizingtheAlertConfirmMessagesinIE_B410/customError.jpg" width="240" border="0" /></a> </pre>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode">The javascript for this custom error function is :</pre>
<pre class="csharpcode"><span class="kwrd">function</span> ErorMessage( errorMessage )
{

  <span class="kwrd">var</span> alertBox = <span class="str">"&lt;DIV style=\"width:350px;height:70px\" class=\"alertPosition\"&gt;"</span>;
            alertBox +=<span class="str">"&lt;div class=\"alertBoxIn\" &gt;"</span>;
                     alertBox  +=<span class="str">"&lt;img src=\"images/ErrorCircle-48x48.png\" style=\"position: relative; top: 1%; left: 2%\" /&gt;&lt;/td&gt;"</span>;
                     alertBox +=<span class="str">"&lt;SPAN style=\"position: relative; top:-30%; left: 12%\"&gt;"</span>+errorMessage+<span class="str">"&lt;/SPAN&gt;"</span>;
                     alertBox  +=<span class="str">"&lt;input style=\"position: relative; top:20%; left:10%\" type=\"button\" value=\"    Ok      \" onclick=\"closeAlert();\" /&gt;"</span>;
            alertBox+=<span class="str">"&lt;/div&gt;"</span>;
    alertBox+=<span class="str">"&lt;/div&gt;"</span>;
    document.getElementById(<span class="str">"alertPanel"</span>).innerHTML = alertBox;
}</pre>
<pre class="csharpcode">Once this function is implemented, you can use the alert in your functions normally , be sure to include the script and the div "alertPanel".</pre>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode">The Complete code looks like this ......</pre>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode"><span class="kwrd">&lt;!</span><span class="html">DOCTYPE</span> <span class="attr">html</span> <span class="attr">PUBLIC</span> <span class="kwrd">"-//W3C//DTD XHTML 1.0 Transitional//EN"</span> <span class="kwrd">"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">html</span> <span class="attr">xmlns</span><span class="kwrd">="http://www.w3.org/1999/xhtml"</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">head</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">title</span><span class="kwrd">&gt;</span>AJAX Client Side Documentation<span class="kwrd">&lt;/</span><span class="html">title</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">link</span> <span class="attr">href</span><span class="kwrd">="css/defaultStyles.css"</span> <span class="attr">rel</span><span class="kwrd">="stylesheet"</span> <span class="attr">type</span><span class="kwrd">="text/css"</span><span class="kwrd">&gt;</span>

    <span class="kwrd">&lt;</span><span class="html">script</span> <span class="attr">language</span><span class="kwrd">="javascript"</span><span class="kwrd">&gt;</span>
        window.alert=<span class="kwrd">function</span>( alertMessage )
            {
                <span class="kwrd">var</span> alertBox = <span class="str">""</span>;
                        alertBox +=<span class="str">"&lt;div style=\"width:350px;height:70px\" class=\"alertBoxIn alertPosition\" &gt;"</span>;
                                 alertBox  +=<span class="str">"&lt;img src=\"n\" style=\"position: relative; top: 1%; left: 2%\" /&gt;&lt;/td&gt;"</span>;
                                 alertBox +=<span class="str">"&lt;SPAN style=\"position: relative; top:-30%; left: 12%\"&gt;"</span>+alertMessage+<span class="str">"&lt;/SPAN&gt;"</span>;
                                 alertBox  +=<span class="str">"&lt;input style=\"position: relative; top:20%; left:10%\" type=\"button\" value=\"    Ok      \" onclick=\"closeAlert();\" /&gt;"</span>;
                        alertBox+=<span class="str">"&lt;/div&gt;"</span>;
                document.getElementById(<span class="str">"alertPanel"</span>).innerHTML = alertBox;
                document.getElementById(<span class="str">"alertPanel"</span>).focus();
             }

            <span class="kwrd">function</span> ErorMessage( errorMessage )
            {

              <span class="kwrd">var</span> alertBox = <span class="str">"&lt;DIV style=\"width:350px;height:70px\" class=\"alertPosition\"&gt;"</span>;
                        alertBox +=<span class="str">"&lt;div class=\"alertBoxIn\" &gt;"</span>;
                                 alertBox  +=<span class="str">"&lt;img src=\"images/ErrorCircle-48x48.png\" style=\"position: relative; top: 1%; left: 2%\" /&gt;&lt;/td&gt;"</span>;
                                 alertBox +=<span class="str">"&lt;SPAN style=\"position: relative; top:-30%; left: 12%\"&gt;"</span>+errorMessage+<span class="str">"&lt;/SPAN&gt;"</span>;
                                 alertBox  +=<span class="str">"&lt;input style=\"position: relative; top:20%; left:10%\" type=\"button\" value=\"    Ok      \" onclick=\"closeAlert();\" /&gt;"</span>;
                        alertBox+=<span class="str">"&lt;/div&gt;"</span>;
                alertBox+=<span class="str">"&lt;/div&gt;"</span>;
                document.getElementById(<span class="str">"alertPanel"</span>).innerHTML = alertBox;
            }

            <span class="kwrd">function</span> closeAlert()
            {
                <span class="kwrd">var</span> alertBox =  document.getElementById(<span class="str">"alertPanel"</span>);
                alertBox.innerHTML =<span class="str">""</span>;
            }

    <span class="kwrd">&lt;/</span><span class="html">script</span><span class="kwrd">&gt;</span>

<span class="kwrd">&lt;/</span><span class="html">head</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">body</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">input</span> <span class="attr">type</span><span class="kwrd">="button"</span> <span class="attr">value</span><span class="kwrd">="Alert Popup"</span> <span class="attr">onclick</span><span class="kwrd">="javascript:alert('This is a custom alert message')"</span> <span class="kwrd">/&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">input</span> <span class="attr">type</span><span class="kwrd">="button"</span> <span class="attr">value</span><span class="kwrd">="Error Popup"</span> <span class="attr">onclick</span><span class="kwrd">="javascript:ErorMessage('This is a custom Error message')"</span> <span class="kwrd">/&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">id</span><span class="kwrd">="alertPanel"</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">body</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">html</span><span class="kwrd">&gt;</span>
</pre>
<pre class="csharpcode"><strong><u>PROPS:</u></strong></pre>
<pre class="csharpcode">The Images I use in the demo come from here ...<a title="http://www.iconarchive.com/category/application/vista-elements-icons-by-icons-land.html" href="http://www.iconarchive.com/category/application/vista-elements-icons-by-icons-land.html">http://www.iconarchive.com/category/application/vista-elements-icons-by-icons-land.html</a></pre>
<pre class="csharpcode">The Icons rock !!! If interested , give the author a visit at : <a title="http://www.icons-land.com/" href="http://www.icons-land.com/. ">http://www.icons-land.com/. </a> I strongly suggest you check them out .</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>

      </div>

      <a href="/customizing-the-alert-messages-in-ie/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/documentation-of-client-side-methods-exposed-by-ms-ajax-controls/">Documentation of Client Side Methods Exposed By MS AJAX Controls</a></h1>

      <div class="entry">
        <br />
<style>
.grey<br />
{<br />
    background: #eee;<br />
    padding: 5px;<br />
    border: 1px solid #ccc;<br />
    margin: 0 0 15px 0;<br />
    color: #444;<br />
}</p>
</style>
<p><font size="2"></p>
<div class="grey"><strong><u>Accordion Behavior Functions <br /></u></strong><br />get_Count<br />/// &lt;value type="Number" integer="true"&gt;<br />/// Number of Accordion sections<br />/// &lt;/summary&gt;</p>
<p>get_Pane( paneIndex )<br />/// &lt;summary&gt;<br />/// Get a specific pane given its index<br />/// &lt;/summary&gt;<br />/// &lt;param name="i" type="Number" integer="true"&gt;<br />/// Index of the desired Accordion section<br />/// &lt;/param&gt;<br />/// &lt;returns type="Sys.UI.DomElement" domElement="true"&gt;<br />/// Desired pane<br />/// &lt;/returns&gt;</p>
<p>get_TransitionDuration<br />/// &lt;value type="Number"&gt;<br />/// Length of time to transition between Accordion sections in milleseconds.&nbsp; The default value is 250ms.<br />/// &lt;/value&gt;</p>
<p>get_FramesPerSecond<br />/// &lt;value type="Number" integer="true"&gt;<br />/// Number of steps per second in the transition animations.&nbsp; The default is 25.<br />/// &lt;/value&gt;</p>
<p>get_SelectedIndex<br />/// &lt;value type="Number" integer="true"&gt;<br />/// Index of the currently selected Accordion section<br />/// &lt;/value&gt;</p>
<p>set_SelectedIndex(index)<br />/// &lt;value type="Number" integer="true"&gt;<br />/// Index of the currently selected Accordion section<br />/// &lt;/value&gt;</p>
<p mce_keep="true">&nbsp;</p>
</div>
<p></font></p>

      </div>

      <a href="/documentation-of-client-side-methods-exposed-by-ms-ajax-controls/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/show-and-hide-modalpopupextender-from-javascript/">Show and Hide ModalPopupExtender from JavaScript</a></h1>

      <div class="entry">
        <p>1) Assign a BehaviourID to the ModalPopupExtender using the BehaviourID attribute.</p>
<blockquote><pre class="csharpcode">BehaviorID =<span class="str">"ModalBehaviour"</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
</blockquote>
<p>2) Use the $find method to get a handle to the Modal Popup Behaviour .</p>
<blockquote><pre class="csharpcode">$find (<span class="str">"ModalBehaviour"</span>).</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
</blockquote>
<p>3) Call your hide and show methods on the acquired handle.</p>
<p>4) The Javascript would look like this.</p>
<p mce_keep="true">&nbsp;</p>
<blockquote><pre class="csharpcode">&lt;script language=<span class="str">"javascript"</span>&gt;

<span class="kwrd">function</span> ShowModalPopup()
{
  $find(<span class="str">"ModalBehaviour"</span>).show();
}

<span class="kwrd">function</span> HideModalPopup()
{
 $find(<span class="str">"ModalBehaviour"</span>).hide();
}

&lt;/script&gt;
</pre>
</blockquote>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p><script type="text/javascript"><br />
    if (typeof window.Delicious == "undefined") window.Delicious = {};<br />
    Delicious.BLOGBADGE_DEFAULT_CLASS = 'delicious-blogbadge-line';<br />
</script></p>
<p><script src="http://images.del.icio.us/static/js/blogbadge.js" mce_src="http://images.del.icio.us/static/js/blogbadge.js"></script></p></p></p>

      </div>

      <a href="/show-and-hide-modalpopupextender-from-javascript/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/change-servicemethods-and-web-service-for-the-autocompleteextender-from-client-side/">Change ServiceMethods and Web Service for the AutoCompleteExtender From Client Side</a></h1>

      <div class="entry">
        <p>This is quite a common requirement and guess the Docs are not really clear as to how you can achieve this .</p>
<p>Lemme see how I can help</p>
<ol>
<li>You want to&nbsp; change the Webmethod that the AutoComplete Extender Talks to from the Client Side.</li>
<li>You want to&nbsp; change the WebService that the AutoComplete Extender Talks to from the Client Side.</li>
</ol>
<p>You can achieve this easily using the Functions Provided by the Extenders on the Client Side.</p>
<p>Follow these Simple Steps.</p>
<p>1) Assign a BehaviourID to the AutoCompleteExtender.</p>
<p mce_keep="true">&nbsp;</p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">cc1:AutoCompleteExtender</span>
               <span class="attr">ID</span><span class="kwrd">="AutoCompleteImagesExtender1"</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">TargetControlID</span><span class="kwrd">="myTextBox"</span>
                <span class="attr">ServicePath</span><span class="kwrd">="AutoComplete.asmx"</span> <span class="attr">ServiceMethod</span><span class="kwrd">="GetCompletionList"</span> <span class="attr">MinimumPrefixLength</span><span class="kwrd">="2"</span>
                <span class="attr">CompletionInterval</span><span class="kwrd">="1000"</span> <span class="attr">EnableCaching</span><span class="kwrd">="true"</span>
                <span class="attr">CompletionListElementID</span><span class="kwrd">="divCompletionImages"</span>
                <span class="attr">CompletionSetCount</span><span class="kwrd">="12"</span>
                <strong><font size="3"><span class="attr">BehaviorID</span><span class="kwrd">="autoCompleteExtender"</span></font></strong><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">cc1:AutoCompleteExtender</span><span class="kwrd">&gt;</span></pre>
<pre class="csharpcode">2) You can change the Web Service that the AutoCompleteExtender Talks to by using the Following JavaScript.</pre>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode"><span class="kwrd">function</span> ChangeServicePath(){
        <span class="kwrd">var</span> autoComplete = $find(<span class="str">"<font size="3"><strong>autoCompleteExtender</strong></font>"</span>);
        autoComplete.set_servicePath( &lt;NewServicePath&gt;);
        }</pre>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode">As you can see the $find  method is called on the behaviourID of the AutoCompleteExtender.</pre>
<pre class="csharpcode">The "set_servicePath" method allows you to Set the path to the Web Service that the Extender talks to .</pre>
<pre class="csharpcode">3) You can change the Web Service that the AutoCompleteExtender Talks to by using the Following JavaScript.</pre>
<pre class="csharpcode"><span class="kwrd">function</span> ChangeServiceMethod(){
        <span class="kwrd">var</span> autoComplete = $find(<span class="str">"<font size="6"><font size="3"><strong>autoCompleteExtender</strong></font></font>"</span>);
        autoComplete.set_serviceMethod( &lt;NewServiceMethodName&gt;);
        }</pre>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode">The "set_serviceMethod" method allows you to Set the path to the Web Service that the Extender talks to .</pre>
<pre class="csharpcode">Hope this Helps </pre>
<pre class="csharpcode">&nbsp;</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p><script type="text/javascript"><br />
    if (typeof window.Delicious == "undefined") window.Delicious = {};<br />
    Delicious.BLOGBADGE_DEFAULT_CLASS = 'delicious-blogbadge-line';<br />
</script></p>
<p><script src="http://images.del.icio.us/static/js/blogbadge.js" mce_src="http://images.del.icio.us/static/js/blogbadge.js"></script></p>

      </div>

      <a href="/change-servicemethods-and-web-service-for-the-autocompleteextender-from-client-side/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/implementing-image-zoom-using-ms-ajax-slider-control/">Implementing Image Zoom using MS Ajax Slider Control</a></h1>

      <div class="entry">
        <p>The MS Ajax Control Toolkit provides a lot of cool controls that we can use to implement nifty effects in our applications.</p>
<p>One of the controls we are gonna play with today is the Ajax Slider Control.</p>
<p>The Slider Control Provides a way for the user to measure arbitrary values and set them using a cool Slider.</p>
<p>The Slider control provides the value of the current Slide and lets you do stuff with it .</p>
<p>Some of the&nbsp; *stuff* we will try today is to implement a Zoom feature for images .</p>
<p>The Slider control binds to an asp:textbox or an asp:label to show the current value of the Slide.</p>
<p>It would be great if you could associate the control with arbitrary HTML Elements and associate the slide with their properties.</p>
<p>You can do that&nbsp; by changing the Code of the Slider Control by downloading the code from the CodePlex Website.</p>
<p>Today , I will not go into how you can change the control , we will talk about using the Base control to modify the Height and width of an image control </p>
<p>so that it looks like we are zooming into and out of an image using the Slider.</p>
<p>See Demo Here </p>
<p><embed height="362" type="application/x-shockwave-flash" pluginspage="http://macromedia.com/go/getflashplayer" width="412" src="http://images.soapbox.msn.com/flash/soapbox1_1.swf" flashvars="c=v&amp;v=fa782978-904e-470f-8081-5236bfd2e0a2" wmode="transparent" quality="high"></embed><br /><a title="Implementing Image Zoom using MS Ajax Slider Control" href="http://soapbox.msn.com/video.aspx?vid=fa782978-904e-470f-8081-5236bfd2e0a2" target="_new">Video: Implementing Image Zoom using MS Ajax Slider Control</a></p>
<p mce_keep="true">&nbsp;</p>
<p>So,lets stop talking and start coding .</p>
<p>1) we will need 2 sliders , one for height , one for width .</p>
<pre class="csharpcode"><span class="rem">&lt;!-- The Slider to modify the height --&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">ajaxToolkit:SliderExtender</span> <span class="attr">ID</span><span class="kwrd">="heightSlider"</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">BehaviorID</span><span class="kwrd">="Slider2"</span>
 <span class="attr">TargetControlID</span><span class="kwrd">="Slider2"</span> <span class="attr">BoundControlID</span><span class="kwrd">="Slider2_BoundControl"</span> <span class="attr">Orientation</span><span class="kwrd">="Vertical"</span>
<span class="attr">EnableHandleAnimation</span><span class="kwrd">="true"</span> <span class="attr">Minimum</span><span class="kwrd">="10"</span> <span class="kwrd">/&gt;</span>
</pre>
<pre class="csharpcode"><span class="rem">&lt;!-- The Slider to modify the width--&gt;</span>
<span class="kwrd">&lt;</span><span class="html">ajaxToolkit:SliderExtender</span> <span class="attr">ID</span><span class="kwrd">="widthSlider"</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">BehaviorID</span><span class="kwrd">="Slider3"</span>
<span class="attr">TargetControlID</span><span class="kwrd">="Slider3"</span> <span class="attr">BoundControlID</span><span class="kwrd">="Slider3_BoundControl"</span> <span class="attr">Orientation</span><span class="kwrd">="Horizontal"</span>
<span class="attr">EnableHandleAnimation</span><span class="kwrd">="true"</span> <span class="attr">Minimum</span><span class="kwrd">="10"</span> <span class="kwrd">/&gt;</span></pre>
<pre class="csharpcode">2) The TargetControlID refers to the textbox which will receive the changed value from the  Slider.</pre>
<pre class="csharpcode"> Slider2 --&gt; Height Changed Value</pre>
<pre class="csharpcode"> Slider3 --&gt; Width  Changed Value</pre>
<pre class="csharpcode">3) <span class="kwrd"><font color="#000000">Hook the onValueChanged event of the Slider Control behaviour to these functions in the ASPX Page.</font></span></pre>
<pre class="csharpcode">&lt;script language =<span class="str">"javascript"</span>&gt;</pre>
<pre class="csharpcode">   <span class="kwrd">function</span> pageLoad(sender,e)
   {
       <span class="kwrd">var</span> sliderbehaviour = $find(<span class="str">'Slider3'</span>);
       sliderbehaviour.add_valueChanged(ZoomControlWidth);
       sliderbehaviour = $find(<span class="str">'Slider2'</span>);
       sliderbehaviour.add_valueChanged(ZoomControlHeight);
       sliderbehaviour = <span class="kwrd">null</span>;
   }

&lt;/script&gt;   </pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode"> 4) The Image control is specified as a parameter to the  "ZoomControlHeight" and the "ZoomControlWidth" Javascript functions  .</pre>
<pre class="csharpcode"> 5) The javascript functions are as shown below.</pre>
<pre class="csharpcode"><span class="rem">/********Global variables to specify the Scaling Height and Width**********/</span>
<span class="kwrd">var</span> HundredPercentHeight = 800;
<span class="kwrd">var</span> HundredPercentWidth  = 800;
<span class="kwrd">var</span> controlID =<span class="str">"imgZoomTarget"</span>;</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode"><span class="rem">//Function to Modify Height according to Slider Value</span>
<span class="kwrd">function</span> ZoomControlHeight(eventArgs)
{
    <span class="kwrd">var</span> currentlyZoomingControl =$get(controlID);

    <span class="rem">//Calculate the new height </span>
    <span class="kwrd">var</span> newHeight  = HundredPercentHeight * (  parseInt( eventArgs.get_Value() ) / 100 ) ;
    <span class="rem">//Assign the New Height</span>
    currentlyZoomingControl.style.height = parseInt(newHeight) +<span class="str">"px"</span>;
    <span class="rem">//Let go of the Control Reference</span>
    currentlyZoomingControl = <span class="kwrd">null</span>;

}</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode"><span class="rem">//Function to Modify Width according to Slider Value</span>
<span class="kwrd">function</span> ZoomControlWidth(eventArgs)
{
    <span class="kwrd">var</span> currentlyZoomingControl =$get(controlID);
    <span class="rem">//Calculate the new width</span>
    <span class="kwrd">if</span>( eventArgs.get_Value() == <span class="kwrd">null</span>)
    <span class="kwrd">return</span>;
    <span class="kwrd">var</span> newWidth   = HundredPercentWidth  * ( parseInt( eventArgs.get_Value() ) / 100 ) ;
    <span class="rem">//Assign the New Width</span>
    currentlyZoomingControl.style.width  =  parseInt(newWidth) +<span class="str">"px"</span>;
    <span class="rem">//Let go of the Control Reference</span>
    currentlyZoomingControl = <span class="kwrd">null</span>;
}</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode">6) The &lt;Img&gt; tag that will be modified by the slider, is ...</pre>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">img</span> <span class="attr">id</span><span class="kwrd">="imgZoomTarget"</span> <span class="attr">src</span><span class="kwrd">="thumbNails/001_by_Frnak.jpg"</span> </pre>
<pre class="csharpcode">         <span class="attr">style</span><span class="kwrd">="position: absolute;top: 10px; left: 220px; height: 100px; width: 100px"</span> <span class="kwrd">/&gt;</span></pre>
<pre class="csharpcode"><span class="kwrd"><font color="#000000">7)</font></span><style type="text/css">.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style></pre>
<pre class="csharpcode">7) This is how the page looks after we are done</pre>
<pre class="csharpcode"><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/ImplementingImageZoomusingMSAjaxSliderCo_8B9C/Zoom_Image_11.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/ImplementingImageZoomusingMSAjaxSliderCo_8B9C/Zoom_Image_11.jpg" mce_href="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/ImplementingImageZoomusingMSAjaxSliderCo_8B9C/Zoom_Image_11.jpg" atomicselection="true"><img style="BORDER-RIGHT-WIDTH: 0px; BORDER-TOP-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px" border="0" src="/assets/Zoom_Image_1.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/ImplementingImageZoomusingMSAjaxSliderCo_8B9C/Zoom_Image_1.jpg" width="240" height="192" mce_src="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/ImplementingImageZoomusingMSAjaxSliderCo_8B9C/Zoom_Image_1.jpg" /></a> </pre>
<pre class="csharpcode"> <span class="kwrd"><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/ImplementingImageZoomusingMSAjaxSliderCo_8B9C/Zoom_Image_31.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/ImplementingImageZoomusingMSAjaxSliderCo_8B9C/Zoom_Image_31.jpg" mce_href="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/ImplementingImageZoomusingMSAjaxSliderCo_8B9C/Zoom_Image_31.jpg" atomicselection="true"><img style="BORDER-RIGHT-WIDTH: 0px; BORDER-TOP-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px" border="0" src="/assets/Zoom_Image_3.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/ImplementingImageZoomusingMSAjaxSliderCo_8B9C/Zoom_Image_3.jpg" width="240" height="192" mce_src="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/ImplementingImageZoomusingMSAjaxSliderCo_8B9C/Zoom_Image_3.jpg" /></a></span></pre>
<pre class="csharpcode"><span class="kwrd"><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/ImplementingImageZoomusingMSAjaxSliderCo_8B9C/Zoom_Image_21.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/ImplementingImageZoomusingMSAjaxSliderCo_8B9C/Zoom_Image_21.jpg" mce_href="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/ImplementingImageZoomusingMSAjaxSliderCo_8B9C/Zoom_Image_21.jpg" atomicselection="true"><img style="BORDER-RIGHT-WIDTH: 0px; BORDER-TOP-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px" border="0" src="/assets/Zoom_Image_2.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/ImplementingImageZoomusingMSAjaxSliderCo_8B9C/Zoom_Image_2.jpg" width="240" height="192" mce_src="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/ImplementingImageZoomusingMSAjaxSliderCo_8B9C/Zoom_Image_2.jpg" /></a></span></pre>
<pre class="csharpcode"><span class="kwrd"> </span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>

      </div>

      <a href="/implementing-image-zoom-using-ms-ajax-slider-control/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/customizing-the-ms-ajax-autocompleteextender-to-render-images-instead-of-text/">Customizing the MS Ajax AutoCompleteExtender To Render Images Instead Of Text</a></h1>

      <div class="entry">
        <p>We all know about the AutoComplete Extender from MS AJAX.</p>
<p>It looks like this .....</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/CustomizingtheMSAjaxAutoCompleteExtender_D485/AutoComplete_Original%5B3%5D.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/CustomizingtheMSAjaxAutoCompleteExtender_D485/AutoComplete_Original%5B3%5D.jpg" atomicselection="true"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="311" src="/assets/AutoComplete_Original_thumb%5B1%5D.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/CustomizingtheMSAjaxAutoCompleteExtender_D485/AutoComplete_Original_thumb%5B1%5D.jpg" width="369" border="0" /></a> </p>
<p>&nbsp;</p>
<p>I want to customize the Auto Complete behaviour to render images on the client side rather than the text nodes .</p>
<p>My Server Side WebService returns an array of image URLs. I want to change the way the Results are rendered.</p>
<p>This is how I want it to look.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/CustomizingtheMSAjaxAutoCompleteExtender_D485/AutoComplete_Modified%5B4%5D.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/CustomizingtheMSAjaxAutoCompleteExtender_D485/AutoComplete_Modified%5B4%5D.jpg" atomicselection="true"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="245" src="/assets/AutoComplete_Modified_thumb%5B2%5D.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/CustomizingtheMSAjaxAutoCompleteExtender_D485/AutoComplete_Modified_thumb%5B2%5D.jpg" width="373" border="0" /></a> </p>
<p>I know that its pretty easy to achieve the effect using the client side proxy generated for a webservice.</p>
<p>But, I need to leverage the advantages of the AJAX AutoComplete control such as</p>
<ul>
<li>Client Side&nbsp;Caching of Web Service Results</li>
<li>Fully customisable with regard to specifying when and how the server side method call is made .</li>
</ul>
<p>So, we download the Source code of the AutoComplete Extender and start our process of hacking through it to achieve what we want.</p>
<p>You can download the Source of the AjaxControlToolkit from <a href="http://www.codeplex.com/AtlasControlToolkit/">Here</a></p>
<p>Once we downloaded , we take a look at the function that renders the Search Results.</p>
<p>The Function inside the AutoComplete Extender that renders the search results is in Javascript.</p>
<p>The File&nbsp; you gotta go to is AutoCompleteBehavior.js.</p>
<p>&lt;Function&gt;</p>
<pre class="csharpcode">_update: <span class="kwrd">function</span>(prefixText, completionItems, cacheResults) {
        <span class="kwrd">if</span> (cacheResults &amp;&amp; <span class="kwrd">this</span>.get_enableCaching()) {
            <span class="kwrd">if</span> (!<span class="kwrd">this</span>._cache) {
                <span class="kwrd">this</span>._cache = {};
            }
            <span class="kwrd">this</span>._cache[prefixText] = completionItems;
        }

        <span class="kwrd">this</span>._completionListElement.innerHTML = <span class="str">''</span>;
        <span class="kwrd">this</span>._selectIndex = -1;
        <span class="kwrd">if</span> (completionItems &amp;&amp; completionItems.length) {
            <span class="kwrd">for</span> (<span class="kwrd">var</span> i = 0; i &lt; completionItems.length; i++) {
             <strong>  <font color="#ff8000"> <span class="kwrd">var</span> itemElement = document.createElement(<span class="str">'div'</span>);
                itemElement.appendChild(document.createTextNode(completionItems[i]));
                itemElement.__item = <span class="str">''</span>;

                <span class="kwrd">var</span> itemElementStyle = itemElement.style;
                itemElementStyle.padding = <span class="str">'1px'</span>;
                itemElementStyle.textAlign = <span class="str">'left'</span>;
                itemElementStyle.textOverflow = <span class="str">'ellipsis'</span>;
                itemElementStyle.backgroundColor = <span class="kwrd">this</span>._textBackground;
                itemElementStyle.color = <span class="kwrd">this</span>._textColor;

                <span class="kwrd">this</span>._completionListElement.appendChild(itemElement);</font></strong>
            }
            <span class="kwrd">var</span> elementBounds = CommonToolkitScripts.getBounds(<span class="kwrd">this</span>.get_element());
            <span class="kwrd">this</span>._completionListElement.style.width = Math.max(1, elementBounds.width - 2) + <span class="str">'px'</span>;
            <span class="kwrd">this</span>._popupBehavior.show();
        }
        <span class="kwrd">else</span> {
            <span class="kwrd">this</span>._popupBehavior.hide();
        }
    }    </pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p>&lt;/Function&gt;&nbsp;</p>
<p>The Lines of the function that Renders the Search Results is marked in this <font color="#ff8000"><strong>color.</strong></font></p>
<p>Lets study these lines</p>
<pre class="csharpcode"><span class="kwrd">var</span> itemElement = document.createElement(<span class="str">'div'</span>);
    itemElement.appendChild(document.createTextNode(completionItems[i]));
    itemElement.__item = <span class="str">''</span>;</pre>
<pre class="csharpcode">
These lines of code create a "DIV" for each search result from the Web service.</pre>
<pre class="csharpcode">We will change it to be ...</pre>
<pre class="csharpcode"><span class="kwrd">var</span> itemElement = document.createElement(<span class="str">'img'</span>);
itemElement.src =  completionItems[i];</pre>
<pre class="csharpcode">This would be enough to render images instead of Text .</pre>
<pre class="csharpcode">Next, onClick of the image thumbnail , we want to assign the image url to another full image on the page.</pre>
<pre class="csharpcode">The function  called when the image is clicked is</pre>
<pre class="csharpcode"> _onListMouseDown: <span class="kwrd">function</span>(ev) {
        <span class="kwrd">if</span> (ev.target !== <span class="kwrd">this</span>._completionListElement) {
            <span class="kwrd">this</span>._setText(ev.target.firstChild.nodeValue);
        }
    },</pre>
<pre class="csharpcode">We will change this to be :</pre>
<pre class="csharpcode"> _onListMouseDown: <span class="kwrd">function</span>(ev) {
        $get(<span class="str">"imgFullBlown"</span>).src = <span class="kwrd">event</span>.srcElement.src;
        },</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode">imgFullBlown is gonna be an &lt;IMG&gt; tag on the page that hosts the control .</pre>
<pre class="csharpcode">As you can see, the src of the image that is clicked is assigned to the src of the "imgFullBlown" tag.</pre>
<pre class="csharpcode">The Effects are as shown below .</pre>
<pre class="csharpcode"><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/CustomizingtheMSAjaxAutoCompleteExtender_D485/AutoComplete_Modified_FULL%5B4%5D.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/CustomizingtheMSAjaxAutoCompleteExtender_D485/AutoComplete_Modified_FULL%5B4%5D.jpg" atomicselection="true"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="224" src="/assets/AutoComplete_Modified_FULL_thumb%5B2%5D.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/CustomizingtheMSAjaxAutoCompleteExtender_D485/AutoComplete_Modified_FULL_thumb%5B2%5D.jpg" width="357" border="0" /></a> </pre>
<pre class="csharpcode">There you go , build the Project and change the default behaviour or build your own control by extending the AutoCompleteExtender.</pre>
<pre class="csharpcode">You are  only limited by your imagination.</pre>
<pre class="csharpcode">Everyone has access to the source of some of our best controls.</pre>
<pre class="csharpcode">&nbsp;</pre>

      </div>

      <a href="/customizing-the-ms-ajax-autocompleteextender-to-render-images-instead-of-text/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/extending-the-photogrid-to-allow-xml-databinding-using-javascript-enumerations/">Extending the PhotoGrid to allow Xml DataBinding using JavaScript Enumerations</a></h1>

      <div class="entry">
        <p>If you remember one of my previous posts about the PhotoGrid Control , we talked about the control binding to JSON data .</p>
<p>Today&nbsp; , we talk about using Enumerations in Javascript to allow the PhotoGrid to bind to multiple Data Source Types.</p>
<p>Well, lets get going then....</p>
<p>Constructing the Enumeration</p>
<pre class="csharpcode"><span class="rem">/**** Enumeration to specify the Data Source Type**********/</span></pre>
<pre class="csharpcode">1) The Constructor for the Enumeration</pre>
<pre class="csharpcode">AtlasDemo.DataSourceType = <span class="kwrd">function</span>(){};</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode">2) Define the different Types of data that can be bound using the Prototype Model .</pre>
<pre class="csharpcode">AtlasDemo.DataSourceType.prototype =
{
    JSON : 0,
    XMLString : 1
}</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode">3) Register the Enumeration using the "registerEnum" function of the ASP.net AJAX framework.</pre>
<pre class="csharpcode">AtlasDemo.DataSourceType.registerEnum(<span class="str">"AtlasDemo.DataSourceType"</span>);</pre>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode">Modify the  BindGrid Function to accept the type of dataBinding to be performed.</pre>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode">BindGrid : <span class="kwrd">function</span>(dataSourceType)</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode">Using the Enumeration from the client application </pre>
<pre class="csharpcode">as a parameter to the  function  BindGrid , </pre>
<pre class="csharpcode"><span class="kwrd">function</span> CreateGrid( JSONDataToBeBound )
{
  <span class="rem">//Create an instance of the PhotoGrid Control</span>
  <span class="kwrd">var</span> gridElement = <span class="kwrd">new</span> AtlasDemo.PhotoGrid( leftPosition , topPosition,<span class="str">""</span>,0,<span class="str">"tblThumbnails"</span>,horizontalOffset,VerticalOffset) ;
  <span class="rem">//Set the Data for the PhotoGrid Control</span>
  gridElement.setData(JSONDataToBeBound);
  <span class="rem">//Set the Number of images to be shown in one Page</span>
  gridElement.setPageSize( pageSize );
  <span class="rem">//Bind the Grid</span>
  gridElement.BindGrid( AtlasDemo.DataSourceType.JSON  );

}</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode">The Xml Data Format Supported by the PhotoGrid Component</pre>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">ResultSet</span> <span class="attr">totalResultsAvailable</span><span class="kwrd">="2"</span> <span class="attr">totalResultsReturned</span><span class="kwrd">="2"</span> <span class="attr">firstResultPosition</span><span class="kwrd">="0"</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">Results</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">Result</span> <span class="attr">Title</span><span class="kwrd">="just-a-little-bit_1024.jpg"</span> <span class="attr">Summary</span><span class="kwrd">="Website: Deviant Art Homepage Download: 1024x768"</span> <span class="attr">Url</span><span class="kwrd">="http:\/\/www.pixelgirlpresents.com\/images\/desktops\/elyse\/just-a-little-bit_1024.jpg"</span><span class="kwrd">&gt;&lt;/</span><span class="html">Result</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">Result</span> <span class="attr">Title</span><span class="kwrd">="just-a-little-bit_1024.jpg"</span> <span class="attr">Summary</span><span class="kwrd">="Website: Deviant Art Homepage Download: 1024x768"</span> <span class="attr">Url</span><span class="kwrd">="http:\/\/www.pixelgirlpresents.com\/images\/desktops\/elyse\/just-a-little-bit_1024.jpg"</span><span class="kwrd">&gt;&lt;/</span><span class="html">Result</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;/</span><span class="html">Results</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">ResultSet</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode"><strong><u>Calling the BindGrid Function With XMl Data </u></strong></pre>
<pre class="csharpcode">1) Create and append the XML String to  a stringBuilder Object </pre>
<pre class="csharpcode">   <span class="kwrd">var</span> sBuilder = <span class="kwrd">new</span> Sys.StringBuilder(<span class="str">""</span>);
    sBuilder.append(<span class="str">"&lt;ResultSet totalResultsAvailable=\"2\" totalResultsReturned=\"2\" firstResultPosition=\"0\"&gt;"</span>);
        sBuilder.append(<span class="str">"&lt;Results&gt;"</span>);
            sBuilder.append(<span class="str">"&lt;Result Title=\"just-a-little-bit_1024.jpg\" Summary=\"Website: Deviant Art Homepage Download: 1024x768\" Url=\"http:\/\/www.pixelgirlpresents.com\/images\/desktops\/elyse\/just-a-little-bit_1024.jpg\"&gt;&lt;/Result&gt;"</span>);
            sBuilder.append(<span class="str">"&lt;Result Title=\"just-a-little-bit_1024.jpg\" Summary=\"Website: Deviant Art Homepage Download: 1024x768\" Url=\"http:\/\/www.pixelgirlpresents.com\/images\/desktops\/elyse\/just-a-little-bit_1024.jpg\"&gt;&lt;/Result&gt;"</span>);   </pre>
<pre class="csharpcode">        sBuilder.append(<span class="str">"&lt;/Results&gt;"</span>);
    sBuilder.append(<span class="str">"&lt;/ResultSet&gt;"</span>);</pre>
<pre class="csharpcode">2) Set the Data to be rendered by the PhotoGrid Control </pre>
<pre class="csharpcode">PhotoGridGlobalInstance.setData( sBuilder.toString() );</pre>
<pre class="csharpcode">3) Set the DataSource Type to be XML while Binding ..</pre>
<pre class="csharpcode">gridElement.BindGrid( AtlasDemo.DataSourceType.XMLString  );</pre>
<pre class="csharpcode">You are done .. Simple , neat and easy ...</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>

      </div>

      <a href="/extending-the-photogrid-to-allow-xml-databinding-using-javascript-enumerations/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/animating-multiple-controls-on-an-event-using-microsoft-ajax-animationextender-controls/">Animating Multiple Controls on an Event using Microsoft Ajax AnimationExtender Controls</a></h1>

      <div class="entry">
        <p>We can assocaite multiple controls on a single event on a control firing&nbsp; by using the "AnimationTarget" attribute of the Animation class.</p>
<p>lets take the example of a strip of thumbnails which should move upon click on the first thumbnail.</p>
<p>See Demo here</p>
<p>&nbsp;</p>
<div class="wlWriterSmartContent" id="d49da610-fc34-4988-88d9-3c0a788fd878:b79b84c3-e9ce-4546-8d22-fb90073b0e3b" contenteditable="false" style="padding-right: 0px; display: inline; padding-left: 0px; padding-bottom: 0px; margin: 0px; padding-top: 0px"><embed src="http://images.soapbox.msn.com/flash/soapbox1_1.swf" quality="high" width="412" height="362" wmode="transparent" name="msn_soapbox" type="application/x-shockwave-flash" pluginspage="http://macromedia.com/go/getflashplayer" flashvars="c=v&v=fa65abd1-44df-4109-a6b7-ee6ff6ab2865"></embed></div>
<p>We have four thumbnails , arranged ina&nbsp; row , see screenshot below.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/AnimatingMultipleControlsonanEvent_14C22/thumbnails_static11.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/AnimatingMultipleControlsonanEvent_14C22/thumbnails_static11.jpg" atomicselection="true"><img style="border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="192" src="/assets/thumbnails_static_thumb9.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/AnimatingMultipleControlsonanEvent_14C22/thumbnails_static_thumb9.jpg" width="240" border="0" /></a> </p>
<p>We shall use Four Image Controls and position them using Css Positioning Styles.</p>
<pre class="csharpcode"><span class="rem">&lt;!-- The thumbnails that move --&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">asp:Image</span> <span class="attr">runat</span><span class="kwrd">="server"</span>
                <span class="attr">Style</span><span class="kwrd">="position: absolute; top: 100px; left: 100px"</span>
                <span class="attr">ImageUrl</span><span class="kwrd">="~/thumbNails/___Fragile_heart____by_Liek.jpg"</span>
                <span class="attr">ID</span><span class="kwrd">="imgThumbNail1"</span> <span class="attr">CssClass</span><span class="kwrd">="imgThumbNail"</span> <span class="kwrd">/&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">asp:Image</span> <span class="attr">runat</span><span class="kwrd">="server"</span>
                <span class="attr">Style</span><span class="kwrd">="position: absolute; top: 100px; left: 210px"</span>
                <span class="attr">ImageUrl</span><span class="kwrd">="~/thumbNails/001_by_Frnak.jpg"</span>
                <span class="attr">ID</span><span class="kwrd">="imgThumbNail2"</span> <span class="attr">CssClass</span><span class="kwrd">="imgThumbNail"</span> <span class="kwrd">/&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">asp:Image</span> <span class="attr">runat</span><span class="kwrd">="server"</span>
                <span class="attr">Style</span><span class="kwrd">="position: absolute; top: 100px; left: 320px"</span>
                <span class="attr">ImageUrl</span><span class="kwrd">="~/thumbNails/AshXP_Design_1.jpg"</span>
                <span class="attr">ID</span><span class="kwrd">="imgThumbNail3"</span> <span class="attr">CssClass</span><span class="kwrd">="imgThumbNail"</span> <span class="kwrd">/&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">asp:Image</span> <span class="attr">runat</span><span class="kwrd">="server"</span>
                <span class="attr">Style</span><span class="kwrd">="position: absolute; top: 100px; left: 430px"</span>
                <span class="attr">ImageUrl</span><span class="kwrd">="~/thumbNails/Devotion_by_h16.jpg"</span>
                <span class="attr">ID</span><span class="kwrd">="imgThumbNail4"</span> <span class="attr">CssClass</span><span class="kwrd">="imgThumbNail"</span> <span class="kwrd">/&gt;</span></pre>
<pre class="csharpcode">To associate an animation with a control , we need to use the AnimationExtender which is part of the AjaxControlToolKit.</pre>
<pre class="csharpcode"><span class="rem">&lt;!-- The Animation Extender Control --&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">cc1:AnimationExtender</span> <span class="attr">ID</span><span class="kwrd">="AnimationExtender1"</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">TargetControlID</span><span class="kwrd">="imgThumbNail1"</span><span class="kwrd">&gt;</span></pre>
<pre class="csharpcode">We add Animations to this control .</pre>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">Animations</span><span class="kwrd">&gt;</span></pre>
<pre class="csharpcode">We Will move the thumbnails on Clicking on the asp:Image Control .</pre>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">OnClick</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode">The Animations will move in a sequence.</pre>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">Sequence</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode">The animations would be </pre>
<pre class="csharpcode">1) The Image Resizes to a slightly bigger size </pre>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">Resize</span> <span class="attr">height</span>= <span class="kwrd">"130"</span> <span class="attr">width</span><span class="kwrd">="120"</span> <span class="attr">unit</span><span class="kwrd">="px"</span> <span class="attr">duration</span> <span class="kwrd">="0.05"</span> <span class="attr">AnimationTarget</span> <span class="kwrd">="imgThumbNail4"</span><span class="kwrd">&gt;&lt;/</span><span class="html">Resize</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode">2) It Goes back to its original size.</pre>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">Resize</span> <span class="attr">height</span>= <span class="kwrd">"110"</span> <span class="attr">width</span><span class="kwrd">="100"</span> <span class="attr">unit</span><span class="kwrd">="px"</span> <span class="attr">duration</span> <span class="kwrd">="0.05"</span> <span class="attr">AnimationTarget</span> <span class="kwrd">="imgThumbNail4"</span><span class="kwrd">&gt;&lt;/</span><span class="html">Resize</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode">3) It shifts by its horizontal and vertical positions relatively.</pre>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">Move</span> <span class="attr">vertical</span><span class="kwrd">="0"</span> <span class="attr">horizontal</span><span class="kwrd">="50"</span>  <span class="attr">unit</span><span class="kwrd">="px"</span> <span class="attr">relative</span> <span class="kwrd">="true"</span> <span class="attr">duration</span><span class="kwrd">="0.2" <span class="attr">AnimationTarget</span><span class="kwrd">="imgThumbNail4"</span></span><span class="kwrd">&gt;&lt;/</span><span class="html">Move</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode">As you can very clearly see , we can animate controls that were not associated with an animation extender control by using the </pre>
<pre class="csharpcode">"AnimationTarget" Property of the animations</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode">This would repeat for all the 4 controls , the complete tag would look this .</pre>
<pre class="csharpcode"> <span class="kwrd">&lt;</span><span class="html">cc1:AnimationExtender</span> <span class="attr">ID</span><span class="kwrd">="AnimationExtender1"</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">TargetControlID</span><span class="kwrd">="imgThumbNail1"</span><span class="kwrd">&gt;</span>
          <span class="kwrd">&lt;</span><span class="html">Animations</span><span class="kwrd">&gt;</span>
              <span class="kwrd">&lt;</span><span class="html">OnClick</span><span class="kwrd">&gt;</span>
                 <span class="kwrd">&lt;</span><span class="html">Sequence</span><span class="kwrd">&gt;</span>
                     <span class="kwrd">&lt;</span><span class="html">Resize</span> <span class="attr">height</span>= <span class="kwrd">"130"</span> <span class="attr">width</span><span class="kwrd">="120"</span> <span class="attr">unit</span><span class="kwrd">="px"</span> <span class="attr">duration</span> <span class="kwrd">="0.05"</span> <span class="attr">AnimationTarget</span> <span class="kwrd">="imgThumbNail4"</span><span class="kwrd">&gt;&lt;/</span><span class="html">Resize</span><span class="kwrd">&gt;</span>
                     <span class="kwrd">&lt;</span><span class="html">Resize</span> <span class="attr">height</span>= <span class="kwrd">"110"</span> <span class="attr">width</span><span class="kwrd">="100"</span> <span class="attr">unit</span><span class="kwrd">="px"</span> <span class="attr">duration</span> <span class="kwrd">="0.05"</span> <span class="attr">AnimationTarget</span> <span class="kwrd">="imgThumbNail4"</span><span class="kwrd">&gt;&lt;/</span><span class="html">Resize</span><span class="kwrd">&gt;</span>
                     <span class="kwrd">&lt;</span><span class="html">Move</span> <span class="attr">AnimationTarget</span><span class="kwrd">="imgThumbNail4"</span> <span class="attr">vertical</span><span class="kwrd">="0"</span> <span class="attr">horizontal</span><span class="kwrd">="50"</span>  <span class="attr">unit</span><span class="kwrd">="px"</span> <span class="attr">relative</span> <span class="kwrd">="true"</span> <span class="attr">duration</span><span class="kwrd">="0.2"</span><span class="kwrd">&gt;&lt;/</span><span class="html">Move</span><span class="kwrd">&gt;</span>
                     <span class="kwrd">&lt;</span><span class="html">Resize</span> <span class="attr">height</span>= <span class="kwrd">"130"</span> <span class="attr">width</span><span class="kwrd">="120"</span> <span class="attr">unit</span><span class="kwrd">="px"</span> <span class="attr">duration</span> <span class="kwrd">="0.05"</span> <span class="attr">AnimationTarget</span> <span class="kwrd">="imgThumbNail3"</span><span class="kwrd">&gt;&lt;/</span><span class="html">Resize</span><span class="kwrd">&gt;</span>
                     <span class="kwrd">&lt;</span><span class="html">Resize</span> <span class="attr">height</span>= <span class="kwrd">"110"</span> <span class="attr">width</span><span class="kwrd">="100"</span> <span class="attr">unit</span><span class="kwrd">="px"</span> <span class="attr">duration</span> <span class="kwrd">="0.05"</span> <span class="attr">AnimationTarget</span> <span class="kwrd">="imgThumbNail3"</span><span class="kwrd">&gt;&lt;/</span><span class="html">Resize</span><span class="kwrd">&gt;</span>
                     <span class="kwrd">&lt;</span><span class="html">Move</span> <span class="attr">AnimationTarget</span><span class="kwrd">="imgThumbNail3"</span> <span class="attr">vertical</span><span class="kwrd">="0"</span> <span class="attr">horizontal</span><span class="kwrd">="50"</span>  <span class="attr">unit</span><span class="kwrd">="px"</span> <span class="attr">relative</span> <span class="kwrd">="true"</span> <span class="attr">duration</span><span class="kwrd">="0.2"</span><span class="kwrd">&gt;&lt;/</span><span class="html">Move</span><span class="kwrd">&gt;</span>
                     <span class="kwrd">&lt;</span><span class="html">Resize</span> <span class="attr">height</span>= <span class="kwrd">"130"</span> <span class="attr">width</span><span class="kwrd">="120"</span> <span class="attr">unit</span><span class="kwrd">="px"</span> <span class="attr">duration</span> <span class="kwrd">="0.05"</span> <span class="attr">AnimationTarget</span> <span class="kwrd">="imgThumbNail2"</span><span class="kwrd">&gt;&lt;/</span><span class="html">Resize</span><span class="kwrd">&gt;</span>
                     <span class="kwrd">&lt;</span><span class="html">Resize</span> <span class="attr">height</span>= <span class="kwrd">"110"</span> <span class="attr">width</span><span class="kwrd">="100"</span> <span class="attr">unit</span><span class="kwrd">="px"</span> <span class="attr">duration</span> <span class="kwrd">="0.05"</span> <span class="attr">AnimationTarget</span> <span class="kwrd">="imgThumbNail2"</span><span class="kwrd">&gt;&lt;/</span><span class="html">Resize</span><span class="kwrd">&gt;</span>
                     <span class="kwrd">&lt;</span><span class="html">Move</span> <span class="attr">AnimationTarget</span><span class="kwrd">="imgThumbNail2"</span> <span class="attr">vertical</span><span class="kwrd">="0"</span> <span class="attr">horizontal</span><span class="kwrd">="50"</span>  <span class="attr">unit</span><span class="kwrd">="px"</span> <span class="attr">relative</span> <span class="kwrd">="true"</span> <span class="attr">duration</span><span class="kwrd">="0.2"</span><span class="kwrd">&gt;&lt;/</span><span class="html">Move</span><span class="kwrd">&gt;</span>
                     <span class="kwrd">&lt;</span><span class="html">Resize</span> <span class="attr">height</span>= <span class="kwrd">"130"</span> <span class="attr">width</span><span class="kwrd">="120"</span> <span class="attr">unit</span><span class="kwrd">="px"</span> <span class="attr">duration</span> <span class="kwrd">="0.05"</span> <span class="attr">AnimationTarget</span> <span class="kwrd">="imgThumbNail1"</span><span class="kwrd">&gt;&lt;/</span><span class="html">Resize</span><span class="kwrd">&gt;</span>
                     <span class="kwrd">&lt;</span><span class="html">Resize</span> <span class="attr">height</span>= <span class="kwrd">"110"</span> <span class="attr">width</span><span class="kwrd">="100"</span> <span class="attr">unit</span><span class="kwrd">="px"</span> <span class="attr">duration</span> <span class="kwrd">="0.05"</span> <span class="attr">AnimationTarget</span> <span class="kwrd">="imgThumbNail1"</span><span class="kwrd">&gt;&lt;/</span><span class="html">Resize</span><span class="kwrd">&gt;</span>
                     <span class="kwrd">&lt;</span><span class="html">Move</span> <span class="attr">AnimationTarget</span><span class="kwrd">="imgThumbNail1"</span> <span class="attr">vertical</span><span class="kwrd">="0"</span> <span class="attr">horizontal</span><span class="kwrd">="50"</span>  <span class="attr">unit</span><span class="kwrd">="px"</span> <span class="attr">relative</span> <span class="kwrd">="true"</span> <span class="attr">duration</span><span class="kwrd">="0.2"</span><span class="kwrd">&gt;&lt;/</span><span class="html">Move</span><span class="kwrd">&gt;</span>
                 <span class="kwrd">&lt;/</span><span class="html">Sequence</span><span class="kwrd">&gt;</span>
              <span class="kwrd">&lt;/</span><span class="html">OnClick</span><span class="kwrd">&gt;</span>
           <span class="kwrd">&lt;/</span><span class="html">Animations</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">cc1:AnimationExtender</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode">Clicking on the First Thumbnail , we can animate the other controls which do not have animation extenders associated with them.</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>

      </div>

      <a href="/animating-multiple-controls-on-an-event-using-microsoft-ajax-animationextender-controls/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/using-the-prototype-model-with-microsoft-ajax/">Using the Prototype Model with Microsoft AJAX</a></h1>

      <div class="entry">
        <p>Microsoft Ajax allows you to extend your javaScript Programming framework so that you can emulate OOP practices with Javascript .</p>
<p>A SImple Example is <a href="http://ajax.asp.net/docs/tutorials/EnhancingJavaScriptTutorial.aspx">Here</a></p>
<p>The following is a list of stuff you can Use in javascript with Microsoft Ajax Extensions to javascript </p>
<ul>
<li>
<p>Classes</p>
</li>
<li>
<p>Namespaces</p>
</li>
<li>
<p>Inheritance</p>
</li>
<li>
<p>Interfaces</p>
</li>
<li>
<p>Enumerations</p>
</li>
<li>
<p>Reflection</p>
</li>
</ul>
<p>Sounds Neat , doesnt it ?</p>
<p>Well, lets get started ...</p>
<p>&nbsp;</p>
<p>We will build a Re-usable Photo Grid Component that you can use in your applications .</p>
<p>PhotoGrid&nbsp; : It will show a grid of thumbnails with Animations associated with Click of each thumbNail.</p>
<p>On Click of the ThumbNail , the ThumbNail will move to a specific location and Resize itself .</p>
<p>The PhotoGird will have the Following Features.</p>
<ol>
<li>Ability Bind Data in JSON Format  </li>
<li>Paging Functionality in Numbers and "Next" and "Prev" Links  </li>
<li>Jump to a&nbsp; specific page  </li>
<li>Support for Placing the Controls at Specified X and Y Locations  </li>
<li>Support for Customising the Horizontal and Vertical Offset between thumbnails  </li>
<li>Support for specifying the Number of images in each page.</li>
</ol>
<p>It will be written as a Client Side Java Script Re-usable Component</p>
<p>Th JSON Data format will be like this</p>
<pre class="csharpcode">{
<span class="str">"ResultSet"</span>:{<span class="str">"totalResultsAvailable"</span>:<span class="str">"50014"</span>,<span class="str">"totalResultsReturned"</span>:7,<span class="str">"firstResultPosition"</span>:1,
<span class="str">"Result"</span> :
    [
     {
        <span class="str">"Title"</span>:<span class="str">"The-Incredibles-Poster-C10219976.jpeg"</span>,
        <span class="str">"Summary"</span>:<span class="str">""</span>,
        <span class="str">"Url"</span>:<span class="str">"http://a1259.g.akamai.net/f/1259/5586/1d/images.art.com/images/-/The-Incredibles-Poster-C10219976.jpeg"</span>

     }
     {
        <span class="str">"Title"</span>:<span class="str">"The-Incredibles-Poster-C10219976.jpeg"</span>,
        <span class="str">"Summary"</span>:<span class="str">""</span>,
        <span class="str">"Url"</span>:<span class="str">"http://a1259.g.akamai.net/f/1259/5586/1d/images.art.com/images/-/The-Incredibles-Poster-C10219976.jpeg"</span>

     }
    ]
}</pre>
<pre class="csharpcode">The PhotoGrid Component will convert the Data into something that looks like this </pre>
<pre class="csharpcode"><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/UsingthePrototypeModelwithMicrosoftAJAX_14A88/Photo_Grid_Preview4.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePrototypeModelwithMicrosoftAJAX_14A88/Photo_Grid_Preview4.jpg" atomicselection="true"><img style="border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="192" src="/assets/Photo_Grid_Preview3.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePrototypeModelwithMicrosoftAJAX_14A88/Photo_Grid_Preview3.jpg" width="240" border="0" /></a> </pre>
<pre class="csharpcode">On Clicking of a thumbnail  , it will resize itself automatically , then it will look like this </pre>
<pre class="csharpcode"><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/UsingthePrototypeModelwithMicrosoftAJAX_14A88/photo_Grid_THumbnail_Expanded1.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePrototypeModelwithMicrosoftAJAX_14A88/photo_Grid_THumbnail_Expanded1.jpg" atomicselection="true"><img style="border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="192" src="/assets/photo_Grid_THumbnail_Expanded.jpg" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePrototypeModelwithMicrosoftAJAX_14A88/photo_Grid_THumbnail_Expanded.jpg" width="240" border="0" /></a> </pre>
<pre class="csharpcode">Now that I  have , hopefully, <font face="Consolas" size="2">raised your curiosity . lets build this..</font></pre>
<pre class="csharpcode">Creating the PhotoGrid Component using Microsoft AJAX Exntensions</pre>
<pre class="csharpcode">1.Register the NameSpace</pre>
<pre class="csharpcode">Type.registerNamespace(<span class="str">"AtlasDemo"</span>);</pre>
<pre class="csharpcode">2.Declare the Constructor for your class.</pre>
<pre class="csharpcode">AtlasDemo.PhotoGrid = <span class="kwrd">function</span> ( leftPosition , topPosition ,parentControlId ,animatorGlobalIndex ,tableID, horizontalOffset,VerticalOffset ){
<span class="kwrd">this</span>._jsonString        = <span class="str">""</span>;
<span class="kwrd">this</span>._gridData          ;
<span class="kwrd">this</span>._pageIndex         = 0;
<span class="kwrd">this</span>._firstImageIndex   = 0;
<span class="kwrd">this</span>._leftPosition      = leftPosition;
<span class="kwrd">this</span>._topPosition       = topPosition;
<span class="kwrd">this</span>._parentControlId   = parentControlId;
<span class="kwrd">this</span>._thumbNailTableId  = tableID;
<span class="kwrd">this</span>._horizontalOffset  = horizontalOffset;
<span class="kwrd">this</span>._loopIndex         = 0 ;
<span class="kwrd">this</span>._verticalOffset    = VerticalOffset;
<span class="kwrd">this</span>._pageSize          =7;
<span class="kwrd">this</span>._startIndex        =0;
<span class="kwrd">this</span>._initialStart      =0;

}</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode">2. Define the functions of the PhotoGrid using the Prototype model .</pre>
<pre class="csharpcode"><u><strong>Syntax:</strong></u></pre>
<pre class="csharpcode">AtlasDemo.PhotoGrid.prototype = {
  &lt;functionName1&gt;:<span class="kwrd">function</span>([arguments])
  {
    &lt;FunctionBody&gt;
  }
  ,
  &lt;functionName2&gt;:<span class="kwrd">function</span>([arguments])
  {
     &lt;FunctionBody&gt;
  }
}</pre>
<pre class="csharpcode">The Code inside the JS function is specified in this  format , pretty neat  and organised </pre>
<pre class="csharpcode"><strong><u>Actual Function Definitions:</u></strong><br /></pre>
<pre class="csharpcode"><strong>Function Name    : </strong>pagesAvailable</pre>
<pre class="csharpcode"><strong>Function Purpose : </strong>To Return the Number of Pages Available For Paging<strong> </strong></pre>
<pre class="csharpcode"><strong>Return Value     :</strong> JSON Object with the total Number of Pages, Pages available in the Forward Direction and Backward Direction</pre>
<pre class="csharpcode"><strong>Input Parameters : </strong>None</pre>
<pre class="csharpcode"><strong>Function Code:</strong></pre>
<pre class="csharpcode">pagesAvailable:<span class="kwrd">function</span>()
    {
        <span class="kwrd">var</span> totalPages    = parseInt(<span class="kwrd">this</span>._gridData.ResultSet.totalResultsReturned)/parseInt(<span class="kwrd">this</span>._pageSize);
        <span class="kwrd">var</span> pagesForward  = parseInt(totalPages) - ( parseInt(<span class="kwrd">this</span>._pageIndex) +1 ) ;
        <span class="kwrd">var</span> pagesBackWard = parseInt( totalPages - pagesForward );
        <span class="kwrd">var</span> jsonStringData = <span class="str">"{\"pagesData\":{\"totalPages\":\""</span>+totalPages+<span class="str">"\",\"pagesForward\":\""</span>+pagesForward+<span class="str">"\",\"pagesBackWard\":\""</span>+pagesBackWard+<span class="str">"\"}}"</span>
        <span class="kwrd">return</span> ( eval( <span class="str">'('</span> + jsonStringData + <span class="str">')'</span> ) );
    }</pre>
<pre class="csharpcode">The following are functions inside the Prototype function Declaration, the code is omitted for the purpose of clarity.</pre>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode">    setPageSize:<span class="kwrd">function</span>(pageSize)
    {
        &lt;Function Body&gt;
    },
    setData:<span class="kwrd">function</span>(jsonString)
    {
        &lt;Function Body&gt;
    },
    resetPositions:<span class="kwrd">function</span>( leftPosition , topPosition , animatorGlobalIndex  )
    {
        &lt;Function Body&gt;
    },
    resetAll:<span class="kwrd">function</span> ( jsonString ,leftPosition , topPosition ,parentControlId ,animatorGlobalIndex ,tableID, horizontalOffset,VerticalOffset ){
        &lt;Function Body&gt;
    },
    clearResults : <span class="kwrd">function</span>( leftPosition , topPosition , horizontalOffset,VerticalOffset )
    {
        &lt;Function Body&gt;

    },

    ShowPager:<span class="kwrd">function</span>(shouldIShowThePager,pagerControlHolder,pagingFunctionName)
    {
        &lt;Function Body&gt;
    },
    PageForward:<span class="kwrd">function</span>()
    {

        &lt;Function Body&gt;
    },
    __pagingFunction:<span class="kwrd">function</span>()
    {
       &lt;Function Body&gt;
    },
    CurrentPageIndex : <span class="kwrd">function</span>()
    {
        &lt;Function Body&gt;
    },
    PageBackward : <span class="kwrd">function</span>()
    {
        &lt;Function Body&gt;
    },
    AnimateElement:<span class="kwrd">function</span>( imgElement )
    {
        &lt;Function Body&gt;

    },
    CreateNewPhotoCell:<span class="kwrd">function</span>( searchResultItem )
    {
        &lt;Function Body&gt;
    },
    BindGrid : <span class="kwrd">function</span>()
    {
         &lt;Function Body&gt;
    }</pre>
<pre class="csharpcode">3. Once you have declared the functions supported by the PhotoGrid Class, lets Go ahead and register the class.</pre>
<pre class="csharpcode">AtlasDemo.PhotoGrid.registerClass(<span class="str">'AtlasDemo.PhotoGrid'</span>, <span class="kwrd">null</span>, Sys.IDisposable);</pre>
<pre class="csharpcode">You can read all about the registerClass <a href="http://ajax.asp.net/docs/ClientReference/Global/TypeClass/TypeRegisterClassMethod.aspx">Here</a>.</pre>
<pre class="csharpcode">You are now done!</pre>
<pre class="csharpcode">Lets go ahead and see how to use this component in our code.</pre>
<pre class="csharpcode">ASPX Code:</pre>
<pre class="csharpcode">1. Add the Mandatory Script Manager Control.</pre>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">asp:ScriptManager</span> <span class="attr">ID</span><span class="kwrd">="ScriptManager1"</span> <span class="attr">runat</span><span class="kwrd">="server"</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">asp:ScriptManager</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode">2. Include a reference to your script File in the <strong><u><font color="#ff0000">&lt;BODY&gt; of the ASPX Page</font></u></strong></pre>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">script</span> <span class="attr">type</span><span class="kwrd">="text/javascript"</span> <span class="attr">src</span><span class="kwrd">="ClientScripts/PhotoGrid.js"</span><span class="kwrd">&gt;&lt;/</span><span class="html">script</span><span class="kwrd">&gt;</span></pre>
<pre class="csharpcode">3. The Parent Control that will hold the ThumbNails</pre>
<pre class="csharpcode"> <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">id</span><span class="kwrd">="divActualSize"</span> <span class="attr">style</span><span class="kwrd">="left: 10px; overflow: auto; width: 90%; position: absolute;
            top: 18%; height: 650px"</span> <span class="attr">class</span><span class="kwrd">="grey"</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">table</span> <span class="attr">id</span><span class="kwrd">="tblThumbnails"</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;</span><span class="html">tbody</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;/</span><span class="html">tbody</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;/</span><span class="html">table</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p>4. The Client Functions to the PhotoGrid Component
<pre class="csharpcode"><span class="kwrd">function</span> CreateGrid( JSONDataToBeBound )
{
  <span class="rem">//Create an instance of the PhotoGrid Control</span>
  <span class="kwrd">var</span> gridElement = <span class="kwrd">new</span> AtlasDemo.PhotoGrid( leftPosition , topPosition,<span class="str">""</span>,0,<span class="str">"tblThumbnails"</span>,horizontalOffset,VerticalOffset) ;
  <span class="rem">//Set the Data for the PhotoGrid Control</span>
  gridElement.setData(JSONDataToBeBound);
  <span class="rem">//Set the Number of images to be shown in one Page</span>
  gridElement.setPageSize( pageSize );
  <span class="rem">//Bind the Grid</span>
  gridElement.BindGrid( );

}</pre>
<pre class="csharpcode">we are done !</pre>
<pre class="csharpcode">I have made a sample application that uses this control and shows off all the features possible .</pre>
<pre class="csharpcode">Please let me know if this control is of any use to you .</pre>
<pre class="csharpcode"> If yes, then how ?</pre>
<pre class="csharpcode"> If No , then which features / options would make it useful ?</pre>
<pre class="csharpcode">You can download the Sample Application here.</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Components.PostAttachments/00/01/57/46/73/PhotoGrid.zip" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-components-postattachments/00-01-57-46-73/PhotoGrid.zip"> PhotoGrid.zip</a></p></p>

      </div>

      <a href="/using-the-prototype-model-with-microsoft-ajax/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/animation-control-adding-cool-animations-in-your-application-scenario-2/">Animation Control , Adding Cool Animations in your application, Scenario 2</a></h1>

      <div class="entry">
        <p><strong>Assigning Animations to Client-Side Controls</strong></p>
<p>If you need to assign Animation Behaviour&nbsp; to any Client-Side Controls using the AjaxControlToolKit's Animation Extender Control ,</p>
<p>you gotta Explicitly create the AnimationExtender Control on the Client side using the $create function</p>
<p>$create's Documentation is here&nbsp;&nbsp;&nbsp;<a href="http://ajax.asp.net/docs/ClientReference/Sys/ComponentClass/5afdb70e-e14c-4fd7-a674-7ff78bd1fb59.aspx#ID0E55AG">Sys.UI.Component $create Method</a>.</p>
<pre class="csharpcode">$create(type, properties, events, references, element);</pre>
<pre class="csharpcode">Whenever, you add an Animation Extender control using the steps mentioned in my previous Post,</pre>
<p>&nbsp;<a href="http://blogs.msdn.com/phaniraj/archive/2007/01/20/animation-control-another-way-of-changing-users-perception.aspx">Animation Control , Adding Cool Animations in your application</a>&nbsp;,</p>
<p>For the Markup </p>
<pre class="csharpcode"><span class="rem">&lt;!-- asp:Image Control that houses the ThumbNail --&gt;</span>
<span class="kwrd">&lt;</span><span class="html">asp:Image</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">ID</span><span class="kwrd">="imgThumbNail1"</span>
      <span class="attr">CssClass</span><span class="kwrd">="imgThumbNail"</span>
     <span class="attr">ImageUrl</span><span class="kwrd">="thumbNails/Second_Dimension_by_celsojunior.jpg"</span> <span class="kwrd">/&gt;</span>
</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">cc1:AnimationExtender</span> <span class="attr">ID</span><span class="kwrd">="animationExtendThumbNail1"</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">TargetControlID</span><span class="kwrd">="imgThumbNail1"</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">Animations</span><span class="kwrd">&gt;</span>
       <span class="kwrd">&lt;</span><span class="html">OnClick</span><span class="kwrd">&gt;</span>
              <span class="kwrd">&lt;</span><span class="html">Move</span> <span class="attr">Duration</span><span class="kwrd">=".2"</span>  <span class="attr">horizontal</span><span class="kwrd">="800"</span> <span class="attr">vertical</span><span class="kwrd">="600"</span> <span class="attr">Unit</span><span class="kwrd">="px"</span>  <span class="kwrd">/&gt;</span>
        <span class="kwrd">&lt;/</span><span class="html">OnClick</span><span class="kwrd">&gt;</span>
   <span class="kwrd">&lt;/</span><span class="html">Animations</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">cc1:AnimationExtender</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p>The Runtime generates the Following&nbsp; $create Function </p>
<pre class="csharpcode">&lt;script type=<span class="str">"text/javascript"</span>&gt;
&lt;!--

Sys.Application.initialize();
&lt;!-- Called when the Client Side Script Framework
    and Controls are Initialised--&gt;
Sys.Application.add_init(function() {
    $create(AjaxControlToolkit.Animation.AnimationBehavior,
    {
         &lt;!-- The ID to be associated with the control--&gt;
<span class="str">         "id"</span>:<span class="str">"animationExtendThumbNail1"</span>,
         imgThumbNail1
         <span class="str">"OnClick"</span>:<span class="str">"{\"AnimationName\":\"Move\",\"Duration\":\".2\",\"horizontal\":\"800\",\"vertical\":\"600\",\"Unit\":\"px\",\"AnimationChildren\":[]}"</span>,
        &lt;!-- The Control to be targeted <span class="str">imgThumbNail1-</span>-&gt;
         <span class="kwrd">null</span>, <span class="kwrd">null</span>, $get(<span class="str">"imgThumbNail1"</span>));
});
--&gt;
&lt;/script&gt;</pre>
<pre class="csharpcode">Looking at this , we understand that the Server-Side Control associated with the Animation Control is Specified as the </pre>
<pre class="csharpcode">   last parameter of the $create function is the Element the behaviour has to be associated with .</pre>
<pre class="csharpcode">So , lets start by creating a client Side Control .</pre>
<pre class="csharpcode">1) Create an &lt;img&gt; tag on the client Side , using the document.CreateElement Method</pre>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode"><span class="rem">/**********</span>
<span class="rem">Function Name : CreateClientSideElementAndAttachAnimation</span>
<span class="rem">Parameters    : </span>
<span class="rem">               a) parentElementId : The Parent Element Which will house the Dynamically Created Control .</span>
<span class="rem">               </span>
<span class="rem">Purpose       : This Function Creates A client Side &lt;img&gt; tag and Calls the Function to attach the Animation behavior</span>
<span class="rem">**********/</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode"><span class="rem">//parentElementId is the ID of the HTML element that will house the Dynamically Created Client Side Control </span>
<span class="kwrd">function</span>  CreateClientSideElementAndAttachAnimation(parentElementId)
{
   <span class="rem">//Lets be Efficient and use StringBuilder :-)</span>
   <span class="kwrd">var</span> imgElementTagString = <span class="kwrd">new</span> Sys.StringBuilder(<span class="str">""</span>);</pre>
<pre class="csharpcode">   <span class="rem">// The ID of the dynamically Created control</span>
   <span class="kwrd">var</span> imgElementID = <span class="str">"imgDynamicControl"</span>
   imgElementTagString.append(<span class="str">"&lt;img"</span>);
        imgElementTagString.append(<span class="str">" id=\""</span>+imgElementID+<span class="str">"\" "</span>);</pre>
<pre class="csharpcode">        <span class="rem">//Style the Control to have the "Position" Attribute set to "Absolute" and assign the left and Top Positions of the control </span>
        imgElementTagString.append(<span class="str">" style=\"position:absolute;top:100px;left:20px;\" "</span>);
        imgElementTagString.append(<span class="str">" src=\"thumbNails/Second_Dimension_by_celsojunior.jpg\" "</span>);</pre>
<pre class="csharpcode">   imgElementTagString.append(<span class="str">"/&gt;"</span>);
   <span class="rem">//Create the Img Tag using the document.createElement</span>
   <span class="kwrd">var</span> imgElement = document.createElement( imgElementTagString.toString() );</pre>
<pre class="csharpcode">   <span class="rem">//Add the Child to the "ChildNodes" collection of the Parent Control </span>
   $get(parentElementId).appendChild( imgElement );

   <span class="rem">//Attach the Animation Control to the Dynamically Created Image Element</span>
   AttachAnimation( imgElementID );

}</pre>
<pre class="csharpcode">2) Attach the Animation to the Dynamically Created Control </pre>
<pre class="csharpcode"><span class="rem">/**********</span>
<span class="rem">Function Name : AttachAnimation</span>
<span class="rem">Parameters    : </span>
<span class="rem">               a) controlID :  The Dynamically Created Control that has to be associated with the Animation Extender</span>
<span class="rem">               </span>
<span class="rem">Purpose       : This Function Creates an Animation Extender on the Client Side and Associates the Behaviour with the Dynamically </span>
<span class="rem">                Created Control Side</span>
<span class="rem">**********/</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode"><span class="kwrd">function</span> AttachAnimation( controlID )
{
    <span class="rem">//The Id of the Dynamically Created Animation Extender Control </span>
    <span class="kwrd">var</span> animatorID = <span class="str">"dynamicallyCreatedAnimationExtender"</span>;

    <span class="rem">//Dynamically Create the  Animation Extender Control </span>
    $create(AjaxControlToolkit.Animation.AnimationBehavior,
    {<span class="str">"id"</span>:animatorID,</pre>
<pre class="csharpcode">    <span class="rem">//The Animation associted with the Extender in JSON </span></pre>
<pre class="csharpcode">     <span class="str">"OnClick"</span>:<span class="str">"{\"AnimationName\":\"Move\",\"Duration\":\".2\",\"horizontal\":\"800\",\"vertical\":\"600\",\"Unit\":\"px\",\"AnimationChildren\":[]}"</span>}</pre>
<pre class="csharpcode">    <span class="rem">// Associate the Client-Side Control with the Animation Extender by  using  "$get(&lt;controlID&gt;")</span></pre>
<pre class="csharpcode">     <span class="kwrd">null</span>, <span class="kwrd">null</span>, $get(controlID) );
}</pre>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode">The Script might look a little convoluted , but once you get the hang of it, its pretty easy to tweak it as necessary .</pre>
<pre class="csharpcode">&nbsp;</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>

      </div>

      <a href="/animation-control-adding-cool-animations-in-your-application-scenario-2/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/animation-control-adding-cool-animations-in-your-application-scenario-1/">Animation Control , Adding Cool Animations in your application, Scenario 1</a></h1>

      <div class="entry">
        <p><strong><u>See Demo here</u></strong></p>
<p><strong><u></u></strong>&nbsp;</p>
<div class="wlWriterSmartContent" id="d49da610-fc34-4988-88d9-3c0a788fd878:cb11441d-94a8-4da5-8a4c-8527b298f2de" contenteditable="false" style="padding-right: 0px; display: inline; padding-left: 0px; padding-bottom: 0px; margin: 0px; padding-top: 0px"><embed src="http://images.soapbox.msn.com/flash/soapbox1_1.swf" quality="high" width="412" height="362" wmode="transparent" name="msn_soapbox" type="application/x-shockwave-flash" pluginspage="http://macromedia.com/go/getflashplayer" flashvars="c=v&v=01fbf437-018c-4b18-9673-89ee4b012ef7"></embed></div>
<p>1) Register the AjaxControlToolkit&nbsp; in your page </p>
<div class="csharpcode-wrapper">
<pre class="csharpcode">&lt;%@ Register Assembly=<span class="str">"AjaxControlToolkit"</span> Namespace=<span class="str">"AjaxControlToolkit"</span> TagPrefix=<span class="str">"cc1"</span> %&gt;
</pre>
</div>
<pre class="csharpcode">2) Add a Script Manager </pre>
<blockquote><pre class="csharpcode"></pre>
<div class="csharpcode-wrapper">
<div class="csharpcode">
<pre><span class="lnum">   1:</span> &lt;!-- Mandatory Script Manager Control--&gt;</pre>
<pre><span class="lnum">   2:</span> &lt;asp:ScriptManager ID=<span class="str">"ScriptManager1"</span> runat=<span class="str">"server"</span>&gt;</pre>
<pre><span class="lnum">   3:</span> &lt;/asp:ScriptManager&gt;</pre>
</div>
</div>
</blockquote>
<pre class="csharpcode"><span class="kwrd"><font color="#000000">3) Add  A Server Side Control to attach the Animation to ( We will discuss how to bind Client Side Elements later ).</font></span></pre>
<pre class="csharpcode"><span class="kwrd"><font color="#000000"></font></span></pre>
<div class="csharpcode-wrapper">
<pre class="csharpcode">&lt;!-- Image to Animate--&gt;&lt;asp:Image Visible=<span class="str">"false"</span> runat=<span class="str">"server"</span> ID=<span class="str">"imgThumbNail1"</span>
CssClass=<span class="str">"imgThumbNail"</span>
 ImageUrl=<span class="str">"thumbNails/Second_Dimension_by_celsojunior.jpg"</span> /&gt;</pre>
</div>
<pre class="csharpcode">4) Declare Your Animation Control Extender Instance </pre>
<blockquote>
<div></div>
<div class="csharpcode-wrapper">
<pre class="csharpcode">&lt;!-- Markup For the Animation Extender Control--&gt;
&lt;cc1:AnimationExtender ID=<span class="str">"animationExtendThumbNail1"</span>    runat=<span class="str">"server"</span> TargetControlID=<span class="str">"imgThumbNail1"</span>&gt;
&lt;/cc1:AnimationExtender&gt;</pre>
<style type="text/css">.csharpcode-wrapper, .csharpcode-wrapper pre {<br />
  background-color: #f4f4f4;<br />
  border: solid 1px gray;<br />
  cursor: text;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  margin: 20px 0px 10px 0px;<br />
  max-height: 200px;<br />
  overflow: auto;<br />
  padding: 4px 4px 4px 4px;<br />
  width: 97.5%;<br />
}<br />
.csharpcode-wrapper pre {<br />
  border-style: none;<br />
  margin: 0px 0px 0px 0px;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
}<br />
.csharpcode, .csharpcode pre, .csharpcode .alt {<br />
  background-color: #f4f4f4;<br />
  border-style: none;<br />
  color: black;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
  width: 100%;<br />
}<br />
.csharpcode pre {<br />
  margin: 0em;<br />
}<br />
.csharpcode .alt {<br />
  background-color: white;<br />
}<br />
.csharpcode .asp {<br />
  background-color: #ffff00;<br />
}<br />
.csharpcode .attr {<br />
  color: #ff0000;<br />
}<br />
.csharpcode .html {<br />
  color: #800000;<br />
}<br />
.csharpcode .kwrd {<br />
  color: #0000ff;<br />
}<br />
.csharpcode .lnum {<br />
  color: #606060;<br />
}<br />
.csharpcode .op {<br />
  color: #0000c0;<br />
}<br />
.csharpcode .preproc {<br />
  color: #cc6633;<br />
}<br />
.csharpcode .rem {<br />
  color: #008000;<br />
}<br />
.csharpcode .str {<br />
  color: #006080;<br />
}<br />
</style>
</div>
</blockquote>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode">5) The TargetControlID is the ID of the Control which you want to animate , it has to be a Server-Side Control .</pre>
<pre class="csharpcode">6) Define Your Animation Elements, include the "Animations" Tag</pre>
<blockquote><pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">Animations</span><span class="kwrd">&gt;</span></pre>
</blockquote>
<pre class="csharpcode">7) Now , lets make our image move to a spicific point in the page , such as Left=300,Top=400 , when the Image is clicked.</pre>
<pre class="csharpcode">   To Cause UI elements to move , we need to use the &lt;Move&gt; animation Tag .</pre>
<pre class="csharpcode">   For a complete Reference of animations , go <a title="Complete Reference of Animation Behaviours" href="http://ajax.asp.net/ajaxtoolkit/Walkthrough/AnimationReference.aspx">Here</a> . </pre>
<blockquote><pre class="csharpcode"></pre>
<div class="csharpcode-wrapper">
<pre class="csharpcode">&lt;OnClick&gt;
        &lt;Move Duration=<span class="str">".2"</span>  horizontal=<span class="str">"300"</span> vertical=<span class="str">"400"</span> relative=<span class="str">"false"</span> Unit=<span class="str">"px"</span>  /&gt;
&lt;/OnClick&gt;</pre>
<style type="text/css">.csharpcode-wrapper, .csharpcode-wrapper pre {<br />
  background-color: #f4f4f4;<br />
  border: solid 1px gray;<br />
  cursor: text;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  margin: 20px 0px 10px 0px;<br />
  max-height: 200px;<br />
  overflow: auto;<br />
  padding: 4px 4px 4px 4px;<br />
  width: 97.5%;<br />
}<br />
.csharpcode-wrapper pre {<br />
  border-style: none;<br />
  margin: 0px 0px 0px 0px;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
}<br />
.csharpcode, .csharpcode pre, .csharpcode .alt {<br />
  background-color: #f4f4f4;<br />
  border-style: none;<br />
  color: black;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
  width: 100%;<br />
}<br />
.csharpcode pre {<br />
  margin: 0em;<br />
}<br />
.csharpcode .alt {<br />
  background-color: white;<br />
}<br />
.csharpcode .asp {<br />
  background-color: #ffff00;<br />
}<br />
.csharpcode .attr {<br />
  color: #ff0000;<br />
}<br />
.csharpcode .html {<br />
  color: #800000;<br />
}<br />
.csharpcode .kwrd {<br />
  color: #0000ff;<br />
}<br />
.csharpcode .lnum {<br />
  color: #606060;<br />
}<br />
.csharpcode .op {<br />
  color: #0000c0;<br />
}<br />
.csharpcode .preproc {<br />
  color: #cc6633;<br />
}<br />
.csharpcode .rem {<br />
  color: #008000;<br />
}<br />
.csharpcode .str {<br />
  color: #006080;<br />
}<br />
</style>
</div>
</blockquote>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode">8) The "Duration" attribute specifies the timespan in which the animation has to be completed, its measured in Seconds.</pre>
<pre class="csharpcode">9) "Unit"  specifies the unit by which the Control  has to move .</pre>
<pre class="csharpcode">10) Now , lets say that you want the Image Control to move by Left =300 and Top = 400  from its current Position , then you gotta set the </pre>
<pre class="csharpcode">    "relative"  attribute to "true".By default its "false".</pre>
<pre class="csharpcode">11) End Tags</pre>
<pre class="csharpcode">  <span class="kwrd">&lt;/</span><span class="html">Animations</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">cc1:AnimationExtender</span><span class="kwrd">&gt;</span></pre>
<pre class="csharpcode">12) Lets look at the "imgThumbNail" CssClass</pre>
<pre class="csharpcode"></pre>
<div class="csharpcode-wrapper">
<div class="csharpcode">
<pre><span class="lnum">   1:</span> .imgThumbNail</pre>
<pre><span class="lnum">   2:</span> {</pre>
<pre><span class="lnum">   3:</span>    position:absolute;</pre>
<pre><span class="lnum">   4:</span>    height: 110px;</pre>
<pre><span class="lnum">   5:</span>    width: 100px;</pre>
<pre><span class="lnum">   6:</span>    cursor: hand;</pre>
<pre><span class="lnum">   7:</span> }</pre>
</div>
</div>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode">13) Any Control  that has to be animated using the MOVE animation <u><font color="#ff0000">HAS to Have the "Position" attribute set to "absolute"</font> </u></pre>
<pre class="csharpcode">    because the Control has to be positioned absolutely to move on the screen.</pre>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode">There you go !</pre>
<pre class="csharpcode">Click on the Image Control and see the Image move !</pre>
<pre class="csharpcode"><style type="text/css">.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style></pre>
<pre class="csharpcode">&nbsp;</pre>

      </div>

      <a href="/animation-control-adding-cool-animations-in-your-application-scenario-1/" class="read-more">Read More</a>
    </article>
  
    <article class="post">

      <h1><a href="/building-a-simple-client-callback-to-youtube-with-atlas/">Building a Simple Client Callback to YouTube with Atlas</a></h1>

      <div class="entry">
        <pre>   <p>We will talk about how we can use Atlas to talk to YouTube using the REST protocol .</p><p mce_keep="true">&nbsp;</p><p>1) Download Visual Web Developer , Go <a href="http://msdn.microsoft.com/vstudio/express/vwd/download/" target="_blank" mce_href="http://msdn.microsoft.com/vstudio/express/vwd/download/"><font color="#669966">Here</font></a></p><p>2) Download Atlas , Go <a href="http://ajax.asp.net/default.aspx?tabid=47&amp;subtabid=471" target="_blank" mce_href="http://ajax.asp.net/default.aspx?tabid=47&amp;subtabid=471"><font color="#669966">Here</font></a></p><p>3) Get an Application Developer ID at Youtube . Go <a href="https://www.youtube.com/dev" target="_blank" mce_href="https://www.youtube.com/dev"><font color="#669966">Here</font></a> </p><p mce_keep="true">&nbsp;</p><p>After you are done  running around the world collecting tools , you should be all set to take on YouTube .</p><p mce_keep="true">&nbsp;</p><p mce_keep="true">&nbsp;</p><p>We have a WebService that talks to YouTube's REST Interface and downloads Data .</p><p>Without Getting into Discussions of using Service Bridges , we will have a wrapper over the YouTube REST-API using a </p><p>webservice on the Server-Side.</p><p mce_keep="true">&nbsp;</p><p><strong><u>The YouTube Wrapper Class</u></strong></p><p><strong><u></u></strong>&nbsp;</p><p>We have a class that wraps the Fucntionality Provided by YouTube REST APIs , lets Call it "YouTubeSearch".</p><p>It will  have a method called "SearchTags" which takes a Tagname as an input and will return results of the type "VideoRow"</p><p mce_keep="true">&nbsp;</p><p> Schema of VideoRow  Class</p><p mce_keep="true">&nbsp;</p><p><strong></strong></p>&nbsp;<pre class="csharpcode">  ClassName  : VideoRow
  Methods    : None
  Attributes :

  Name          Description
   Url           The Url to View the Video on
   ThumbNailUrl  The Url to View the thumbnail of the video
   Description   A Short Description of the video</pre>
<pre class="csharpcode">&nbsp;</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p>Signature of the SearchTags method of YouTubeSearch </p>
<p mce_keep="true">&nbsp;</p>
<pre class="csharpcode"><span class="kwrd">public</span> <span class="kwrd">static</span> List&lt;VideoRow&gt; SearchVideoTags(<span class="kwrd">string</span> tagName)</pre>
<pre class="csharpcode">&nbsp;</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p>Make a WebClient Request to the RESTBased Webservice and gather the downloaded info onto a string</p>
<p mce_keep="true">&nbsp;</p>
<pre class="csharpcode"><span class="kwrd">string</span> requestURL = <span class="str">"https://www.youtube.com/api2_rest?method=youtube.videos.list_by_tag&amp;dev_id="</span> +
    youTubeAppId + <span class="str">"&amp;tag="</span> + tagName + <span class="str">"&amp;per_page=6"</span>
WebClient restRequest = <span class="kwrd">new</span> WebClient();
<span class="kwrd">string</span> dataDownloaded = restRequest.DownloadString(requestURL);</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p mce_keep="true">&nbsp;</p>
<p> Read the Downloaded String onto a DataSet</p>
<p mce_keep="true">&nbsp;</p>
<pre class="csharpcode">DataSet dsResultSet = <span class="kwrd">new</span> DataSet();
StringReader dataWriter = <span class="kwrd">new</span> StringReader(dataDownloaded);
dsResultSet.ReadXml(dataWriter);</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p mce_keep="true">&nbsp;</p>
<p> Convert the DataRows onto VideoRows
<p>&nbsp;<br />
<blockquote>
<p><strong></strong></p>
<pre class="csharpcode">&nbsp;</pre>
<pre class="csharpcode"><span class="kwrd">foreach</span> (DataRow drVideoRow <span class="kwrd">in</span> dsResultSet.Tables[<span class="str">"video"</span>].Rows)
{
searchResults.Add(<span class="kwrd">new</span> VideoRow( drVideoRow[<span class="str">"url"</span>].ToString(),
drVideoRow[<span class="str">"thumbnail_url"</span>].ToString(),
drVideoRow[<span class="str">"description"</span>].ToString()));
}</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
</blockquote>
<p mce_keep="true">&nbsp;</p>
<p> return searchResults back to Caller</p>
<p mce_keep="true">&nbsp;</p>
<p><strong><u>The ServerSide WebService</u></strong></p>
<p><strong><u></u></strong>&nbsp;</p>
<p>1) Create a WebService </p>
<p>2) Include the Following Directive to make the Web-Service "Client Proxiable"</p>
<p mce_keep="true">&nbsp;</p>
<pre class="csharpcode"><span class="kwrd">using</span> Microsoft.Web.Script.Services;</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<blockquote><p mce_keep="true">&nbsp;</p>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
</blockquote>
<p>3) Decorate the Webservice with the "ScriptService" attribute.</p>
<p mce_keep="true">&nbsp;</p>
<pre class="csharpcode">[ScriptService]
<span class="kwrd">public</span> <span class="kwrd">class</span> AjaxService : System.Web.Services.WebService </pre>
<pre class="csharpcode">&nbsp;</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p>4) The methods of the webservice that need to be proxied onto the client are marked as "<strong>WebMethod"</strong></p>
<p mce_keep="true">&nbsp;</p>
<pre class="csharpcode">[WebMethod]
<span class="kwrd">public</span> <span class="kwrd">string</span> SearchYouTube(<span class="kwrd">string</span> tagName)</pre>
<pre class="csharpcode">&nbsp;</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p>5) Call the <strong>SearchVideoTags </strong>method of the YouTube Wrapper class with the Parameter passed from the Client Proxy.</p>
<p>Have the Content Formatted in the form of a Usercontrol's rendered output  .</p>
<p>  I use a ViewManager to implement the MVC pattern here.</p>
<p>For an explanation of the same , refer to ScottGu's blog post <a href="http://weblogs.asp.net/scottgu/archive/2006/10/22/Tip_2F00_Trick_3A00_-Cool-UI-Templating-Technique-to-use-with-ASP.NET-AJAX-for-non_2D00_UpdatePanel-scenarios.aspx" mce_href="http://weblogs.asp.net/scottgu/archive/2006/10/22/Tip_2F00_Trick_3A00_-Cool-UI-Templating-Technique-to-use-with-ASP.NET-AJAX-for-non_2D00_UpdatePanel-scenarios.aspx"><font color="#669966">Here</font></a> .</p>
<p mce_keep="true">&nbsp;</p>
<p mce_keep="true">&nbsp;</p>
<p><strong><u>Markup of the View</u></strong></p>
<p><strong><u></u></strong>&nbsp;</p>
<pre class="csharpcode">&lt;asp:DataList runat=<span class="str">"server"</span> ID=<span class="str">"grdvSearchResults"</span>
         RepeatColumns=<span class="str">"6"</span> RepeatDirection=<span class="str">"Horizontal"</span>
        BorderStyle=<span class="str">"None"</span> BorderWidth=<span class="str">"0px"</span>
         GridLines=<span class="str">"none"</span> Width=<span class="str">"100%"</span>&gt;
&lt;ItemTemplate&gt;
&lt;a href=<span class="str">"&lt;%#DataBinder.Eval(Container.DataItem, "</span>Url<span class="str">")%&gt;"</span>&gt;
   &lt;img  src=<span class="str">"&lt;%#DataBinder.Eval(Container.DataItem, "</span>ThumbNailUrl<span class="str">")%&gt;"</span>
     title=<span class="str">"&lt;%#DataBinder.Eval(Container.DataItem, "</span>Description<span class="str">")%&gt;"</span>/&gt;
  &lt;/a&gt;
&lt;/ItemTemplate&gt;
&lt;SeparatorTemplate&gt;   &amp;nbsp;&amp;nbsp;&amp;nbsp;   &lt;/SeparatorTemplate&gt;
&lt;/asp:DataList&gt;</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p>
6) Return the Rendered View in the form of a String back to the Client Method calling this Webmethod .</p>
<p mce_keep="true">&nbsp;</p>
<p><strong><u> The Client Web Page </u></strong></p>
<p mce_keep="true">&nbsp;</p>
<p>The Following Controls will be put in ..</p>
<p mce_keep="true">&nbsp;</p>
<p><strong><u>HTML Controls </u></strong></p>
<p mce_keep="true">&nbsp;</p>
<p> 1) A textbox which provides the Tag to search for. </p>
<blockquote><p mce_keep="true">&nbsp;</p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">input</span> <span class="attr">type</span><span class="kwrd">="text"</span> <span class="attr">id</span><span class="kwrd">="searchKey"</span><span class="kwrd">/&gt;</span></pre>
<pre class="csharpcode"><span class="kwrd"></span>&nbsp;</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
</blockquote>
<p> 2) A button to call the  Search Function in the Webservice .</p>
<blockquote><p mce_keep="true">&nbsp;</p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">input</span> <span class="attr">Type</span><span class="kwrd">="button"</span> <span class="attr">id</span><span class="kwrd">="btnSearchServer"</span>
    <span class="attr">onclick</span> <span class="kwrd">="SearchYouTube(searchKey.value)"</span>
    <span class="attr">value</span> <span class="kwrd">="Search You Tube"</span><span class="kwrd">/&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p mce_keep="true">&nbsp;</p>
</blockquote>
<p> 3) A Div to show the Server Returned Markup .</p>
<blockquote><p mce_keep="true">&nbsp;</p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">id</span><span class="kwrd">="serverMarkupRecipient"</span><span class="kwrd">&gt;</span>
     Search Results Go Here
<span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
</blockquote>
<p mce_keep="true">&nbsp;</p>
<p><strong><u>AJAX Controls</u></strong></p>
<p>A Script Manager to Generate the proxy of the webservice and handle all Ajax Scripts </p>
<p>We will add a Service Reference to the WebService that we want a Client proxy for ..</p>
<p mce_keep="true">&nbsp;</p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">asp:ScriptManager</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">ID</span><span class="kwrd">="scrpManager"</span><span class="kwrd">&gt;</span>
     <span class="kwrd">&lt;</span><span class="html">Services</span><span class="kwrd">&gt;</span>
       <span class="kwrd">&lt;</span><span class="html">asp:ServiceReference</span> <span class="attr">Path</span><span class="kwrd">="~/Services/AjaxService.asmx"</span> <span class="kwrd">/&gt;</span>
     <span class="kwrd">&lt;/</span><span class="html">Services</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">asp:ScriptManager</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p mce_keep="true">&nbsp;</p>
<p mce_keep="true">&nbsp;</p>
<p><strong><u>Javascript Code to Call the Webservice</u></strong></p>
<p mce_keep="true">&nbsp;</p>
<pre class="csharpcode"><span class="kwrd">function</span> SearchYouTube( searchTag )
{
<span class="rem">// The Proxy generated enables you to do something as simple as calling a method on an object .   </span>
<span class="rem">// the Two parameters are &lt;inputparam&gt;,&lt;OnCompleteCallback&gt;   </span>
    AjaxService.SearchYouTube(searchTag,VideSearchCallback );
} </pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<pre class="csharpcode">&nbsp;</pre>
<p mce_keep="true">&nbsp;</p>
<pre class="csharpcode"><span class="kwrd">function</span> VideSearchCallback(returnValue)
{
  <span class="rem">// Microsft Ajax  enables Browser - Independent ways to wrappers To Document.getElementById as $get    //Show the Div Element   </span>
 $get(<span class="str">"serverMarkupRecipient"</span>).style.display= <span class="str">"block"</span>
  <span class="rem">//Inject Server Returned Markup into the DIV element    </span>
 $get(<span class="str">"serverMarkupRecipient"</span>).innerHTML = returnValue;
}</pre>
<style type="text/css">.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }<br />
</style>
<p>Thats it , You can download the Source of the application Here </p></p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Components.PostAttachments/00/01/18/80/38/AjaxYouTube.zip" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-components-postattachments/00-01-18-80-38/AjaxYouTube.zip">AjaxYouTube.zip</a></p>

      </div>

      <a href="/building-a-simple-client-callback-to-youtube-with-atlas/" class="read-more">Read More</a>
    </article>
  
</div>
    </div>

    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer">
          



<a href="https://github.com/barryclark/jekyll-now"><i class="svg-icon github"></i></a>




<a href="https://www.twitter.com/jekyllrb"><i class="svg-icon twitter"></i></a>



        </footer>
      </div>
    </div>

    

  </body>
</html>
