<!DOCTYPE html>
<html>
  <head>
    <title>Introducing Web Friendly Feeds aka Friendly Feeds (Updated for CTP2) – Phani Raj – Technical Lead at HP Cloud</title>

        <meta charset="utf-8" />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>

    
    <meta name="description" content="Hello all , with the recent release of ADO.NET Data v1.5 Services CTP 1 , we introduced a new feature called as “Web Friendly Feeds”.    With the release of CTP2 , we have introduced support for 2 additional ATOM:Entry elements you can map to:

entry:Summary 
entry:Updated 

What is this feature about ?
This is what the markup for one of the the resources of Customers looks like in ADO.NET Data Services v1 .
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;yes&quot; ?&gt;
&lt;entry
xml:base=http://localhost:26503/northwind.svc/ xmlns:d=http://schemas.microsoft.com/ado/2007/08/dataservices xmlns:m=http://schemas.microsoft.com/ado/2007/08/dataservices/metadata xmlns=&quot;http://www.w3.org/2005/Atom&quot;&gt;
  &lt;id&gt;http://localhost:26503/northwind.svc/Customers('ALFKI')&lt;/id&gt;
  &lt;title type=&quot;text&quot; /&gt;
  &lt;updated&gt;2009-03-18T20:30:20Z&lt;/updated&gt;
  &lt;author&gt;
  &lt;name /&gt;
  &lt;/author&gt;
 &lt;category term=&quot;NorthwindModel.Customers&quot; scheme=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/scheme&quot; /&gt;
 &lt;content type=&quot;application/xml&quot;&gt;
 &lt;m:properties&gt;
  &lt;d:CustomerID&gt;ALFKI&lt;/d:CustomerID&gt;
  &lt;d:CompanyName&gt;Alfreds Futterkiste&lt;/d:CompanyName&gt;
  &lt;d:ContactName&gt;Maria Anders&lt;/d:ContactName&gt;
  &lt;d:ContactTitle&gt;Sales Representative&lt;/d:ContactTitle&gt;
  &lt;d:Address&gt;Obere Str. 57&lt;/d:Address&gt;
  &lt;d:City&gt;Berlin&lt;/d:City&gt;
  &lt;d:Region m:null=&quot;true&quot; /&gt;
  &lt;d:PostalCode&gt;12209&lt;/d:PostalCode&gt;
  &lt;d:Country&gt;Germany&lt;/d:Country&gt;
  &lt;d:Phone&gt;030-0074321&lt;/d:Phone&gt;
  &lt;d:Fax&gt;030-0076545&lt;/d:Fax&gt;
  &lt;/m:properties&gt;
  &lt;/content&gt;
&lt;/entry&gt;

In the markup above , a couple of things are missing 
1) The &lt;title&gt; element is empty 
&lt;title type=&quot;text&quot; /&gt;
2) The author/name element is empty 
&lt;author&gt;
    &lt;name /&gt;
&lt;/author&gt;
In v 1.5 , through Friendly Feeds , we will now be able to assign a property of the “Customers” entity type to turn up in these element locations in the atom:entry payload.
Now , let’s say that we wanted to map the “ContactName” as the author name element of the entry element and Title to be “ContactTitle” as the title of the entry element.
  Then , the payload would look like this :

&lt;entry &gt;
  &lt;id&gt;http://localhost:26503/northwind.svc/Customers('ALFKI')&lt;/id&gt;
  &lt;title type=&quot;text&quot;&gt;Sales Representative&lt;/title&gt;
  &lt;updated&gt;2009-03-18T20:46:42Z&lt;/updated&gt;
 &lt;author&gt;
  &lt;name&gt;Maria Anders&lt;/name&gt;
  &lt;/author&gt;
&lt;category term=&quot;NorthwindModel.Customers&quot; scheme=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/scheme&quot; /&gt;
 &lt;content type=&quot;application/xml&quot;&gt;
 &lt;m:properties&gt;
  &lt;d:CustomerID&gt;ALFKI&lt;/d:CustomerID&gt;
  &lt;d:CompanyName&gt;Alfreds Futterkiste&lt;/d:CompanyName&gt;
  &lt;d:ContactName&gt;Maria Anders&lt;/d:ContactName&gt;
  &lt;d:ContactTitle&gt;Sales Representative&lt;/d:ContactTitle&gt;
  &lt;d:Address&gt;Obere Str. 57&lt;/d:Address&gt;
  &lt;d:City&gt;Berlin&lt;/d:City&gt;
  &lt;d:Region m:null=&quot;true&quot; /&gt;
  &lt;d:PostalCode&gt;12209&lt;/d:PostalCode&gt;
  &lt;d:Country&gt;Germany&lt;/d:Country&gt;
  &lt;d:Phone&gt;030-0074321&lt;/d:Phone&gt;
  &lt;d:Fax&gt;030-0076545&lt;/d:Fax&gt;
  &lt;/m:properties&gt;
  &lt;/content&gt;
&lt;/entry&gt;
This also means , that IE now displays the Title &amp; author Name elements when you browse to the “Customers” entity set .

Which elements in the atom:entry element can I map to an entity type properties ?

entry:author/email 
entry:author/name 
entry:author/uri 
entry:published 
entry:rights 
entry:summary 
entry:title 
entry:updated 
entry:summary 

Once a property is mapped , if keeping the value of the property&#160; in the entry:contents section doesn’t make sense,can I remove it ?
    Yes , absolutely , in the above case , we can remove the ContactName &amp; ContactTitle elements from being repeated in the &lt;contents&gt; section.
Ex:
&lt;entry&gt;
  &lt;id&gt;http://localhost:26503/northwind.svc/Customers('ALFKI')&lt;/id&gt;
  &lt;title type=&quot;text&quot;&gt;Sales Representative&lt;/title&gt;
  &lt;updated&gt;2009-03-18T21:04:20Z&lt;/updated&gt;
  &lt;author&gt;
  &lt;name&gt;Maria Anders&lt;/name&gt;
  &lt;/author&gt;
  &lt;category term=&quot;NorthwindModel.Customers&quot; scheme=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/scheme&quot; /&gt;
 &lt;content type=&quot;application/xml&quot;&gt;
 &lt;m:properties&gt;
  &lt;d:CustomerID&gt;ALFKI&lt;/d:CustomerID&gt;
  &lt;d:CompanyName&gt;Alfreds Futterkiste&lt;/d:CompanyName&gt;
  &lt;d:Address&gt;Obere Str. 57&lt;/d:Address&gt;
  &lt;d:City&gt;Berlin&lt;/d:City&gt;
  &lt;d:Region m:null=&quot;true&quot; /&gt;
  &lt;d:PostalCode&gt;12209&lt;/d:PostalCode&gt;
  &lt;d:Country&gt;Germany&lt;/d:Country&gt;
  &lt;d:Phone&gt;030-0074321&lt;/d:Phone&gt;
  &lt;d:Fax&gt;030-0076545&lt;/d:Fax&gt;
  &lt;/m:properties&gt;
  &lt;/content&gt;
  &lt;/entry&gt;
Great , what else can I do with this new feature ?
    Well, did I mention you can embed your own markup in the &lt;entry&gt; element for an entity type !!!
consider the following entity type , BlogPost , which looks like this 
public class BlogPost {
        public double Lat { get; set; }
        public double Long { get; set; }
        public int BlogPostID { get; set; }
        public string Title { get; set; }
        public string Body { get; set; }
        public string Author { get; set; }
        public string PostURI { get; set; }
        public string ContentSummary{get;set;}
}
This type represents the entry for a blog post , and also contains the Geographical location information about where the post was made ( Lat /Long)
  and also the author information. Now , if this data was exposed via a Data Service, the payload would contain the Lat/Long/Published fields as part of&#160; the entry:content element and wouldn’t have any special meaning.
The author element should be the Author field of the atom:entry , and the Published field to be the atom:published.
the Lat &amp; Long fields should be a georss element that shows the location at which the Blog Post was made.
In short , it should look like this :
&lt;entry&gt;
  &lt;id&gt;http://localhost/AstoriaBoard/Services/BlogSvc.svc/Posts(1)&lt;/id&gt;
  &lt;title type=&quot;text&quot;&gt;Entities, How many ways do I count thee ?&lt;/title&gt;
  &lt;summary type=&quot;html&quot;&gt;          &lt;img class='imgClass' width='150px' height='150px' src='/AStoriaBoard/mug.jpg'/&gt;&lt;br/&gt;Its a common ask that we introduce aggregatin   &lt;/summary&gt;
  &lt;published&gt;2009-03-18T14:29:43-07:00&lt;/published&gt;
  &lt;updated&gt;2009-03-18T21:29:43Z&lt;/updated&gt;
 &lt;author&gt;
  &lt;name&gt;Phani Raj&lt;/name&gt;
  &lt;/author&gt;
  &lt;link rel=&quot;edit&quot; title=&quot;BlogPost&quot; href=&quot;Posts(1)&quot; /&gt;
  &lt;category term=&quot;Blogs.BlogPost&quot; scheme=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/scheme&quot; /&gt;
 &lt;content type=&quot;application/xml&quot;&gt;
 &lt;m:properties&gt;
  &lt;d:BlogPostID m:type=&quot;Edm.Int32&quot;&gt;1&lt;/d:BlogPostID&gt;
  &lt;d:Body&gt;Its a common ask that we introduce aggregating mechanisms in Data services           so that one can do a Count of the number of entities present in an EntitySet easily.           In this blog post , I will outline one method of implementing a “Count” method that works for you.           The interface to the count method will be&lt;/d:Body&gt;
  &lt;d:Author&gt;Phani Raj&lt;/d:Author&gt;
  &lt;d:PostURI m:null=&quot;true&quot; /&gt;
  &lt;/m:properties&gt;
  &lt;/content&gt;
 &lt;geo xmlns=&quot;http://www.georss.org/georss&quot;&gt;
   &lt;long&gt;-80.244445&lt;/long&gt;
   &lt;lat&gt;25.730752&lt;/lat&gt;
 &lt;/geo&gt;
 &lt;/entry&gt;
Now that we got this markup , I feel like we should do something with it . How about showing this information on a MAP ?
  I know !! We have a mapping solution , Virtual Earth , lets try and see if we can feed this feed to Virtual Earth and make it see our GeoRss markup.
Recently , ( November 2008 ), the Live team released the Map control as an asp.net control . Download it here :http://dev.live.com/tools/
Add this control to an aspx page in the same website as the Data Service .
&lt;%@ Page Language=&quot;C#&quot; AutoEventWireup=&quot;true&quot; CodeFile=&quot;Default.aspx.cs&quot; Inherits=&quot;_Default&quot; %&gt;

&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head runat=&quot;server&quot;&gt;
    &lt;title&gt;&lt;/title&gt;
    &lt;style&gt;
        .imgClass{
            border: solid 2px #99ccff;}
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;form id=&quot;form1&quot; runat=&quot;server&quot;&gt;
    &lt;script language=&quot;javascript&quot;&gt;
        function pageLoad() {
            HookUpWorkAround();
        }
    &lt;/script&gt;
    &lt;div id=&quot;mapContainer&quot;&gt;
        &lt;ve:Map ID=&quot;geoRssMap&quot; runat=&quot;server&quot; Height=&quot;600px&quot; Width=&quot;75%&quot; ZoomLevel=&quot;4&quot; /&gt;
    &lt;/div&gt;
    &lt;asp:ScriptManager ID=&quot;scrpManager&quot; runat=&quot;server&quot;&gt;
        &lt;Scripts&gt;
            &lt;asp:ScriptReference Path=&quot;~/Scripts/VEWorkAround.js&quot; /&gt;
        &lt;/Scripts&gt;
    &lt;/asp:ScriptManager&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;

In the code-behind file , 
using System;
using Microsoft.Live.ServerControls.VE;

public partial class _Default : System.Web.UI.Page
{
    protected void Page_Load(object sender, EventArgs e)
    {
        //Clear out any mapped locations
        geoRssMap.Clear();
        //Create a new shapelayer to import
        ShapeLayer geoRssLayer = new ShapeLayer();
        //Point the shape layer at the data source returning the mapping information
        ShapeSourceSpecification georssSpec = new ShapeSourceSpecification(
                    DataType.GeoRSS, &quot;Services/BlogSvc.svc/Posts&quot;, geoRssLayer
                    );
        //Bind the feed to the map
        geoRssMap.ImportShapeLayerData(georssSpec, null, false);
    }
}

You might be wondering why we need the HookUpWorkAround() function and what it does , I’ll explain that in a later blog post .
  After this , set the web page as the startup page and browse to the page in FireFox , I’ll explain why Firefox in a later blog post .
And voila !! This is what the page looks like :

You can download the&#160; sample project that demonstrates this feature by clicking on the link at the bottom of this post
All this demonstrates the what and not the how , we shall discuss the how in future blog posts.
In the meantime ,enjoy this sample app and try out your own mashups.
" />
    <meta property="og:description" content="Hello all , with the recent release of ADO.NET Data v1.5 Services CTP 1 , we introduced a new feature called as “Web Friendly Feeds”.    With the release of CTP2 , we have introduced support for 2 additional ATOM:Entry elements you can map to:

entry:Summary 
entry:Updated 

What is this feature about ?
This is what the markup for one of the the resources of Customers looks like in ADO.NET Data Services v1 .
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;yes&quot; ?&gt;
&lt;entry
xml:base=http://localhost:26503/northwind.svc/ xmlns:d=http://schemas.microsoft.com/ado/2007/08/dataservices xmlns:m=http://schemas.microsoft.com/ado/2007/08/dataservices/metadata xmlns=&quot;http://www.w3.org/2005/Atom&quot;&gt;
  &lt;id&gt;http://localhost:26503/northwind.svc/Customers('ALFKI')&lt;/id&gt;
  &lt;title type=&quot;text&quot; /&gt;
  &lt;updated&gt;2009-03-18T20:30:20Z&lt;/updated&gt;
  &lt;author&gt;
  &lt;name /&gt;
  &lt;/author&gt;
 &lt;category term=&quot;NorthwindModel.Customers&quot; scheme=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/scheme&quot; /&gt;
 &lt;content type=&quot;application/xml&quot;&gt;
 &lt;m:properties&gt;
  &lt;d:CustomerID&gt;ALFKI&lt;/d:CustomerID&gt;
  &lt;d:CompanyName&gt;Alfreds Futterkiste&lt;/d:CompanyName&gt;
  &lt;d:ContactName&gt;Maria Anders&lt;/d:ContactName&gt;
  &lt;d:ContactTitle&gt;Sales Representative&lt;/d:ContactTitle&gt;
  &lt;d:Address&gt;Obere Str. 57&lt;/d:Address&gt;
  &lt;d:City&gt;Berlin&lt;/d:City&gt;
  &lt;d:Region m:null=&quot;true&quot; /&gt;
  &lt;d:PostalCode&gt;12209&lt;/d:PostalCode&gt;
  &lt;d:Country&gt;Germany&lt;/d:Country&gt;
  &lt;d:Phone&gt;030-0074321&lt;/d:Phone&gt;
  &lt;d:Fax&gt;030-0076545&lt;/d:Fax&gt;
  &lt;/m:properties&gt;
  &lt;/content&gt;
&lt;/entry&gt;

In the markup above , a couple of things are missing 
1) The &lt;title&gt; element is empty 
&lt;title type=&quot;text&quot; /&gt;
2) The author/name element is empty 
&lt;author&gt;
    &lt;name /&gt;
&lt;/author&gt;
In v 1.5 , through Friendly Feeds , we will now be able to assign a property of the “Customers” entity type to turn up in these element locations in the atom:entry payload.
Now , let’s say that we wanted to map the “ContactName” as the author name element of the entry element and Title to be “ContactTitle” as the title of the entry element.
  Then , the payload would look like this :

&lt;entry &gt;
  &lt;id&gt;http://localhost:26503/northwind.svc/Customers('ALFKI')&lt;/id&gt;
  &lt;title type=&quot;text&quot;&gt;Sales Representative&lt;/title&gt;
  &lt;updated&gt;2009-03-18T20:46:42Z&lt;/updated&gt;
 &lt;author&gt;
  &lt;name&gt;Maria Anders&lt;/name&gt;
  &lt;/author&gt;
&lt;category term=&quot;NorthwindModel.Customers&quot; scheme=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/scheme&quot; /&gt;
 &lt;content type=&quot;application/xml&quot;&gt;
 &lt;m:properties&gt;
  &lt;d:CustomerID&gt;ALFKI&lt;/d:CustomerID&gt;
  &lt;d:CompanyName&gt;Alfreds Futterkiste&lt;/d:CompanyName&gt;
  &lt;d:ContactName&gt;Maria Anders&lt;/d:ContactName&gt;
  &lt;d:ContactTitle&gt;Sales Representative&lt;/d:ContactTitle&gt;
  &lt;d:Address&gt;Obere Str. 57&lt;/d:Address&gt;
  &lt;d:City&gt;Berlin&lt;/d:City&gt;
  &lt;d:Region m:null=&quot;true&quot; /&gt;
  &lt;d:PostalCode&gt;12209&lt;/d:PostalCode&gt;
  &lt;d:Country&gt;Germany&lt;/d:Country&gt;
  &lt;d:Phone&gt;030-0074321&lt;/d:Phone&gt;
  &lt;d:Fax&gt;030-0076545&lt;/d:Fax&gt;
  &lt;/m:properties&gt;
  &lt;/content&gt;
&lt;/entry&gt;
This also means , that IE now displays the Title &amp; author Name elements when you browse to the “Customers” entity set .

Which elements in the atom:entry element can I map to an entity type properties ?

entry:author/email 
entry:author/name 
entry:author/uri 
entry:published 
entry:rights 
entry:summary 
entry:title 
entry:updated 
entry:summary 

Once a property is mapped , if keeping the value of the property&#160; in the entry:contents section doesn’t make sense,can I remove it ?
    Yes , absolutely , in the above case , we can remove the ContactName &amp; ContactTitle elements from being repeated in the &lt;contents&gt; section.
Ex:
&lt;entry&gt;
  &lt;id&gt;http://localhost:26503/northwind.svc/Customers('ALFKI')&lt;/id&gt;
  &lt;title type=&quot;text&quot;&gt;Sales Representative&lt;/title&gt;
  &lt;updated&gt;2009-03-18T21:04:20Z&lt;/updated&gt;
  &lt;author&gt;
  &lt;name&gt;Maria Anders&lt;/name&gt;
  &lt;/author&gt;
  &lt;category term=&quot;NorthwindModel.Customers&quot; scheme=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/scheme&quot; /&gt;
 &lt;content type=&quot;application/xml&quot;&gt;
 &lt;m:properties&gt;
  &lt;d:CustomerID&gt;ALFKI&lt;/d:CustomerID&gt;
  &lt;d:CompanyName&gt;Alfreds Futterkiste&lt;/d:CompanyName&gt;
  &lt;d:Address&gt;Obere Str. 57&lt;/d:Address&gt;
  &lt;d:City&gt;Berlin&lt;/d:City&gt;
  &lt;d:Region m:null=&quot;true&quot; /&gt;
  &lt;d:PostalCode&gt;12209&lt;/d:PostalCode&gt;
  &lt;d:Country&gt;Germany&lt;/d:Country&gt;
  &lt;d:Phone&gt;030-0074321&lt;/d:Phone&gt;
  &lt;d:Fax&gt;030-0076545&lt;/d:Fax&gt;
  &lt;/m:properties&gt;
  &lt;/content&gt;
  &lt;/entry&gt;
Great , what else can I do with this new feature ?
    Well, did I mention you can embed your own markup in the &lt;entry&gt; element for an entity type !!!
consider the following entity type , BlogPost , which looks like this 
public class BlogPost {
        public double Lat { get; set; }
        public double Long { get; set; }
        public int BlogPostID { get; set; }
        public string Title { get; set; }
        public string Body { get; set; }
        public string Author { get; set; }
        public string PostURI { get; set; }
        public string ContentSummary{get;set;}
}
This type represents the entry for a blog post , and also contains the Geographical location information about where the post was made ( Lat /Long)
  and also the author information. Now , if this data was exposed via a Data Service, the payload would contain the Lat/Long/Published fields as part of&#160; the entry:content element and wouldn’t have any special meaning.
The author element should be the Author field of the atom:entry , and the Published field to be the atom:published.
the Lat &amp; Long fields should be a georss element that shows the location at which the Blog Post was made.
In short , it should look like this :
&lt;entry&gt;
  &lt;id&gt;http://localhost/AstoriaBoard/Services/BlogSvc.svc/Posts(1)&lt;/id&gt;
  &lt;title type=&quot;text&quot;&gt;Entities, How many ways do I count thee ?&lt;/title&gt;
  &lt;summary type=&quot;html&quot;&gt;          &lt;img class='imgClass' width='150px' height='150px' src='/AStoriaBoard/mug.jpg'/&gt;&lt;br/&gt;Its a common ask that we introduce aggregatin   &lt;/summary&gt;
  &lt;published&gt;2009-03-18T14:29:43-07:00&lt;/published&gt;
  &lt;updated&gt;2009-03-18T21:29:43Z&lt;/updated&gt;
 &lt;author&gt;
  &lt;name&gt;Phani Raj&lt;/name&gt;
  &lt;/author&gt;
  &lt;link rel=&quot;edit&quot; title=&quot;BlogPost&quot; href=&quot;Posts(1)&quot; /&gt;
  &lt;category term=&quot;Blogs.BlogPost&quot; scheme=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/scheme&quot; /&gt;
 &lt;content type=&quot;application/xml&quot;&gt;
 &lt;m:properties&gt;
  &lt;d:BlogPostID m:type=&quot;Edm.Int32&quot;&gt;1&lt;/d:BlogPostID&gt;
  &lt;d:Body&gt;Its a common ask that we introduce aggregating mechanisms in Data services           so that one can do a Count of the number of entities present in an EntitySet easily.           In this blog post , I will outline one method of implementing a “Count” method that works for you.           The interface to the count method will be&lt;/d:Body&gt;
  &lt;d:Author&gt;Phani Raj&lt;/d:Author&gt;
  &lt;d:PostURI m:null=&quot;true&quot; /&gt;
  &lt;/m:properties&gt;
  &lt;/content&gt;
 &lt;geo xmlns=&quot;http://www.georss.org/georss&quot;&gt;
   &lt;long&gt;-80.244445&lt;/long&gt;
   &lt;lat&gt;25.730752&lt;/lat&gt;
 &lt;/geo&gt;
 &lt;/entry&gt;
Now that we got this markup , I feel like we should do something with it . How about showing this information on a MAP ?
  I know !! We have a mapping solution , Virtual Earth , lets try and see if we can feed this feed to Virtual Earth and make it see our GeoRss markup.
Recently , ( November 2008 ), the Live team released the Map control as an asp.net control . Download it here :http://dev.live.com/tools/
Add this control to an aspx page in the same website as the Data Service .
&lt;%@ Page Language=&quot;C#&quot; AutoEventWireup=&quot;true&quot; CodeFile=&quot;Default.aspx.cs&quot; Inherits=&quot;_Default&quot; %&gt;

&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head runat=&quot;server&quot;&gt;
    &lt;title&gt;&lt;/title&gt;
    &lt;style&gt;
        .imgClass{
            border: solid 2px #99ccff;}
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;form id=&quot;form1&quot; runat=&quot;server&quot;&gt;
    &lt;script language=&quot;javascript&quot;&gt;
        function pageLoad() {
            HookUpWorkAround();
        }
    &lt;/script&gt;
    &lt;div id=&quot;mapContainer&quot;&gt;
        &lt;ve:Map ID=&quot;geoRssMap&quot; runat=&quot;server&quot; Height=&quot;600px&quot; Width=&quot;75%&quot; ZoomLevel=&quot;4&quot; /&gt;
    &lt;/div&gt;
    &lt;asp:ScriptManager ID=&quot;scrpManager&quot; runat=&quot;server&quot;&gt;
        &lt;Scripts&gt;
            &lt;asp:ScriptReference Path=&quot;~/Scripts/VEWorkAround.js&quot; /&gt;
        &lt;/Scripts&gt;
    &lt;/asp:ScriptManager&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;

In the code-behind file , 
using System;
using Microsoft.Live.ServerControls.VE;

public partial class _Default : System.Web.UI.Page
{
    protected void Page_Load(object sender, EventArgs e)
    {
        //Clear out any mapped locations
        geoRssMap.Clear();
        //Create a new shapelayer to import
        ShapeLayer geoRssLayer = new ShapeLayer();
        //Point the shape layer at the data source returning the mapping information
        ShapeSourceSpecification georssSpec = new ShapeSourceSpecification(
                    DataType.GeoRSS, &quot;Services/BlogSvc.svc/Posts&quot;, geoRssLayer
                    );
        //Bind the feed to the map
        geoRssMap.ImportShapeLayerData(georssSpec, null, false);
    }
}

You might be wondering why we need the HookUpWorkAround() function and what it does , I’ll explain that in a later blog post .
  After this , set the web page as the startup page and browse to the page in FireFox , I’ll explain why Firefox in a later blog post .
And voila !! This is what the page looks like :

You can download the&#160; sample project that demonstrates this feature by clicking on the link at the bottom of this post
All this demonstrates the what and not the how , we shall discuss the how in future blog posts.
In the meantime ,enjoy this sample app and try out your own mashups.
" />
    
    <meta name="author" content="Phani Raj" />

    
    <meta property="og:title" content="Introducing Web Friendly Feeds aka Friendly Feeds (Updated for CTP2)" />
    <meta property="twitter:title" content="Introducing Web Friendly Feeds aka Friendly Feeds (Updated for CTP2)" />
    

    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="alternate" type="application/rss+xml" title="Phani Raj - Technical Lead at HP Cloud" href="/feed.xml" />

    <!-- Created with Jekyll Now - http://github.com/barryclark/jekyll-now -->
  </head>

  <body>
    <div class="wrapper-masthead">
      <div class="container">
        <header class="masthead clearfix">
          <a href="/" class="site-avatar"><img src="https://raw.githubusercontent.com/barryclark/jekyll-now/master/images/jekyll-logo.png" /></a>

          <div class="site-info">
            <h1 class="site-name"><a href="/">Phani Raj</a></h1>
            <p class="site-description">Technical Lead at HP Cloud</p>
          </div>

          <nav>
            <a href="/">Blog</a>
            <a href="/about">About</a>
          </nav>
        </header>
      </div>
    </div>

    <div id="main" role="main" class="container">
      <article class="post">
  <h1>Introducing Web Friendly Feeds aka Friendly Feeds (Updated for CTP2)</h1>

  <div class="entry">
    <p>Hello all , with the recent release of ADO.NET Data v1.5 Services CTP 1 , we introduced a new feature called as “Web Friendly Feeds”.    <br />With the release of CTP2 , we have introduced support for 2 additional ATOM:Entry elements you can map to:</p>
<ol>
<li>entry:Summary </li>
<li>entry:Updated </li>
</ol>
<p><strong>What is this feature about ?</strong></p>
<p>This is what the markup for one of the the resources of Customers looks like in ADO.NET Data Services v1 .</p>
<pre class="csharpcode"><span class="kwrd">&lt;?</span><span class="html">xml</span> <span class="attr">version</span><span class="kwrd">=&quot;1.0&quot;</span> <span class="attr">encoding</span><span class="kwrd">=&quot;utf-8&quot;</span> <span class="attr">standalone</span><span class="kwrd">=&quot;yes&quot;</span> ?<span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">entry</span>
<span class="attr">xml:base</span><span class="kwrd">=<a href="http://localhost:26503/northwind.svc/" mce_href="http://localhost:26503/northwind.svc/">http://localhost:26503/northwind.svc/</a></span> <br /><span class="attr"><br />xmlns:d</span><span class="kwrd">=<a href="http://schemas.microsoft.com/ado/2007/08/dataservices" mce_href="http://schemas.microsoft.com/ado/2007/08/dataservices">http://schemas.microsoft.com/ado/2007/08/dataservices</a></span> <br /><span class="attr">xmlns:m</span><span class="kwrd">=<a href="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata" mce_href="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata">http://schemas.microsoft.com/ado/2007/08/dataservices/metadata</a></span> <br /><span class="attr">xmlns</span><span class="kwrd">=&quot;http://www.w3.org/2005/Atom&quot;</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">id</span><span class="kwrd">&gt;</span>http://localhost:26503/northwind.svc/Customers('ALFKI')<span class="kwrd">&lt;/</span><span class="html">id</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">title</span> <span class="attr">type</span><span class="kwrd">=&quot;text&quot;</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">updated</span><span class="kwrd">&gt;</span>2009-03-18T20:30:20Z<span class="kwrd">&lt;/</span><span class="html">updated</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">author</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">name</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">author</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">category</span> <span class="attr">term</span><span class="kwrd">=&quot;NorthwindModel.Customers&quot;</span> <span class="attr">scheme</span><span class="kwrd">=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/scheme&quot;</span> <span class="kwrd">/&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">content</span> <span class="attr">type</span><span class="kwrd">=&quot;application/xml&quot;</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:CustomerID</span><span class="kwrd">&gt;</span>ALFKI<span class="kwrd">&lt;/</span><span class="html">d:CustomerID</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:CompanyName</span><span class="kwrd">&gt;</span>Alfreds Futterkiste<span class="kwrd">&lt;/</span><span class="html">d:CompanyName</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:ContactName</span><span class="kwrd">&gt;</span>Maria Anders<span class="kwrd">&lt;/</span><span class="html">d:ContactName</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:ContactTitle</span><span class="kwrd">&gt;</span>Sales Representative<span class="kwrd">&lt;/</span><span class="html">d:ContactTitle</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Address</span><span class="kwrd">&gt;</span>Obere Str. 57<span class="kwrd">&lt;/</span><span class="html">d:Address</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:City</span><span class="kwrd">&gt;</span>Berlin<span class="kwrd">&lt;/</span><span class="html">d:City</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Region</span> <span class="attr">m:null</span><span class="kwrd">=&quot;true&quot;</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:PostalCode</span><span class="kwrd">&gt;</span>12209<span class="kwrd">&lt;/</span><span class="html">d:PostalCode</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Country</span><span class="kwrd">&gt;</span>Germany<span class="kwrd">&lt;/</span><span class="html">d:Country</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Phone</span><span class="kwrd">&gt;</span>030-0074321<span class="kwrd">&lt;/</span><span class="html">d:Phone</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Fax</span><span class="kwrd">&gt;</span>030-0076545<span class="kwrd">&lt;/</span><span class="html">d:Fax</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">content</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">entry</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">
<p>.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }</style>
<p>In the markup above , a couple of things are missing </p>
<p>1) The &lt;title&gt; element is empty </p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">title</span> <span class="attr">type</span><span class="kwrd">=&quot;text&quot;</span> <span class="kwrd">/&gt;</span></pre>
<p>2) The author/name element is empty </p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">author</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">name</span> <span class="kwrd">/&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">author</span><span class="kwrd">&gt;</span></pre>
<p>In v 1.5 , through Friendly Feeds , we will now be able to assign a property of the “Customers” entity type to turn up in these element locations in the atom:entry payload.</p>
<p>Now , let’s say that we wanted to map the “ContactName” as the author name element of the entry element and Title to be “ContactTitle” as the title of the entry element.<br />
  <br />Then , the payload would look like this :</p>
<p></p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">entry</span> <span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">id</span><span class="kwrd">&gt;</span>http://localhost:26503/northwind.svc/Customers('ALFKI')<span class="kwrd">&lt;/</span><span class="html">id</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">title</span> <span class="attr">type</span><span class="kwrd">=&quot;text&quot;</span><span class="kwrd">&gt;</span>Sales Representative<span class="kwrd">&lt;/</span><span class="html">title</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">updated</span><span class="kwrd">&gt;</span>2009-03-18T20:46:42Z<span class="kwrd">&lt;/</span><span class="html">updated</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">author</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">name</span><span class="kwrd">&gt;</span>Maria Anders<span class="kwrd">&lt;/</span><span class="html">name</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">author</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">category</span> <span class="attr">term</span><span class="kwrd">=&quot;NorthwindModel.Customers&quot;</span> <span class="attr">scheme</span><span class="kwrd">=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/scheme&quot;</span> <span class="kwrd">/&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">content</span> <span class="attr">type</span><span class="kwrd">=&quot;application/xml&quot;</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:CustomerID</span><span class="kwrd">&gt;</span>ALFKI<span class="kwrd">&lt;/</span><span class="html">d:CustomerID</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:CompanyName</span><span class="kwrd">&gt;</span>Alfreds Futterkiste<span class="kwrd">&lt;/</span><span class="html">d:CompanyName</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:ContactName</span><span class="kwrd">&gt;</span>Maria Anders<span class="kwrd">&lt;/</span><span class="html">d:ContactName</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:ContactTitle</span><span class="kwrd">&gt;</span>Sales Representative<span class="kwrd">&lt;/</span><span class="html">d:ContactTitle</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Address</span><span class="kwrd">&gt;</span>Obere Str. 57<span class="kwrd">&lt;/</span><span class="html">d:Address</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:City</span><span class="kwrd">&gt;</span>Berlin<span class="kwrd">&lt;/</span><span class="html">d:City</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Region</span> <span class="attr">m:null</span><span class="kwrd">=&quot;true&quot;</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:PostalCode</span><span class="kwrd">&gt;</span>12209<span class="kwrd">&lt;/</span><span class="html">d:PostalCode</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Country</span><span class="kwrd">&gt;</span>Germany<span class="kwrd">&lt;/</span><span class="html">d:Country</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Phone</span><span class="kwrd">&gt;</span>030-0074321<span class="kwrd">&lt;/</span><span class="html">d:Phone</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Fax</span><span class="kwrd">&gt;</span>030-0076545<span class="kwrd">&lt;/</span><span class="html">d:Fax</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">content</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">entry</span><span class="kwrd">&gt;</span></pre>
<p>This also means , that IE now displays the Title &amp; author Name elements when you browse to the “Customers” entity set .</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/AStoria_Feed_Reading_View.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/AStoria_Feed_Reading_View.png" mce_href="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/AStoria_Feed_Reading_View.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="AStoria_Feed_Reading_View" border="0" alt="AStoria_Feed_Reading_View" src="/assets/AStoria_Feed_Reading_View_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/AStoria_Feed_Reading_View_thumb.png" width="644" height="322" mce_src="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/AStoria_Feed_Reading_View_thumb.png" /></a></p>
<p><strong>Which elements in the atom:entry element can I map to an entity type properties ?</strong></p>
<ol>
<li>entry:author/email </li>
<li>entry:author/name </li>
<li>entry:author/uri </li>
<li>entry:published </li>
<li>entry:rights </li>
<li>entry:summary </li>
<li>entry:title </li>
<li>entry:updated </li>
<li>entry:summary </li>
</ol>
<p><strong>Once a property is mapped , if keeping the value of the property&#160; in the entry:contents section doesn’t make sense,can I remove it ?<br />
    <br /></strong>Yes , absolutely , in the above case , we can remove the ContactName &amp; ContactTitle elements from being repeated in the &lt;contents&gt; section.</p>
<p>Ex:</p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">entry</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">id</span><span class="kwrd">&gt;</span>http://localhost:26503/northwind.svc/Customers('ALFKI')<span class="kwrd">&lt;/</span><span class="html">id</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">title</span> <span class="attr">type</span><span class="kwrd">=&quot;text&quot;</span><span class="kwrd">&gt;</span>Sales Representative<span class="kwrd">&lt;/</span><span class="html">title</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">updated</span><span class="kwrd">&gt;</span>2009-03-18T21:04:20Z<span class="kwrd">&lt;/</span><span class="html">updated</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">author</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">name</span><span class="kwrd">&gt;</span>Maria Anders<span class="kwrd">&lt;/</span><span class="html">name</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">author</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">category</span> <span class="attr">term</span><span class="kwrd">=&quot;NorthwindModel.Customers&quot;</span> <span class="attr">scheme</span><span class="kwrd">=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/scheme&quot;</span> <span class="kwrd">/&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">content</span> <span class="attr">type</span><span class="kwrd">=&quot;application/xml&quot;</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:CustomerID</span><span class="kwrd">&gt;</span>ALFKI<span class="kwrd">&lt;/</span><span class="html">d:CustomerID</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:CompanyName</span><span class="kwrd">&gt;</span>Alfreds Futterkiste<span class="kwrd">&lt;/</span><span class="html">d:CompanyName</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Address</span><span class="kwrd">&gt;</span>Obere Str. 57<span class="kwrd">&lt;/</span><span class="html">d:Address</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:City</span><span class="kwrd">&gt;</span>Berlin<span class="kwrd">&lt;/</span><span class="html">d:City</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Region</span> <span class="attr">m:null</span><span class="kwrd">=&quot;true&quot;</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:PostalCode</span><span class="kwrd">&gt;</span>12209<span class="kwrd">&lt;/</span><span class="html">d:PostalCode</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Country</span><span class="kwrd">&gt;</span>Germany<span class="kwrd">&lt;/</span><span class="html">d:Country</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Phone</span><span class="kwrd">&gt;</span>030-0074321<span class="kwrd">&lt;/</span><span class="html">d:Phone</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Fax</span><span class="kwrd">&gt;</span>030-0076545<span class="kwrd">&lt;/</span><span class="html">d:Fax</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">content</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">entry</span><span class="kwrd">&gt;</span></pre>
<p><strong>Great , what else can I do with this new feature ?<br />
    <br /></strong>Well, did I mention you can <font size="4">embed your own markup in the &lt;entry&gt; element for an entity type !!!</font></p>
<p>consider the following entity type , BlogPost , which looks like this </p>
<pre class="code"><span style="color: blue">public class </span><span style="color: #2b91af">BlogPost </span>{
        <span style="color: blue">public double </span>Lat { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
        <span style="color: blue">public double </span>Long { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
        <span style="color: blue">public int </span>BlogPostID { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
        <span style="color: blue">public string </span>Title { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
        <span style="color: blue">public string </span>Body { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
        <span style="color: blue">public string </span>Author { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
        <span style="color: blue">public string </span>PostURI { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
        <span style="color: blue">public string </span>ContentSummary{get;set;}
}</pre>
<p>This type represents the entry for a blog post , and also contains the Geographical location information about where the post was made ( Lat /Long)<br />
  <br />and also the author information. Now , if this data was exposed via a Data Service, the payload would contain the Lat/Long/Published fields as part of&#160; <br />the entry:content element and wouldn’t have any special meaning.</p>
<p>The author element should be the Author field of the atom:entry , and the Published field to be the atom:published.</p>
<p>the Lat &amp; Long fields should be a georss element that shows the location at which the Blog Post was made.</p>
<p>In short , it should look like this :</p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">entry</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">id</span><span class="kwrd">&gt;</span>http://localhost/AstoriaBoard/Services/BlogSvc.svc/Posts(1)<span class="kwrd">&lt;/</span><span class="html">id</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">title</span> <span class="attr">type</span><span class="kwrd">=&quot;text&quot;</span><span class="kwrd">&gt;</span>Entities, How many ways do I count thee ?<span class="kwrd">&lt;/</span><span class="html">title</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">summary</span> <span class="attr">type</span><span class="kwrd">=&quot;html&quot;</span><span class="kwrd">&gt;<br />          &lt;</span><span class="html">img</span> <span class="attr">class</span><span class="kwrd">='imgClass'</span> <span class="attr">width</span><span class="kwrd">='150px'</span> <span class="attr">height</span><span class="kwrd">='150px'</span> <span class="attr">src</span><span class="kwrd">='/AStoriaBoard/mug.jpg'</span><span class="kwrd">/&gt;&lt;</span><span class="html">br</span><span class="kwrd">/&gt;</span>Its a common ask that we introduce aggregatin<br />   <span class="kwrd">&lt;/</span><span class="html">summary</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">published</span><span class="kwrd">&gt;</span>2009-03-18T14:29:43-07:00<span class="kwrd">&lt;/</span><span class="html">published</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">updated</span><span class="kwrd">&gt;</span>2009-03-18T21:29:43Z<span class="kwrd">&lt;/</span><span class="html">updated</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">author</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">name</span><span class="kwrd">&gt;</span>Phani Raj<span class="kwrd">&lt;/</span><span class="html">name</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">author</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">link</span> <span class="attr">rel</span><span class="kwrd">=&quot;edit&quot;</span> <span class="attr">title</span><span class="kwrd">=&quot;BlogPost&quot;</span> <span class="attr">href</span><span class="kwrd">=&quot;Posts(1)&quot;</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">category</span> <span class="attr">term</span><span class="kwrd">=&quot;Blogs.BlogPost&quot;</span> <span class="attr">scheme</span><span class="kwrd">=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/scheme&quot;</span> <span class="kwrd">/&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">content</span> <span class="attr">type</span><span class="kwrd">=&quot;application/xml&quot;</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:BlogPostID</span> <span class="attr">m:type</span><span class="kwrd">=&quot;Edm.Int32&quot;</span><span class="kwrd">&gt;</span>1<span class="kwrd">&lt;/</span><span class="html">d:BlogPostID</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Body</span><span class="kwrd">&gt;</span>Its a common ask that we introduce aggregating mechanisms in Data services <br />          so that one can do a Count of the number of entities present in an EntitySet easily. <br />          In this blog post , I will outline one method of implementing a “Count” method that works for you. <br />          The interface to the count method will be<span class="kwrd">&lt;/</span><span class="html">d:Body</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Author</span><span class="kwrd">&gt;</span>Phani Raj<span class="kwrd">&lt;/</span><span class="html">d:Author</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:PostURI</span> <span class="attr">m:null</span><span class="kwrd">=&quot;true&quot;</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">content</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">geo</span> <span class="attr">xmlns</span><span class="kwrd">=&quot;http://www.georss.org/georss&quot;</span><span class="kwrd">&gt;</span>
   <span class="kwrd">&lt;</span><span class="html">long</span><span class="kwrd">&gt;</span>-80.244445<span class="kwrd">&lt;/</span><span class="html">long</span><span class="kwrd">&gt;</span>
   <span class="kwrd">&lt;</span><span class="html">lat</span><span class="kwrd">&gt;</span>25.730752<span class="kwrd">&lt;/</span><span class="html">lat</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;/</span><span class="html">geo</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;/</span><span class="html">entry</span><span class="kwrd">&gt;</span></pre>
<p>Now that we got this markup , I feel like we should do something with it . How about showing this information on a MAP ?<br />
  <br />I know !! We have a mapping solution , Virtual Earth , lets try and see if we can feed this feed to Virtual Earth and make it see our GeoRss markup.</p>
<p>Recently , ( November 2008 ), the Live team released the Map control as an asp.net control . Download it here :<a title="http://dev.live.com/tools/" href="http://dev.live.com/tools/" mce_href="http://dev.live.com/tools/">http://dev.live.com/tools/</a></p>
<p>Add this control to an aspx page in the same website as the Data Service .</p>
<pre class="code"><span style="background: #ffee62">&lt;%</span><span style="color: blue">@ </span><span style="color: #a31515">Page </span><span style="color: red">Language</span><span style="color: blue">=&quot;C#&quot; </span><span style="color: red">AutoEventWireup</span><span style="color: blue">=&quot;true&quot; </span><span style="color: red">CodeFile</span><span style="color: blue">=&quot;Default.aspx.cs&quot; </span><span style="color: red">Inherits</span><span style="color: blue">=&quot;_Default&quot; </span><span style="background: #ffee62">%&gt;

</span><span style="color: blue">&lt;!</span><span style="color: #a31515">DOCTYPE </span><span style="color: red">html PUBLIC </span><span style="color: blue">&quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;</span><span style="color: #a31515">html </span><span style="color: red">xmlns</span><span style="color: blue">=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;</span><span style="color: #a31515">head </span><span style="color: red">runat</span><span style="color: blue">=&quot;server&quot;&gt;
    &lt;</span><span style="color: #a31515">title</span><span style="color: blue">&gt;&lt;/</span><span style="color: #a31515">title</span><span style="color: blue">&gt;
    &lt;</span><span style="color: #a31515">style</span><span style="color: blue">&gt;
        </span><span style="color: #a31515">.imgClass</span>{
            <span style="color: red">border</span>: <span style="color: blue">solid 2px #99ccff</span>;}
    <span style="color: blue">&lt;/</span><span style="color: #a31515">style</span><span style="color: blue">&gt;
&lt;/</span><span style="color: #a31515">head</span><span style="color: blue">&gt;
&lt;</span><span style="color: #a31515">body</span><span style="color: blue">&gt;
    &lt;</span><span style="color: #a31515">form </span><span style="color: red">id</span><span style="color: blue">=&quot;form1&quot; </span><span style="color: red">runat</span><span style="color: blue">=&quot;server&quot;&gt;
    &lt;</span><span style="color: #a31515">script </span><span style="color: red">language</span><span style="color: blue">=&quot;javascript&quot;&gt;
        function </span>pageLoad() {
            HookUpWorkAround();
        }
    <span style="color: blue">&lt;/</span><span style="color: #a31515">script</span><span style="color: blue">&gt;
    &lt;</span><span style="color: #a31515">div </span><span style="color: red">id</span><span style="color: blue">=&quot;mapContainer&quot;&gt;
        <strong>&lt;</strong></span><strong><span style="color: #a31515">ve</span><span style="color: blue">:</span><span style="color: #a31515">Map </span><span style="color: red">ID</span><span style="color: blue">=&quot;geoRssMap&quot; </span><span style="color: red">runat</span><span style="color: blue">=&quot;server&quot; </span><span style="color: red">Height</span><span style="color: blue">=&quot;600px&quot; </span><span style="color: red">Width</span><span style="color: blue">=&quot;75%&quot; </span><span style="color: red">ZoomLevel</span></strong><span style="color: blue"><strong>=&quot;4&quot; /&gt;
</strong>    &lt;/</span><span style="color: #a31515">div</span><span style="color: blue">&gt;
    &lt;</span><span style="color: #a31515">asp</span><span style="color: blue">:</span><span style="color: #a31515">ScriptManager </span><span style="color: red">ID</span><span style="color: blue">=&quot;scrpManager&quot; </span><span style="color: red">runat</span><span style="color: blue">=&quot;server&quot;&gt;
        &lt;</span><span style="color: #a31515">Scripts</span><span style="color: blue">&gt;
            &lt;</span><span style="color: #a31515">asp</span><span style="color: blue">:</span><span style="color: #a31515">ScriptReference </span><span style="color: red">Path</span><span style="color: blue">=&quot;~/Scripts/VEWorkAround.js&quot; /&gt;
        &lt;/</span><span style="color: #a31515">Scripts</span><span style="color: blue">&gt;
    &lt;/</span><span style="color: #a31515">asp</span><span style="color: blue">:</span><span style="color: #a31515">ScriptManager</span><span style="color: blue">&gt;
    &lt;/</span><span style="color: #a31515">form</span><span style="color: blue">&gt;
&lt;/</span><span style="color: #a31515">body</span><span style="color: blue">&gt;
&lt;/</span><span style="color: #a31515">html</span><span style="color: blue">&gt;
</span></pre>
<p>In the code-behind file , </p>
<pre class="code"><span style="color: blue">using </span>System;
<span style="color: blue">using </span>Microsoft.Live.ServerControls.VE;

<span style="color: blue">public partial class </span><span style="color: #2b91af">_Default </span>: System.Web.UI.<span style="color: #2b91af">Page
</span>{
    <span style="color: blue">protected void </span>Page_Load(<span style="color: blue">object </span>sender, <span style="color: #2b91af">EventArgs </span>e)
    {
        <span style="color: green">//Clear out any mapped locations
        </span>geoRssMap.Clear();
        <span style="color: green">//Create a new shapelayer to import
        </span><span style="color: #2b91af">ShapeLayer </span>geoRssLayer = <span style="color: blue">new </span><span style="color: #2b91af">ShapeLayer</span>();
        <span style="color: green">//Point the shape layer at the data source returning the mapping information
        </span><span style="color: #2b91af">ShapeSourceSpecification </span>georssSpec = <span style="color: blue">new </span><span style="color: #2b91af">ShapeSourceSpecification</span>(
                    <span style="color: #2b91af">DataType</span>.GeoRSS, <span style="color: #a31515">&quot;Services/BlogSvc.svc/Posts&quot;</span>, geoRssLayer
                    );
        <span style="color: green">//Bind the feed to the map
        </span>geoRssMap.ImportShapeLayerData(georssSpec, <span style="color: blue">null</span>, <span style="color: blue">false</span>);
    }
}</pre>
<p><a href="http://11011.net/software/vspaste" mce_href="http://11011.net/software/vspaste"></a></p>
<p>You might be wondering why we need the HookUpWorkAround() function and what it does , I’ll explain that in a later blog post .<br />
  <br />After this , set the web page as the startup page and browse to the page in <strong><em><u>FireFox , </u></em></strong>I’ll explain why Firefox in a later blog post .</p>
<p>And voila !! This is what the page looks like :</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/FF_Ve_Firefox_2.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/FF_Ve_Firefox_2.png" mce_href="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/FF_Ve_Firefox_2.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="FF_Ve_Firefox" border="0" alt="FF_Ve_Firefox" src="/assets/FF_Ve_Firefox_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/FF_Ve_Firefox_thumb.png" width="613" height="484" mce_src="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/FF_Ve_Firefox_thumb.png" /></a></p>
<p>You can download the&#160; sample project that demonstrates this feature by clicking on the link at the bottom of this post</p>
<p>All this demonstrates the <strong>what </strong>and not the <strong>how </strong>, we shall discuss the <strong>how </strong>in future blog posts.</p>
<p>In the meantime ,enjoy this sample app and try out your own mashups.</p>

  </div>

  <div class="date">
    Written on August 31, 2009
  </div>

  
</article>

    </div>

    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer">
          



<a href="https://github.com/barryclark/jekyll-now"><i class="svg-icon github"></i></a>




<a href="https://www.twitter.com/jekyllrb"><i class="svg-icon twitter"></i></a>



        </footer>
      </div>
    </div>

    

  </body>
</html>
