<!DOCTYPE html>
<html>
  <head>
    <title>HowTo : Customize Rendering of AutoCompleteExtender 1 – Phani Raj – Technical Lead at HP Cloud</title>

        <meta charset="utf-8" />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>

    
    <meta name="description" content="Registering your own handlers when Items in the SearchResults are Selected
Hi,
Quite a few people have a list of changes that they want made to the AutoCompleteExtender , and the asp.net Ajax Team is working quite dilligently to solving most of these 
in the next toolkit release .
I will tackle a few of the issues for those who dont want to wait until the next toolkit release.

Registering your own handlers when Items in the SearchResults are Selected.  
Specifying your own template for how the data should be displayed.

We will discusss Point #2 in My Next&nbsp; Blog post .
We will achieve these functionalities by modifying the source of the AjaxControlToolkit for the File "AutoCompleteBehavior.js".
1.Registering your own handlers when Items in the SearchResults are Selected.
To achieve this , we will have to add/modify certain scripts.
&nbsp;Lets look at the changes now .
1. Add a member to the class called "customClickHandler" , which will store the Event handler to be called when an item in the list is selected.

AjaxControlToolkit.AutoCompleteBehavior.initializeBase(this, [element]);
Blah , blah , blah , existing declarations
this._customClickHandler = null;
}



2. Provide a way for Users to specify the Eventhandler , add a function called "set_ClickCallBack".

AjaxControlToolkit.AutoCompleteBehavior.prototype = {
blah,blah, existing functions
set_ClickCallBack:function(evthandler){
    this._customClickHandler = Function.createDelegate(this, evthandler);
   }
}


3.Wherever the&nbsp; extender's Default onclick hanlder is called, replace with this handler.
_onListMouseDown

_onListMouseDown: function(ev) {
   if (ev.target !== this._completionListElement) {
       if( this._customClickHandler != null ){
             this._customClickHandler( ev.target );
       }
       else{
           this._setText(ev.target.firstChild.nodeValue);
           }
       }
   },


_onKeyDown

_onKeyDown: function(ev) {
        var k = ev.keyCode ? ev.keyCode : ev.rawEvent.keyCode;
        if (k === Sys.UI.Key.esc) {
            this._hideCompletionList();
            ev.preventDefault();
        }
        else if (k === Sys.UI.Key.up) {
            if (this._selectIndex &gt; 0) {
                this._selectIndex--;
                this._highlightItem(this._completionListElement.childNodes[this._selectIndex]);
                ev.preventDefault();
            }
        }
        else if (k === Sys.UI.Key.down) {
            if (this._selectIndex &lt; (this._completionListElement.childNodes.length - 1)) {
                this._selectIndex++;
                this._highlightItem(this._completionListElement.childNodes[this._selectIndex]);
                ev.preventDefault();
            }
        }
        else if (k === Sys.UI.Key.enter) {
            if (this._selectIndex !== -1) {
            //Call Custom Click Handler if registered
            if( this._customClickHandler == null ){
                this._setText(this._completionListElement.childNodes[this._selectIndex].firstChild.nodeValue);}
                else {
                this._customClickHandler( this._completionListElement );
                }

                ev.preventDefault();
            }
        }

        if (k !== Sys.UI.Key.tab) {
            this._timer.set_enabled(true);
        }
    },


&nbsp;
How do you use this after modification in your applications ?
If the behaviorID of the AutoCompleteExtender is "customAutoComplete".
The Code to hookup the Custom Click handler is :

function  pageLoad(){
$find("customAutoComplete").set_ClickCallBack( customClickhandler );
}

customClickHandler is a javascript Function .

function customClickhandler( clickedElement ){
//Your Code here
}


" />
    <meta property="og:description" content="Registering your own handlers when Items in the SearchResults are Selected
Hi,
Quite a few people have a list of changes that they want made to the AutoCompleteExtender , and the asp.net Ajax Team is working quite dilligently to solving most of these 
in the next toolkit release .
I will tackle a few of the issues for those who dont want to wait until the next toolkit release.

Registering your own handlers when Items in the SearchResults are Selected.  
Specifying your own template for how the data should be displayed.

We will discusss Point #2 in My Next&nbsp; Blog post .
We will achieve these functionalities by modifying the source of the AjaxControlToolkit for the File "AutoCompleteBehavior.js".
1.Registering your own handlers when Items in the SearchResults are Selected.
To achieve this , we will have to add/modify certain scripts.
&nbsp;Lets look at the changes now .
1. Add a member to the class called "customClickHandler" , which will store the Event handler to be called when an item in the list is selected.

AjaxControlToolkit.AutoCompleteBehavior.initializeBase(this, [element]);
Blah , blah , blah , existing declarations
this._customClickHandler = null;
}



2. Provide a way for Users to specify the Eventhandler , add a function called "set_ClickCallBack".

AjaxControlToolkit.AutoCompleteBehavior.prototype = {
blah,blah, existing functions
set_ClickCallBack:function(evthandler){
    this._customClickHandler = Function.createDelegate(this, evthandler);
   }
}


3.Wherever the&nbsp; extender's Default onclick hanlder is called, replace with this handler.
_onListMouseDown

_onListMouseDown: function(ev) {
   if (ev.target !== this._completionListElement) {
       if( this._customClickHandler != null ){
             this._customClickHandler( ev.target );
       }
       else{
           this._setText(ev.target.firstChild.nodeValue);
           }
       }
   },


_onKeyDown

_onKeyDown: function(ev) {
        var k = ev.keyCode ? ev.keyCode : ev.rawEvent.keyCode;
        if (k === Sys.UI.Key.esc) {
            this._hideCompletionList();
            ev.preventDefault();
        }
        else if (k === Sys.UI.Key.up) {
            if (this._selectIndex &gt; 0) {
                this._selectIndex--;
                this._highlightItem(this._completionListElement.childNodes[this._selectIndex]);
                ev.preventDefault();
            }
        }
        else if (k === Sys.UI.Key.down) {
            if (this._selectIndex &lt; (this._completionListElement.childNodes.length - 1)) {
                this._selectIndex++;
                this._highlightItem(this._completionListElement.childNodes[this._selectIndex]);
                ev.preventDefault();
            }
        }
        else if (k === Sys.UI.Key.enter) {
            if (this._selectIndex !== -1) {
            //Call Custom Click Handler if registered
            if( this._customClickHandler == null ){
                this._setText(this._completionListElement.childNodes[this._selectIndex].firstChild.nodeValue);}
                else {
                this._customClickHandler( this._completionListElement );
                }

                ev.preventDefault();
            }
        }

        if (k !== Sys.UI.Key.tab) {
            this._timer.set_enabled(true);
        }
    },


&nbsp;
How do you use this after modification in your applications ?
If the behaviorID of the AutoCompleteExtender is "customAutoComplete".
The Code to hookup the Custom Click handler is :

function  pageLoad(){
$find("customAutoComplete").set_ClickCallBack( customClickhandler );
}

customClickHandler is a javascript Function .

function customClickhandler( clickedElement ){
//Your Code here
}


" />
    
    <meta name="author" content="Phani Raj" />

    
    <meta property="og:title" content="HowTo : Customize Rendering of AutoCompleteExtender 1" />
    <meta property="twitter:title" content="HowTo : Customize Rendering of AutoCompleteExtender 1" />
    

    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="alternate" type="application/rss+xml" title="Phani Raj - Technical Lead at HP Cloud" href="/feed.xml" />

    <!-- Created with Jekyll Now - http://github.com/barryclark/jekyll-now -->
  </head>

  <body>
    <div class="wrapper-masthead">
      <div class="container">
        <header class="masthead clearfix">
          <a href="/" class="site-avatar"><img src="https://raw.githubusercontent.com/barryclark/jekyll-now/master/images/jekyll-logo.png" /></a>

          <div class="site-info">
            <h1 class="site-name"><a href="/">Phani Raj</a></h1>
            <p class="site-description">Technical Lead at HP Cloud</p>
          </div>

          <nav>
            <a href="/">Blog</a>
            <a href="/about">About</a>
          </nav>
        </header>
      </div>
    </div>

    <div id="main" role="main" class="container">
      <article class="post">
  <h1>HowTo : Customize Rendering of AutoCompleteExtender 1</h1>

  <div class="entry">
    <p><strong><u>Registering your own handlers when Items in the SearchResults are Selected</u></strong></p>
<p>Hi,</p>
<p>Quite a few people have a list of changes that they want made to the AutoCompleteExtender , and the asp.net Ajax Team is working quite dilligently to solving most of these </p>
<p>in the next toolkit release .</p>
<p>I will tackle a few of the issues for those who dont want to wait until the next toolkit release.</p>
<ol>
<li>Registering your own handlers when Items in the SearchResults are Selected.  </li>
<li>Specifying your own template for how the data should be displayed.</li>
</ol>
<p>We will discusss Point #2 in My Next&nbsp; Blog post .</p>
<p>We will achieve these functionalities by modifying the source of the AjaxControlToolkit for the File "AutoCompleteBehavior.js".</p>
<p><strong><u>1.Registering your own handlers when Items in the SearchResults are Selected.</u></strong></p>
<p>To achieve this , we will have to add/modify certain scripts.</p>
<p>&nbsp;Lets look at the changes now .</p>
<p>1. Add a member to the class called "<strong>customClickHandler</strong>" , which will store the Event handler to be called when an item in the list is selected.</p>
<div>
<pre class="csharpcode">AjaxControlToolkit.AutoCompleteBehavior.initializeBase(<span class="kwrd">this</span>, [element]);
Blah , blah , blah , existing declarations
<span class="kwrd">this</span>._customClickHandler = <span class="kwrd">null</span>;
}
</pre>
<style type="text/css">.csharpcode-wrapper, .csharpcode-wrapper pre {<br />
  background-color: #f4f4f4;<br />
  border: solid 1px gray;<br />
  cursor: text;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  margin: 20px 0px 10px 0px;<br />
  max-height: 200px;<br />
  overflow: auto;<br />
  padding: 4px 4px 4px 4px;<br />
  width: 97.5%;<br />
}<br />
.csharpcode-wrapper pre {<br />
  border-style: none;<br />
  margin: 0px 0px 0px 0px;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
}<br />
.csharpcode, .csharpcode pre, .csharpcode .alt {<br />
  background-color: #f4f4f4;<br />
  border-style: none;<br />
  color: black;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
  width: 100%;<br />
}<br />
.csharpcode pre {<br />
  margin: 0em;<br />
}<br />
.csharpcode .alt {<br />
  background-color: white;<br />
}<br />
.csharpcode .asp {<br />
  background-color: #ffff00;<br />
}<br />
.csharpcode .attr {<br />
  color: #ff0000;<br />
}<br />
.csharpcode .html {<br />
  color: #800000;<br />
}<br />
.csharpcode .kwrd {<br />
  color: #0000ff;<br />
}<br />
.csharpcode .lnum {<br />
  color: #606060;<br />
}<br />
.csharpcode .op {<br />
  color: #0000c0;<br />
}<br />
.csharpcode .preproc {<br />
  color: #cc6633;<br />
}<br />
.csharpcode .rem {<br />
  color: #008000;<br />
}<br />
.csharpcode .str {<br />
  color: #006080;<br />
}<br />
</style>
</div>
<p>2. Provide a way for Users to specify the Eventhandler , add a function called <strong>"set_ClickCallBack".</strong></p>
<div>
<pre class="csharpcode">AjaxControlToolkit.AutoCompleteBehavior.prototype = {
blah,blah, existing functions
set_ClickCallBack:<span class="kwrd">function</span>(evthandler){
    <span class="kwrd">this</span>._customClickHandler = Function.createDelegate(<span class="kwrd">this</span>, evthandler);
   }
}</pre>
<style type="text/css">.csharpcode-wrapper, .csharpcode-wrapper pre {<br />
  background-color: #f4f4f4;<br />
  border: solid 1px gray;<br />
  cursor: text;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  margin: 20px 0px 10px 0px;<br />
  max-height: 200px;<br />
  overflow: auto;<br />
  padding: 4px 4px 4px 4px;<br />
  width: 97.5%;<br />
}<br />
.csharpcode-wrapper pre {<br />
  border-style: none;<br />
  margin: 0px 0px 0px 0px;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
}<br />
.csharpcode, .csharpcode pre, .csharpcode .alt {<br />
  background-color: #f4f4f4;<br />
  border-style: none;<br />
  color: black;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
  width: 100%;<br />
}<br />
.csharpcode pre {<br />
  margin: 0em;<br />
}<br />
.csharpcode .alt {<br />
  background-color: white;<br />
}<br />
.csharpcode .asp {<br />
  background-color: #ffff00;<br />
}<br />
.csharpcode .attr {<br />
  color: #ff0000;<br />
}<br />
.csharpcode .html {<br />
  color: #800000;<br />
}<br />
.csharpcode .kwrd {<br />
  color: #0000ff;<br />
}<br />
.csharpcode .lnum {<br />
  color: #606060;<br />
}<br />
.csharpcode .op {<br />
  color: #0000c0;<br />
}<br />
.csharpcode .preproc {<br />
  color: #cc6633;<br />
}<br />
.csharpcode .rem {<br />
  color: #008000;<br />
}<br />
.csharpcode .str {<br />
  color: #006080;<br />
}<br />
</style>
</div>
<p>3.Wherever the&nbsp; extender's Default onclick hanlder is called, replace with this handler.</p>
<p><strong>_onListMouseDown</strong></p>
<div>
<pre class="csharpcode">_onListMouseDown: <span class="kwrd">function</span>(ev) {
   <span class="kwrd">if</span> (ev.target !== <span class="kwrd">this</span>._completionListElement) {
       <span class="kwrd">if</span>( <span class="kwrd">this</span>._customClickHandler != <span class="kwrd">null</span> ){
             <span class="kwrd">this</span>._customClickHandler( ev.target );
       }
       <span class="kwrd">else</span>{
           <span class="kwrd">this</span>._setText(ev.target.firstChild.nodeValue);
           }
       }
   },</pre>
<style type="text/css">.csharpcode-wrapper, .csharpcode-wrapper pre {<br />
  background-color: #f4f4f4;<br />
  border: solid 1px gray;<br />
  cursor: text;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  margin: 20px 0px 10px 0px;<br />
  max-height: 200px;<br />
  overflow: auto;<br />
  padding: 4px 4px 4px 4px;<br />
  width: 97.5%;<br />
}<br />
.csharpcode-wrapper pre {<br />
  border-style: none;<br />
  margin: 0px 0px 0px 0px;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
}<br />
.csharpcode, .csharpcode pre, .csharpcode .alt {<br />
  background-color: #f4f4f4;<br />
  border-style: none;<br />
  color: black;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
  width: 100%;<br />
}<br />
.csharpcode pre {<br />
  margin: 0em;<br />
}<br />
.csharpcode .alt {<br />
  background-color: white;<br />
}<br />
.csharpcode .asp {<br />
  background-color: #ffff00;<br />
}<br />
.csharpcode .attr {<br />
  color: #ff0000;<br />
}<br />
.csharpcode .html {<br />
  color: #800000;<br />
}<br />
.csharpcode .kwrd {<br />
  color: #0000ff;<br />
}<br />
.csharpcode .lnum {<br />
  color: #606060;<br />
}<br />
.csharpcode .op {<br />
  color: #0000c0;<br />
}<br />
.csharpcode .preproc {<br />
  color: #cc6633;<br />
}<br />
.csharpcode .rem {<br />
  color: #008000;<br />
}<br />
.csharpcode .str {<br />
  color: #006080;<br />
}<br />
</style>
</div>
<p><strong>_onKeyDown</strong></p>
<div>
<pre class="csharpcode">_onKeyDown: <span class="kwrd">function</span>(ev) {
        <span class="kwrd">var</span> k = ev.keyCode ? ev.keyCode : ev.rawEvent.keyCode;
        <span class="kwrd">if</span> (k === Sys.UI.Key.esc) {
            <span class="kwrd">this</span>._hideCompletionList();
            ev.preventDefault();
        }
        <span class="kwrd">else</span> <span class="kwrd">if</span> (k === Sys.UI.Key.up) {
            <span class="kwrd">if</span> (<span class="kwrd">this</span>._selectIndex &gt; 0) {
                <span class="kwrd">this</span>._selectIndex--;
                <span class="kwrd">this</span>._highlightItem(<span class="kwrd">this</span>._completionListElement.childNodes[<span class="kwrd">this</span>._selectIndex]);
                ev.preventDefault();
            }
        }
        <span class="kwrd">else</span> <span class="kwrd">if</span> (k === Sys.UI.Key.down) {
            <span class="kwrd">if</span> (<span class="kwrd">this</span>._selectIndex &lt; (<span class="kwrd">this</span>._completionListElement.childNodes.length - 1)) {
                <span class="kwrd">this</span>._selectIndex++;
                <span class="kwrd">this</span>._highlightItem(<span class="kwrd">this</span>._completionListElement.childNodes[<span class="kwrd">this</span>._selectIndex]);
                ev.preventDefault();
            }
        }
        <span class="kwrd">else</span> <span class="kwrd">if</span> (k === Sys.UI.Key.enter) {
            <span class="kwrd">if</span> (<span class="kwrd">this</span>._selectIndex !== -1) {
            <span class="rem">//Call Custom Click Handler if registered</span>
            <span class="kwrd">if</span>( <span class="kwrd">this</span>._customClickHandler == <span class="kwrd">null</span> ){
                <span class="kwrd">this</span>._setText(<span class="kwrd">this</span>._completionListElement.childNodes[<span class="kwrd">this</span>._selectIndex].firstChild.nodeValue);}
                <span class="kwrd">else</span> {
                <span class="kwrd">this</span>._customClickHandler( <span class="kwrd">this</span>._completionListElement );
                }

                ev.preventDefault();
            }
        }

        <span class="kwrd">if</span> (k !== Sys.UI.Key.tab) {
            <span class="kwrd">this</span>._timer.set_enabled(<span class="kwrd">true</span>);
        }
    },</pre>
<style type="text/css">.csharpcode-wrapper, .csharpcode-wrapper pre {<br />
  background-color: #f4f4f4;<br />
  border: solid 1px gray;<br />
  cursor: text;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  margin: 20px 0px 10px 0px;<br />
  max-height: 200px;<br />
  overflow: auto;<br />
  padding: 4px 4px 4px 4px;<br />
  width: 97.5%;<br />
}<br />
.csharpcode-wrapper pre {<br />
  border-style: none;<br />
  margin: 0px 0px 0px 0px;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
}<br />
.csharpcode, .csharpcode pre, .csharpcode .alt {<br />
  background-color: #f4f4f4;<br />
  border-style: none;<br />
  color: black;<br />
  font-family: consolas, 'Courier New', courier, monospace;<br />
  font-size: 8pt;<br />
  line-height: 12pt;<br />
  overflow: visible;<br />
  padding: 0px 0px 0px 0px;<br />
  width: 100%;<br />
}<br />
.csharpcode pre {<br />
  margin: 0em;<br />
}<br />
.csharpcode .alt {<br />
  background-color: white;<br />
}<br />
.csharpcode .asp {<br />
  background-color: #ffff00;<br />
}<br />
.csharpcode .attr {<br />
  color: #ff0000;<br />
}<br />
.csharpcode .html {<br />
  color: #800000;<br />
}<br />
.csharpcode .kwrd {<br />
  color: #0000ff;<br />
}<br />
.csharpcode .lnum {<br />
  color: #606060;<br />
}<br />
.csharpcode .op {<br />
  color: #0000c0;<br />
}<br />
.csharpcode .preproc {<br />
  color: #cc6633;<br />
}<br />
.csharpcode .rem {<br />
  color: #008000;<br />
}<br />
.csharpcode .str {<br />
  color: #006080;<br />
}<br />
</style>
</div>
<p>&nbsp;</p>
<p><strong><u>How do you use this after modification in your applications ?</u></strong></p>
<p>If the behaviorID of the AutoCompleteExtender is "customAutoComplete".</p>
<p>The Code to hookup the Custom Click handler is :</p>
<div>
<pre class="csharpcode"><span class="kwrd">function</span>  pageLoad(){
$find(<span class="str">"customAutoComplete"</span>).set_ClickCallBack( customClickhandler );
}</pre>
</div>
<p>customClickHandler is a javascript Function .</p>
<div>
<pre class="csharpcode"><span class="kwrd">function</span> customClickhandler( clickedElement ){
<span class="rem">//Your Code here</span>
}
</pre>
</div>

  </div>

  <div class="date">
    Written on April  9, 2007
  </div>

  
</article>

    </div>

    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer">
          



<a href="https://github.com/barryclark/jekyll-now"><i class="svg-icon github"></i></a>




<a href="https://www.twitter.com/jekyllrb"><i class="svg-icon twitter"></i></a>



        </footer>
      </div>
    </div>

    

  </body>
</html>
