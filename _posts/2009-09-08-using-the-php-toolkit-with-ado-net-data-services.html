---
layout: post
title: Using the PHP Toolkit with ADO.NET Data Services
date: 2009-09-08 18:17:00.000000000 -04:00
type: post
published: true
status: publish
categories: []
tags:
- Astoria
- Demo
- Documentation
- Php
meta:
  _encloseme: '1'
  orig_url: http://blogs.msdn.microsoft.com/b/phaniraj/archive/2009/09/08/using-the-php-toolkit-with-ado-net-data-services.aspx
  orig_site_id: '7524'
  orig_post_id: '9892837'
  orig_parent_id: '9892837'
  orig_thread_id: '675249'
  _wds_ratings_users: '1'
  _wds_ratings_score: '5'
  orig_application_key: phaniraj
  orig_post_author_id: '56365'
  orig_post_author_username: PhaniRajuYN
  orig_post_author_created: Nov 10 2006 05:47:39:000PM
  orig_is_approved: '1'
  orig_attachment_count: '0'
  orig_url_title: http://blogs.msdn.com/b/phaniraj/archive/2009/09/08/using-the-php-toolkit-with-ado-net-data-services.aspx
  _wds_ratings_average: '5'
  opengraph_tags: |
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Using the PHP Toolkit with ADO.NET Data Services" />
    <meta property="og:url" content="https://blogs.msdn.microsoft.com/phaniraj/2009/09/08/using-the-php-toolkit-with-ado-net-data-services/" />
    <meta property="og:site_name" content="With Great Power comes Great Response.write(&#039;Ability&#039;)" />
    <meta property="og:description" content="Setup PHP on your windows machine Setup the PHP Toolkit Setting up the PHP samples on IIS Running the sample ADO.NET Data Services PHP Sample Applications Walkthrough Setup PHP on your windows machine The following steps show you how to setup your windows machine to host PHP applications. We will be talking about hosting the..." />
    <meta property="og:image" content="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Samples_Not_Application_thumb_1.png" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Using the PHP Toolkit with ADO.NET Data Services" />
    <meta name="twitter:url" content="https://blogs.msdn.microsoft.com/phaniraj/2009/09/08/using-the-php-toolkit-with-ado-net-data-services/" />
    <meta name="twitter:description" content="Setup PHP on your windows machine Setup the PHP Toolkit Setting up the PHP samples on IIS Running the sample ADO.NET Data Services PHP Sample Applications Walkthrough Setup PHP on your windows machine The following steps show you how to setup your windows machine to host PHP applications. We will be talking about hosting the..." />
    <meta name="twitter:image" content="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Samples_Not_Application_thumb_1.png" />
author:
  login: phanirajuyn
  email: PhaniRaj@Microsoft.com
  display_name: Phani Raju MSFT
  first_name: ''
  last_name: ''
---
<ol>
<li><a href="#Step1">Setup PHP on your windows machine</a> </li>
<li><a href="#Step2">Setup the PHP Toolkit </a></li>
<li><a href="#Step3">Setting up the PHP samples on IIS</a> </li>
<li><a href="#Step4">Running the sample ADO.NET Data Services</a> </li>
<li><a href="#Step5">PHP Sample Applications Walkthrough</a> </li>
</ol>
<p> <a name="Step1"><br />
<h3>Setup PHP on your windows machine</h3>
<p> </a>
<p>The following steps show you how to setup your windows machine to host PHP applications.    <br />We will be talking about hosting the only supported ( by MS Support ) PHP CGI application on IIS .</p>
<p><a href="http://learn.iis.net/page.aspx/246/using-fastcgi-to-host-php-applications-on-iis-70/">Using FastCGI to Host PHP Applications on IIS 7.0</a></p>
<ol>
<li>If you don’t find the <strong>php.ini-recommended </strong>file , then rename the <strong>php.ini-development </strong>file from your PHP folder. </li>
<li>Once you are setup , if you get a HTTP 500 internal server error when browsing to the Php.ini file ,      <br />then you need setup your timezone in the PHP.ini file . </li>
<li>To do this , find the line in the php.ini file “date.timezone” . </li>
<li>If it has a semi-colon before it , remove it . </li>
<li>Set the date.timezone’s&#160; value to be a valid value from this list : <a href="http://nl3.php.net/manual/en/timezones.php">List of Supported Timezones</a> </li>
</ol>
<p>In my php.ini , I have set the value to be <strong>date.timezone = &quot;America/Los_Angeles&quot;</strong></p>
<p> <a name="Step2"><br />
<h3>Setup the PHP Toolkit</h3>
<p> </a>
<p>Follow the instructions on the codeplex site to setup your machine.    <br /><a href="http://phpdataservices.codeplex.com/Wiki/View.aspx?title=InstallationGuide">Installation and Configuration</a></p>
<p> <a name="Step3"><br />
<h3>Setting up the PHP samples on IIS </h3>
<p> </a>
<p>I have copied the phpsamples folder from the downloaded phpdataservices1.0 folder    <br />into the %SystemDrive%\inetpub\wwwroot folder.This is just so that I dont need to configure any permissions     <br />for the IIS accounts.     <br />Open the IIS manager by running “INETMGR” from the “run” prompt on the start menu</p>
<p>Select the PHPSamples folder from the “Default Web Site”    <br /><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Samples_Not_Application_2.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Samples_Not_Application_2.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="Samples_Not_Application" border="0" alt="Samples_Not_Application" src="{{ site.baseurl }}/assets/Samples_Not_Application_thumb_1.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Samples_Not_Application_thumb_1.png" width="146" height="154" /></a></p>
<p>Right-Click the Virtual directory and select “Convert to Application”    <br /><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Samples_To_Application.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Samples_To_Application.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="Samples_To_Application" border="0" alt="Samples_To_Application" src="{{ site.baseurl }}/assets/Samples_To_Application_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Samples_To_Application_thumb.png" width="204" height="240" /></a></p>
<p>Confirm creating the virtual directory by&#160; pressing “OK” in the next dialog that turns up    <br /><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Samples_To_Application_Confirm.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Samples_To_Application_Confirm.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="Samples_To_Application_Confirm" border="0" alt="Samples_To_Application_Confirm" src="{{ site.baseurl }}/assets/Samples_To_Application_Confirm_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Samples_To_Application_Confirm_thumb.png" width="380" height="263" /></a></p>
<p>This sets up the PHP applications that access the ADO.NET Data Service,    <br />We still need to setup the actual Data Services that the PHP Samples access.</p>
<p> <a name="Step4"><br />
<h3>Running the sample&#160; ADO.NET Data Services</h3>
<p> </a>
<p>Find the ADODotNetDataServices folder in the PHPDataServices1.0 download.    <br />This should be under the “samples” directory.     <br />i.e PHPDataServices1.0\samples\ADODotNetDataServices     </p>
<h2>Setup the Databases required for the project to run </h2>
<p>1) Unzip the zipped database files from the </p>
<p> PHPDataServices1.0\samples\ADODotNetDataServices\data folder.   <br />2)&#160;&#160; Open up SQL management studio and Connect to your Database server   <br />3) Right–click the databases node and select “Attach…”   <br /> 
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Attach_DB_Step_1_2.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Attach_DB_Step_1_2.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="Attach_DB_Step_1" border="0" alt="Attach_DB_Step_1" src="{{ site.baseurl }}/assets/Attach_DB_Step_1_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Attach_DB_Step_1_thumb.png" width="240" height="160" /></a> </p>
<p>4) In the “Attach Database” dialog , press “Add” and select the unzipped “VideoGameStore_Data.mdf” file.    <br />You will notice that once you select the MDF file&#160; , the dialog will complain about a missing .ldf file.     <br />5) This is a routine warning , select the ldf file row in the dialog and press “Remove”     <br />&#160;<a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Attach_DB_Step_2_4.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Attach_DB_Step_2_4.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="Attach_DB_Step_2" border="0" alt="Attach_DB_Step_2" src="{{ site.baseurl }}/assets/Attach_DB_Step_2_thumb_1.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Attach_DB_Step_2_thumb_1.png" width="480" height="352" /></a></p>
<p>For the other database Northwind, you can use the sample database that are available from Download.Microsoft.com    <br />Here’s a link to download the Northwind sample database : <a href="http://www.microsoft.com/downloads/details.aspx?FamilyId=06616212-0356-46A0-8DA2-EEBC53A68034&amp;displaylang=en">Northwind and pubs Sample Databases for SQL Server 2000</a>     <br />Installation should be straight-forward as it comes with an MSI that is supposed to setup the database for you.</p>
<p><strong>Disclaimer : I already had a copy of the Northwind database on my machine and didn’t use the installer above.      <br /></strong>&#160; <br />Once you have your databases setup , modify the respective connection strings web.config file from the ADODotNetDataServices project.</p>
<pre class="code"><span style="color: blue">&lt;</span><span style="color: #a31515">connectionStrings</span><span style="color: blue">&gt;
    &lt;</span><span style="color: #a31515">add </span><span style="color: red">name</span><span style="color: blue">=</span>&quot;<span style="color: blue">NorthwindEntities</span>&quot; <br />         <span style="color: red">connectionString</span><span style="color: blue">=</span>&quot;<span style="color: blue">metadata=res://*/NorthwindModel.csdl|res://*/NorthwindModel.ssdl|res://*/NorthwindModel.msl;<br />                           provider=System.Data.SqlClient;<br />                           provider connection string=</span><span style="color: red">&amp;quot;</span><span style="color: blue"><strong>YOURCONNECTIONSTRINGHERE</strong></span><span style="color: red">&amp;quot;</span>&quot; <br />         <span style="color: red">providerName</span><span style="color: blue">=</span>&quot;<span style="color: blue">System.Data.EntityClient</span>&quot; <span style="color: blue">/&gt;
    &lt;</span><span style="color: #a31515">add </span><span style="color: red">name</span><span style="color: blue">=</span>&quot;<span style="color: blue">VideoGameStoreEntities</span>&quot; <br />         <span style="color: red">connectionString</span><span style="color: blue">=</span>&quot;<span style="color: blue">metadata=res://*/VideoGameStoreModel.csdl|res://*/VideoGameStoreModel.ssdl|res://*/VideoGameStoreModel.msl;<br />                           provider=System.Data.SqlClient;<br />                           provider connection string=</span><span style="color: red">&amp;quot;<strong>YOURCONNECTIONSTRINGHERE</strong></span><span style="color: red"><strong>&amp;</strong>quot;</span>&quot; <br />         <span style="color: red">providerName</span><span style="color: blue">=</span>&quot;<span style="color: blue">System.Data.EntityClient</span>&quot; <span style="color: blue">/&gt;
&lt;/</span><span style="color: #a31515">connectionStrings</span><span style="color: blue">&gt;<br /></span><span style="color: blue"></span></pre>
<ol>
<li>Once you have the database and the Data Service setup, then configure the project to only run on the URL that the PHP Samples expect to find the Data Service on.<br />
    <br />To do this :</p>
<p>In Visual Studio,Go to the properties of the Project. </li>
<li>Click on the “Web” Tab in the left-hand pane. </li>
<li>Under the “Servers” section , Select the “Specific Port”&#160; option and enter “8080” for the port number.<br />
    <br /><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Setup_DataService_Select_Port.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Setup_DataService_Select_Port.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="Setup_DataService_Select_Port" border="0" alt="Setup_DataService_Select_Port" src="{{ site.baseurl }}/assets/Setup_DataService_Select_Port_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Setup_DataService_Select_Port_thumb.png" width="640" height="205" /></a> </li>
<li>
<p>Now, run the project in Visual studio and launch the PHP samples by browsing to the Index.php page<br />
      <br />in the PHPSamples virtual directory.</p>
</li>
</ol>
<p><a name="Step5"></p>
<h3>PHP Sample Applications Walkthrough</h3>
<p></a></p>
<p>You should see this as the startup page when you run the PHP Samples<br />
  <br /><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/PHP_SAMPles_Screen1.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/PHP_SAMPles_Screen1.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="PHP_SAMPles_Screen1" border="0" alt="PHP_SAMPles_Screen1" src="{{ site.baseurl }}/assets/PHP_SAMPles_Screen1_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/PHP_SAMPles_Screen1_thumb.png" width="640" height="415" /></a></p>
<p><strong>Demo</strong> tab contents</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/PHP_SAMPles_Screen_Samples1.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/PHP_SAMPles_Screen_Samples1.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="PHP_SAMPles_Screen_Samples1" border="0" alt="PHP_SAMPles_Screen_Samples1" src="{{ site.baseurl }}/assets/PHP_SAMPles_Screen_Samples1_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/PHP_SAMPles_Screen_Samples1_thumb.png" width="640" height="370" /></a></p>
<p>Select the ADO.NET Data Services Editor Sample to see some pure PHP awesomeness<br />
  <br /><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/PHP_SAMPles_Screen2.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/PHP_SAMPles_Screen2.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="PHP_SAMPles_Screen2" border="0" alt="PHP_SAMPles_Screen2" src="{{ site.baseurl }}/assets/PHP_SAMPles_Screen2_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/PHP_SAMPles_Screen2_thumb.png" width="640" height="209" /></a> </p>
<p>Here’s an editor page for the Customers Entity Set:<br />
  <br /><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Customers_Edit_Screen.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Customers_Edit_Screen.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="Customers_Edit_Screen" border="0" alt="Customers_Edit_Screen" src="{{ site.baseurl }}/assets/Customers_Edit_Screen_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Customers_Edit_Screen_thumb.png" width="640" height="195" /></a> </p>
<p>See that little text box over there ?<br />
  <br />Yeah , it allows me to enter the Astoria URI operators like top , skip , filter to filter the rows bound to the grid below.</p>
<p><strong>The gird is editable too </strong>, Clicking on the “Detail” link in the first column of the grid brings up an editor for the customers</p>
<p>entity that was selected.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Customers_Edit_Screen_2.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Customers_Edit_Screen_2.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="Customers_Edit_Screen_2" border="0" alt="Customers_Edit_Screen_2" src="{{ site.baseurl }}/assets/Customers_Edit_Screen_2_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/UsingthePHPToolkitwithAD.NETDataServices_143D1/Customers_Edit_Screen_2_thumb.png" width="640" height="312" /></a></p>
<p>So , there you have it , instructions to setup the samples and some tours of the sample applications.<br />
  <br />Since I know next to nothing about PHP , I have a few questions for our PHP-Savvy users.</p>
<ol>
<li>Which application framework(s) do you use&#160; to build PHP applications? I know about CAKE and ZEND , any others? </li>
<li>Do you use a specific Validation framework or do you use the one that came with the&#160; application framework? </li>
</ol>
