---
layout: post
title: Introducing Web Friendly Feeds aka Friendly Feeds
date: 2009-03-18 18:40:00.000000000 -04:00
type: post
published: true
status: publish
categories: []
tags:
- Astoria
- Friendly Feeds
- geoRss
meta:
  _encloseme: '1'
  orig_url: http://blogs.msdn.microsoft.com/b/phaniraj/archive/2009/03/18/introducing-web-friendly-feeds-aka-friendly-feeds.aspx
  orig_site_id: '7524'
  orig_post_id: '9488352'
  orig_parent_id: '9488352'
  orig_thread_id: '642929'
  _wds_ratings_users: '0'
  orig_application_key: phaniraj
  orig_post_author_id: '56365'
  orig_post_author_username: PhaniRajuYN
  orig_post_author_created: Nov 10 2006 05:47:39:000PM
  orig_is_approved: '1'
  orig_attachment_count: '1'
  orig_url_title: http://blogs.msdn.com/b/phaniraj/archive/2009/03/18/introducing-web-friendly-feeds-aka-friendly-feeds.aspx
  opengraph_tags: |
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Introducing Web Friendly Feeds aka Friendly Feeds" />
    <meta property="og:url" content="https://blogs.msdn.microsoft.com/phaniraj/2009/03/18/introducing-web-friendly-feeds-aka-friendly-feeds/" />
    <meta property="og:site_name" content="With Great Power comes Great Response.write(&#039;Ability&#039;)" />
    <meta property="og:description" content="Hello all , with the recent release of ADO.NET Data v1.5 Services CTP 1 , we introduced a new feature called as “Web Friendly Feeds”. What is this feature about ? This is what the markup for one of the the resources of Customers looks like in ADO.NET Data Services v1 .&lt;?xml version=&#8221;1.0&#8243; encoding=&#8221;utf-8&#8243; standalone=&#8221;yes&#8221;..." />
    <meta property="og:image" content="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/AStoria_Feed_Reading_View_thumb.png" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Introducing Web Friendly Feeds aka Friendly Feeds" />
    <meta name="twitter:url" content="https://blogs.msdn.microsoft.com/phaniraj/2009/03/18/introducing-web-friendly-feeds-aka-friendly-feeds/" />
    <meta name="twitter:description" content="Hello all , with the recent release of ADO.NET Data v1.5 Services CTP 1 , we introduced a new feature called as “Web Friendly Feeds”. What is this feature about ? This is what the markup for one of the the resources of Customers looks like in ADO.NET Data Services v1 .&lt;?xml version=&#8221;1.0&#8243; encoding=&#8221;utf-8&#8243; standalone=&#8221;yes&#8221;..." />
    <meta name="twitter:image" content="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/AStoria_Feed_Reading_View_thumb.png" />
author:
  login: phanirajuyn
  email: PhaniRaj@Microsoft.com
  display_name: Phani Raju MSFT
  first_name: ''
  last_name: ''
---
<p>Hello all , with the recent release of ADO.NET Data v1.5 Services CTP 1 , we introduced a new feature called as “Web Friendly Feeds”. <br /><strong>What is this feature about ?</strong></p>
<p>This is what the markup for one of the the resources of Customers looks like in ADO.NET Data Services v1 .</p>
<pre class="csharpcode"><span class="kwrd">&lt;?</span><span class="html">xml</span> <span class="attr">version</span><span class="kwrd">="1.0"</span> <span class="attr">encoding</span><span class="kwrd">="utf-8"</span> <span class="attr">standalone</span><span class="kwrd">="yes"</span> ?<span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">entry</span>
<span class="attr">xml:base</span><span class="kwrd">=<a href="http://localhost:26503/northwind.svc/" mce_href="http://localhost:26503/northwind.svc/">http://localhost:26503/northwind.svc/</a></span> <br /><span class="attr"><br />xmlns:d</span><span class="kwrd">=<a href="http://schemas.microsoft.com/ado/2007/08/dataservices" mce_href="http://schemas.microsoft.com/ado/2007/08/dataservices">http://schemas.microsoft.com/ado/2007/08/dataservices</a></span> <br /><span class="attr">xmlns:m</span><span class="kwrd">=<a href="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata" mce_href="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata">http://schemas.microsoft.com/ado/2007/08/dataservices/metadata</a></span> <br /><span class="attr">xmlns</span><span class="kwrd">="http://www.w3.org/2005/Atom"</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">id</span><span class="kwrd">&gt;</span>http://localhost:26503/northwind.svc/Customers('ALFKI')<span class="kwrd">&lt;/</span><span class="html">id</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">title</span> <span class="attr">type</span><span class="kwrd">="text"</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">updated</span><span class="kwrd">&gt;</span>2009-03-18T20:30:20Z<span class="kwrd">&lt;/</span><span class="html">updated</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">author</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">name</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">author</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">category</span> <span class="attr">term</span><span class="kwrd">="NorthwindModel.Customers"</span> <span class="attr">scheme</span><span class="kwrd">="http://schemas.microsoft.com/ado/2007/08/dataservices/scheme"</span> <span class="kwrd">/&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">content</span> <span class="attr">type</span><span class="kwrd">="application/xml"</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:CustomerID</span><span class="kwrd">&gt;</span>ALFKI<span class="kwrd">&lt;/</span><span class="html">d:CustomerID</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:CompanyName</span><span class="kwrd">&gt;</span>Alfreds Futterkiste<span class="kwrd">&lt;/</span><span class="html">d:CompanyName</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:ContactName</span><span class="kwrd">&gt;</span>Maria Anders<span class="kwrd">&lt;/</span><span class="html">d:ContactName</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:ContactTitle</span><span class="kwrd">&gt;</span>Sales Representative<span class="kwrd">&lt;/</span><span class="html">d:ContactTitle</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Address</span><span class="kwrd">&gt;</span>Obere Str. 57<span class="kwrd">&lt;/</span><span class="html">d:Address</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:City</span><span class="kwrd">&gt;</span>Berlin<span class="kwrd">&lt;/</span><span class="html">d:City</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Region</span> <span class="attr">m:null</span><span class="kwrd">="true"</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:PostalCode</span><span class="kwrd">&gt;</span>12209<span class="kwrd">&lt;/</span><span class="html">d:PostalCode</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Country</span><span class="kwrd">&gt;</span>Germany<span class="kwrd">&lt;/</span><span class="html">d:Country</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Phone</span><span class="kwrd">&gt;</span>030-0074321<span class="kwrd">&lt;/</span><span class="html">d:Phone</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Fax</span><span class="kwrd">&gt;</span>030-0076545<span class="kwrd">&lt;/</span><span class="html">d:Fax</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">content</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">entry</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">
<p>.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, "Courier New", courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}<br />
.csharpcode pre { margin: 0em; }<br />
.csharpcode .rem { color: #008000; }<br />
.csharpcode .kwrd { color: #0000ff; }<br />
.csharpcode .str { color: #006080; }<br />
.csharpcode .op { color: #0000c0; }<br />
.csharpcode .preproc { color: #cc6633; }<br />
.csharpcode .asp { background-color: #ffff00; }<br />
.csharpcode .html { color: #800000; }<br />
.csharpcode .attr { color: #ff0000; }<br />
.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}<br />
.csharpcode .lnum { color: #606060; }</style>
<p>In the markup above , a couple of things are missing </p>
<p>1) The &lt;title&gt; element is empty </p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">title</span> <span class="attr">type</span><span class="kwrd">="text"</span> <span class="kwrd">/&gt;</span></pre>
<p>2) The author/name element is empty </p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">author</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">name</span> <span class="kwrd">/&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">author</span><span class="kwrd">&gt;</span></pre>
<p>In v 1.5 , through Friendly Feeds , we will now be able to assign a property of the “Customers” entity type to turn up in these element locations in the atom:entry payload.</p>
<p>Now , let’s say that we wanted to map the “ContactName” as the author name element of the entry element and Title to be “ContactTitle” as the title of the entry element. <br />Then , the payload would look like this : </p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">entry</span> <span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">id</span><span class="kwrd">&gt;</span>http://localhost:26503/northwind.svc/Customers('ALFKI')<span class="kwrd">&lt;/</span><span class="html">id</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">title</span> <span class="attr">type</span><span class="kwrd">="text"</span><span class="kwrd">&gt;</span>Sales Representative<span class="kwrd">&lt;/</span><span class="html">title</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">updated</span><span class="kwrd">&gt;</span>2009-03-18T20:46:42Z<span class="kwrd">&lt;/</span><span class="html">updated</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">author</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">name</span><span class="kwrd">&gt;</span>Maria Anders<span class="kwrd">&lt;/</span><span class="html">name</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">author</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">category</span> <span class="attr">term</span><span class="kwrd">="NorthwindModel.Customers"</span> <span class="attr">scheme</span><span class="kwrd">="http://schemas.microsoft.com/ado/2007/08/dataservices/scheme"</span> <span class="kwrd">/&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">content</span> <span class="attr">type</span><span class="kwrd">="application/xml"</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:CustomerID</span><span class="kwrd">&gt;</span>ALFKI<span class="kwrd">&lt;/</span><span class="html">d:CustomerID</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:CompanyName</span><span class="kwrd">&gt;</span>Alfreds Futterkiste<span class="kwrd">&lt;/</span><span class="html">d:CompanyName</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:ContactName</span><span class="kwrd">&gt;</span>Maria Anders<span class="kwrd">&lt;/</span><span class="html">d:ContactName</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:ContactTitle</span><span class="kwrd">&gt;</span>Sales Representative<span class="kwrd">&lt;/</span><span class="html">d:ContactTitle</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Address</span><span class="kwrd">&gt;</span>Obere Str. 57<span class="kwrd">&lt;/</span><span class="html">d:Address</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:City</span><span class="kwrd">&gt;</span>Berlin<span class="kwrd">&lt;/</span><span class="html">d:City</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Region</span> <span class="attr">m:null</span><span class="kwrd">="true"</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:PostalCode</span><span class="kwrd">&gt;</span>12209<span class="kwrd">&lt;/</span><span class="html">d:PostalCode</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Country</span><span class="kwrd">&gt;</span>Germany<span class="kwrd">&lt;/</span><span class="html">d:Country</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Phone</span><span class="kwrd">&gt;</span>030-0074321<span class="kwrd">&lt;/</span><span class="html">d:Phone</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Fax</span><span class="kwrd">&gt;</span>030-0076545<span class="kwrd">&lt;/</span><span class="html">d:Fax</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">content</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">entry</span><span class="kwrd">&gt;</span></pre>
<p>This also means , that IE now displays the Title &amp; author Name elements when you browse to the “Customers” entity set .</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/AStoria_Feed_Reading_View.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/AStoria_Feed_Reading_View.png" mce_href="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/AStoria_Feed_Reading_View.png"><img style="BORDER-RIGHT-WIDTH: 0px; DISPLAY: inline; BORDER-TOP-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px" title="AStoria_Feed_Reading_View" border="0" alt="AStoria_Feed_Reading_View" src="{{ site.baseurl }}/assets/AStoria_Feed_Reading_View_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/AStoria_Feed_Reading_View_thumb.png" width="644" height="322" mce_src="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/AStoria_Feed_Reading_View_thumb.png" /></a></p>
<p><strong>Which elements in the atom:entry element can I map to an entity type properties ?</strong></p>
<ol>
<li>entry:author/email </li>
<li>entry:author/name </li>
<li>entry:author/uri </li>
<li>entry:published </li>
<li>entry:rights </li>
<li>entry:summary </li>
<li>entry:title </li>
</ol>
<p><strong>Once a property is mapped , if keeping the value of the property&nbsp; in the entry:contents section doesn’t make sense,can I remove it ? <br /></strong>Yes , absolutely , in the above case , we can remove the ContactName &amp; ContactTitle elements from being repeated in the &lt;contents&gt; section. <br />Ex:</p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">entry</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">id</span><span class="kwrd">&gt;</span>http://localhost:26503/northwind.svc/Customers('ALFKI')<span class="kwrd">&lt;/</span><span class="html">id</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">title</span> <span class="attr">type</span><span class="kwrd">="text"</span><span class="kwrd">&gt;</span>Sales Representative<span class="kwrd">&lt;/</span><span class="html">title</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">updated</span><span class="kwrd">&gt;</span>2009-03-18T21:04:20Z<span class="kwrd">&lt;/</span><span class="html">updated</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">author</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">name</span><span class="kwrd">&gt;</span>Maria Anders<span class="kwrd">&lt;/</span><span class="html">name</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">author</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">category</span> <span class="attr">term</span><span class="kwrd">="NorthwindModel.Customers"</span> <span class="attr">scheme</span><span class="kwrd">="http://schemas.microsoft.com/ado/2007/08/dataservices/scheme"</span> <span class="kwrd">/&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">content</span> <span class="attr">type</span><span class="kwrd">="application/xml"</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:CustomerID</span><span class="kwrd">&gt;</span>ALFKI<span class="kwrd">&lt;/</span><span class="html">d:CustomerID</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:CompanyName</span><span class="kwrd">&gt;</span>Alfreds Futterkiste<span class="kwrd">&lt;/</span><span class="html">d:CompanyName</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Address</span><span class="kwrd">&gt;</span>Obere Str. 57<span class="kwrd">&lt;/</span><span class="html">d:Address</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:City</span><span class="kwrd">&gt;</span>Berlin<span class="kwrd">&lt;/</span><span class="html">d:City</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Region</span> <span class="attr">m:null</span><span class="kwrd">="true"</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:PostalCode</span><span class="kwrd">&gt;</span>12209<span class="kwrd">&lt;/</span><span class="html">d:PostalCode</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Country</span><span class="kwrd">&gt;</span>Germany<span class="kwrd">&lt;/</span><span class="html">d:Country</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Phone</span><span class="kwrd">&gt;</span>030-0074321<span class="kwrd">&lt;/</span><span class="html">d:Phone</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Fax</span><span class="kwrd">&gt;</span>030-0076545<span class="kwrd">&lt;/</span><span class="html">d:Fax</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">content</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">entry</span><span class="kwrd">&gt;</span></pre>
<p><strong>Great , what else can I do with this new feature ? <br /></strong>Well, did I mention you can <font size="4">embed your own markup in the &lt;entry&gt; element for an entity type !!!</font></p>
<p>consider the following entity type , BlogPost , which looks like this </p>
<pre class="code"><span style="COLOR: blue">public class </span><span style="COLOR: #2b91af">BlogPost </span>{
        <span style="COLOR: blue">public double </span>Lat { <span style="COLOR: blue">get</span>; <span style="COLOR: blue">set</span>; }
        <span style="COLOR: blue">public double </span>Long { <span style="COLOR: blue">get</span>; <span style="COLOR: blue">set</span>; }
        <span style="COLOR: blue">public int </span>BlogPostID { <span style="COLOR: blue">get</span>; <span style="COLOR: blue">set</span>; }
        <span style="COLOR: blue">public string </span>Title { <span style="COLOR: blue">get</span>; <span style="COLOR: blue">set</span>; }
        <span style="COLOR: blue">public string </span>Body { <span style="COLOR: blue">get</span>; <span style="COLOR: blue">set</span>; }
        <span style="COLOR: blue">public string </span>Author { <span style="COLOR: blue">get</span>; <span style="COLOR: blue">set</span>; }
        <span style="COLOR: blue">public string </span>PostURI { <span style="COLOR: blue">get</span>; <span style="COLOR: blue">set</span>; }
        <span style="COLOR: blue">public string </span>ContentSummary{get;set;}
}</pre>
<p>This type represents the entry for a blog post , and also contains the Geographical location information about where the post was made ( Lat /Long) <br />and also the author information. Now , if this data was exposed via a Data Service, the payload would contain the Lat/Long/Published fields as part of&nbsp; <br />the entry:content element and wouldn’t have any special meaning. <br />The author element should be the Author field of the atom:entry , and the Published field to be the atom:published. <br />the Lat &amp; Long fields should be a georss element that shows the location at which the Blog Post was made. <br />In short , it should look like this :</p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">entry</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">id</span><span class="kwrd">&gt;</span>http://localhost/AstoriaBoard/Services/BlogSvc.svc/Posts(1)<span class="kwrd">&lt;/</span><span class="html">id</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">title</span> <span class="attr">type</span><span class="kwrd">="text"</span><span class="kwrd">&gt;</span>Entities, How many ways do I count thee ?<span class="kwrd">&lt;/</span><span class="html">title</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">summary</span> <span class="attr">type</span><span class="kwrd">="html"</span><span class="kwrd">&gt;<br />          &lt;</span><span class="html">img</span> <span class="attr">class</span><span class="kwrd">='imgClass'</span> <span class="attr">width</span><span class="kwrd">='150px'</span> <span class="attr">height</span><span class="kwrd">='150px'</span> <span class="attr">src</span><span class="kwrd">='/AStoriaBoard/mug.jpg'</span><span class="kwrd">/&gt;&lt;</span><span class="html">br</span><span class="kwrd">/&gt;</span>Its a common ask that we introduce aggregatin<br />   <span class="kwrd">&lt;/</span><span class="html">summary</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">published</span><span class="kwrd">&gt;</span>2009-03-18T14:29:43-07:00<span class="kwrd">&lt;/</span><span class="html">published</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">updated</span><span class="kwrd">&gt;</span>2009-03-18T21:29:43Z<span class="kwrd">&lt;/</span><span class="html">updated</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">author</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">name</span><span class="kwrd">&gt;</span>Phani Raj<span class="kwrd">&lt;/</span><span class="html">name</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">author</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">link</span> <span class="attr">rel</span><span class="kwrd">="edit"</span> <span class="attr">title</span><span class="kwrd">="BlogPost"</span> <span class="attr">href</span><span class="kwrd">="Posts(1)"</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">category</span> <span class="attr">term</span><span class="kwrd">="Blogs.BlogPost"</span> <span class="attr">scheme</span><span class="kwrd">="http://schemas.microsoft.com/ado/2007/08/dataservices/scheme"</span> <span class="kwrd">/&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">content</span> <span class="attr">type</span><span class="kwrd">="application/xml"</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:BlogPostID</span> <span class="attr">m:type</span><span class="kwrd">="Edm.Int32"</span><span class="kwrd">&gt;</span>1<span class="kwrd">&lt;/</span><span class="html">d:BlogPostID</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Body</span><span class="kwrd">&gt;</span>Its a common ask that we introduce aggregating mechanisms in Data services <br />          so that one can do a Count of the number of entities present in an EntitySet easily. <br />          In this blog post , I will outline one method of implementing a “Count” method that works for you. <br />          The interface to the count method will be<span class="kwrd">&lt;/</span><span class="html">d:Body</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:Author</span><span class="kwrd">&gt;</span>Phani Raj<span class="kwrd">&lt;/</span><span class="html">d:Author</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;</span><span class="html">d:PostURI</span> <span class="attr">m:null</span><span class="kwrd">="true"</span> <span class="kwrd">/&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">m:properties</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">content</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;</span><span class="html">geo</span> <span class="attr">xmlns</span><span class="kwrd">="http://www.georss.org/georss"</span><span class="kwrd">&gt;</span>
   <span class="kwrd">&lt;</span><span class="html">long</span><span class="kwrd">&gt;</span>-80.244445<span class="kwrd">&lt;/</span><span class="html">long</span><span class="kwrd">&gt;</span>
   <span class="kwrd">&lt;</span><span class="html">lat</span><span class="kwrd">&gt;</span>25.730752<span class="kwrd">&lt;/</span><span class="html">lat</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;/</span><span class="html">geo</span><span class="kwrd">&gt;</span>
 <span class="kwrd">&lt;/</span><span class="html">entry</span><span class="kwrd">&gt;</span></pre>
<p>Now that we got this markup , I feel like we should do something with it . How about showing this information on a MAP ? <br />I know !! We have a mapping solution , Virtual Earth , lets try and see if we can feed this feed to Virtual Earth and make it see our GeoRss markup. <br />Recently , ( November 2008 ), the Live team released the Map control as an asp.net control . Download it here :<a title="http://dev.live.com/tools/" href="http://dev.live.com/tools/" mce_href="http://dev.live.com/tools/">http://dev.live.com/tools/</a></p>
<p>Add this control to an aspx page in the same website as the Data Service .</p>
<pre class="code"><span style="BACKGROUND: #ffee62">&lt;%</span><span style="COLOR: blue">@ </span><span style="COLOR: #a31515">Page </span><span style="COLOR: red">Language</span><span style="COLOR: blue">="C#" </span><span style="COLOR: red">AutoEventWireup</span><span style="COLOR: blue">="true" </span><span style="COLOR: red">CodeFile</span><span style="COLOR: blue">="Default.aspx.cs" </span><span style="COLOR: red">Inherits</span><span style="COLOR: blue">="_Default" </span><span style="BACKGROUND: #ffee62">%&gt;

</span><span style="COLOR: blue">&lt;!</span><span style="COLOR: #a31515">DOCTYPE </span><span style="COLOR: red">html PUBLIC </span><span style="COLOR: blue">"-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;</span><span style="COLOR: #a31515">html </span><span style="COLOR: red">xmlns</span><span style="COLOR: blue">="http://www.w3.org/1999/xhtml"&gt;
&lt;</span><span style="COLOR: #a31515">head </span><span style="COLOR: red">runat</span><span style="COLOR: blue">="server"&gt;
    &lt;</span><span style="COLOR: #a31515">title</span><span style="COLOR: blue">&gt;&lt;/</span><span style="COLOR: #a31515">title</span><span style="COLOR: blue">&gt;
    &lt;</span><span style="COLOR: #a31515">style</span><span style="COLOR: blue">&gt;
        </span><span style="COLOR: #a31515">.imgClass</span>{
            <span style="COLOR: red">border</span>: <span style="COLOR: blue">solid 2px #99ccff</span>;}
    <span style="COLOR: blue">&lt;/</span><span style="COLOR: #a31515">style</span><span style="COLOR: blue">&gt;
&lt;/</span><span style="COLOR: #a31515">head</span><span style="COLOR: blue">&gt;
&lt;</span><span style="COLOR: #a31515">body</span><span style="COLOR: blue">&gt;
    &lt;</span><span style="COLOR: #a31515">form </span><span style="COLOR: red">id</span><span style="COLOR: blue">="form1" </span><span style="COLOR: red">runat</span><span style="COLOR: blue">="server"&gt;
    &lt;</span><span style="COLOR: #a31515">script </span><span style="COLOR: red">language</span><span style="COLOR: blue">="javascript"&gt;
        function </span>pageLoad() {
            HookUpWorkAround();
        }
    <span style="COLOR: blue">&lt;/</span><span style="COLOR: #a31515">script</span><span style="COLOR: blue">&gt;
    &lt;</span><span style="COLOR: #a31515">div </span><span style="COLOR: red">id</span><span style="COLOR: blue">="mapContainer"&gt;
        <strong>&lt;</strong></span><strong><span style="COLOR: #a31515">ve</span><span style="COLOR: blue">:</span><span style="COLOR: #a31515">Map </span><span style="COLOR: red">ID</span><span style="COLOR: blue">="geoRssMap" </span><span style="COLOR: red">runat</span><span style="COLOR: blue">="server" </span><span style="COLOR: red">Height</span><span style="COLOR: blue">="600px" </span><span style="COLOR: red">Width</span><span style="COLOR: blue">="75%" </span><span style="COLOR: red">ZoomLevel</span></strong><span style="COLOR: blue"><strong>="4" /&gt;
</strong>    &lt;/</span><span style="COLOR: #a31515">div</span><span style="COLOR: blue">&gt;
    &lt;</span><span style="COLOR: #a31515">asp</span><span style="COLOR: blue">:</span><span style="COLOR: #a31515">ScriptManager </span><span style="COLOR: red">ID</span><span style="COLOR: blue">="scrpManager" </span><span style="COLOR: red">runat</span><span style="COLOR: blue">="server"&gt;
        &lt;</span><span style="COLOR: #a31515">Scripts</span><span style="COLOR: blue">&gt;
            &lt;</span><span style="COLOR: #a31515">asp</span><span style="COLOR: blue">:</span><span style="COLOR: #a31515">ScriptReference </span><span style="COLOR: red">Path</span><span style="COLOR: blue">="~/Scripts/VEWorkAround.js" /&gt;
        &lt;/</span><span style="COLOR: #a31515">Scripts</span><span style="COLOR: blue">&gt;
    &lt;/</span><span style="COLOR: #a31515">asp</span><span style="COLOR: blue">:</span><span style="COLOR: #a31515">ScriptManager</span><span style="COLOR: blue">&gt;
    &lt;/</span><span style="COLOR: #a31515">form</span><span style="COLOR: blue">&gt;
&lt;/</span><span style="COLOR: #a31515">body</span><span style="COLOR: blue">&gt;
&lt;/</span><span style="COLOR: #a31515">html</span><span style="COLOR: blue">&gt;
</span></pre>
<p>In the code-behind file , </p>
<pre class="code"><span style="COLOR: blue">using </span>System;
<span style="COLOR: blue">using </span>Microsoft.Live.ServerControls.VE;

<span style="COLOR: blue">public partial class </span><span style="COLOR: #2b91af">_Default </span>: System.Web.UI.<span style="COLOR: #2b91af">Page
</span>{
    <span style="COLOR: blue">protected void </span>Page_Load(<span style="COLOR: blue">object </span>sender, <span style="COLOR: #2b91af">EventArgs </span>e)
    {
        <span style="COLOR: green">//Clear out any mapped locations
        </span>geoRssMap.Clear();
        <span style="COLOR: green">//Create a new shapelayer to import
        </span><span style="COLOR: #2b91af">ShapeLayer </span>geoRssLayer = <span style="COLOR: blue">new </span><span style="COLOR: #2b91af">ShapeLayer</span>();
        <span style="COLOR: green">//Point the shape layer at the data source returning the mapping information
        </span><span style="COLOR: #2b91af">ShapeSourceSpecification </span>georssSpec = <span style="COLOR: blue">new </span><span style="COLOR: #2b91af">ShapeSourceSpecification</span>(
                    <span style="COLOR: #2b91af">DataType</span>.GeoRSS, <span style="COLOR: #a31515">"Services/BlogSvc.svc/Posts"</span>, geoRssLayer
                    );
        <span style="COLOR: green">//Bind the feed to the map
        </span>geoRssMap.ImportShapeLayerData(georssSpec, <span style="COLOR: blue">null</span>, <span style="COLOR: blue">false</span>);
    }
}</pre>
<p><a href="http://11011.net/software/vspaste" mce_href="http://11011.net/software/vspaste"></a></p>
<p>You might be wondering why we need the HookUpWorkAround() function and what it does , I’ll explain that in a later blog post . <br />After this , set the web page as the startup page and browse to the page in <strong><em><u>FireFox , </u></em></strong>I’ll explain why Firefox in a later blog post . <br />And voila !! This is what the page looks like : <br /><a href="https://msdnshared.blob.core.windows.net/media/TNBlogsFS/BlogFileStorage/blogs_msdn/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/FF_Ve_Firefox_2.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/FF_Ve_Firefox_2.png" mce_href="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/FF_Ve_Firefox_2.png"><img style="BORDER-RIGHT-WIDTH: 0px; DISPLAY: inline; BORDER-TOP-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px" title="FF_Ve_Firefox" border="0" alt="FF_Ve_Firefox" src="{{ site.baseurl }}/assets/FF_Ve_Firefox_thumb.png" original-url="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/FF_Ve_Firefox_thumb.png" width="613" height="484" mce_src="http://blogs.msdn.com/blogfiles/phaniraj/WindowsLiveWriter/IntroducingWebFriendlyFeeds_BB40/FF_Ve_Firefox_thumb.png" /></a></p>
<p>You can download the&nbsp; sample project that demonstrates this feature by clicking on the link at the bottom of this post</p>
<p>All this demonstrates the <strong>what </strong>and not the <strong>how </strong>, we shall discuss the <strong>how </strong>in future blog posts.</p>
<p>In the meantime ,enjoy this sample app and try out your own mashups.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Components.PostAttachments/00/09/48/83/52/FFVeMapDemo.zip" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-components-postattachments/00-09-48-83-52/FFVeMapDemo.zip">FFVeMapDemo.zip</a></p>
