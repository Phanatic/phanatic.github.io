---
layout: post
title: Building a HQL IDE for Apache Hive
date: 2012-12-17 13:30:00.000000000 -05:00
type: post
published: true
status: publish
categories: []
tags: []
meta:
  _encloseme: '1'
  orig_url: http://blogs.msdn.microsoft.com/b/phaniraj/archive/2012/12/17/building-a-hql-ide-for-apache-hive.aspx
  orig_site_id: '7524'
  orig_post_id: '10378807'
  orig_parent_id: '10378807'
  orig_thread_id: '830225'
  _wds_ratings_users: '0'
  orig_application_key: phaniraj
  orig_post_author_id: '56365'
  orig_post_author_username: PhaniRajuYN
  orig_post_author_created: Nov 10 2006 05:47:39:000PM
  orig_is_approved: '1'
  orig_attachment_count: '0'
  orig_url_title: http://blogs.msdn.com/b/phaniraj/archive/2012/12/17/building-a-hql-ide-for-apache-hive.aspx
  opengraph_tags: |
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Building a HQL IDE for Apache Hive" />
    <meta property="og:url" content="https://blogs.msdn.microsoft.com/phaniraj/2012/12/17/building-a-hql-ide-for-apache-hive/" />
    <meta property="og:site_name" content="With Great Power comes Great Response.write(&#039;Ability&#039;)" />
    <meta property="og:description" content="My new team ( https://www.hadooponazure.com/) works on making Windows Server &amp; Windows Azure the best environment for hosting Hadoop.&nbsp;&nbsp; As one my new challenges, I&rsquo;ve been tasked with building an editor / job manager to Apache Hive. Seen below is my first draft at providing a terminal for running and saving Hive Jobs using HQL...." />
    <meta property="og:image" content="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/5543.HiveQueryEditor_thumb_1EED87AB.png" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Building a HQL IDE for Apache Hive" />
    <meta name="twitter:url" content="https://blogs.msdn.microsoft.com/phaniraj/2012/12/17/building-a-hql-ide-for-apache-hive/" />
    <meta name="twitter:description" content="My new team ( https://www.hadooponazure.com/) works on making Windows Server &amp; Windows Azure the best environment for hosting Hadoop.&nbsp;&nbsp; As one my new challenges, I&rsquo;ve been tasked with building an editor / job manager to Apache Hive. Seen below is my first draft at providing a terminal for running and saving Hive Jobs using HQL...." />
    <meta name="twitter:image" content="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/5543.HiveQueryEditor_thumb_1EED87AB.png" />
author:
  login: phanirajuyn
  email: PhaniRaj@Microsoft.com
  display_name: Phani Raju MSFT
  first_name: ''
  last_name: ''
---
<p>My new team ( <a title="https://www.hadooponazure.com/" href="https://www.hadooponazure.com/">https://www.hadooponazure.com/</a>) works on making <br />Windows Server &amp; Windows Azure the best environment for hosting Hadoop.&nbsp;&nbsp; <br />As one my new challenges, I&rsquo;ve been tasked with building an editor / job manager to Apache Hive. <br />Seen below is my first draft at providing a terminal for running and saving Hive Jobs using HQL.</p>
<p>Please direct all comments/feedback to PhaniRaj AT Microsoft DOT COM</p>
<p>This is what the editor looks like&nbsp; :</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/6521.HiveQueryEditor_53FA16DB.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/6521.HiveQueryEditor_5F00_53FA16DB.png"><img style="border: 0px currentcolor; display: inline;" title="HiveQueryEditor" src="{{ site.baseurl }}/assets/5543.HiveQueryEditor_thumb_1EED87AB.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/5543.HiveQueryEditor_5F00_thumb_5F00_1EED87AB.png" alt="HiveQueryEditor" width="806" height="436" border="0" /></a>&nbsp;</p>
<p>Let&rsquo;s start by first creating a connection to your local Hive server.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/5047.CreateNewConnection_2CBFCDA6.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/5047.CreateNewConnection_5F00_2CBFCDA6.png"><img style="border: 0px currentcolor; display: inline;" title="CreateNewConnection" src="{{ site.baseurl }}/assets/4061.CreateNewConnection_thumb_5EB76E30.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/4061.CreateNewConnection_5F00_thumb_5F00_5EB76E30.png" alt="CreateNewConnection" width="397" height="351" border="0" /></a></p>
<p>Once the connection is created, we connect to the Hive server by using the <a href="http://social.technet.microsoft.com/wiki/contents/articles/6226.how-to-connect-excel-to-hadoop-on-azure-via-hiveodbc-en-us.aspx">Microsoft ODBC Driver for Hive</a> . <br />We&rsquo;ll soon move the console over to use Apache&rsquo;s new Templeton apis for metadata access and job submission. <br />You can learn more about Templeton here : <a title="http://people.apache.org/~thejas/templeton_doc_latest/" href="http://people.apache.org/~thejas/templeton_doc_latest/">http://people.apache.org/~thejas/templeton_doc_latest/</a> </p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/3465.LoadingMetadata_6C89B42B.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/3465.LoadingMetadata_5F00_6C89B42B.png"><img style="border: 0px currentcolor; display: inline;" title="LoadingMetadata" src="{{ site.baseurl }}/assets/7607.LoadingMetadata_thumb_4C6EA76E.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/7607.LoadingMetadata_5F00_thumb_5F00_4C6EA76E.png" alt="LoadingMetadata" width="240" height="96" border="0" /></a></p>
<h4>Support for basic Hive Metadata visualization</h4>
<p>We visualize the Hive metadata as a hierarchical tree-view .</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/7587.metadata_tree_2C539AB1.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/7587.metadata_5F00_tree_5F00_2C539AB1.png"><img style="border: 0px currentcolor; display: inline;" title="metadata_tree" src="{{ site.baseurl }}/assets/5444.metadata_tree_thumb_25345E39.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/5444.metadata_5F00_tree_5F00_thumb_5F00_25345E39.png" alt="metadata_tree" width="193" height="395" border="0" /></a></p>
<h4>A query editor for HQL that supports syntax coloring, auto completion and other fun activities.</h4>
<p>The IDE hosts an editor that supports auto completion &amp; syntax coloring for HQL keywords &amp; functions. <br />You can find HQL&rsquo;s language specification here : <a title="https://cwiki.apache.org/confluence/display/Hive/LanguageManual" href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual">https://cwiki.apache.org/confluence/display/Hive/LanguageManual</a> </p>
<p>Clicking on a table name from the above tree view produces a sample query that selects the first 10 rows from the table.&nbsp;&nbsp;</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/3301.SampleQueryFromTable_572BFEC3.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/3301.SampleQueryFromTable_5F00_572BFEC3.png"><img style="border: 0px currentcolor; display: inline;" title="SampleQueryFromTable" src="{{ site.baseurl }}/assets/2705.SampleQueryFromTable_thumb_4C027479.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/2705.SampleQueryFromTable_5F00_thumb_5F00_4C027479.png" alt="SampleQueryFromTable" width="302" height="357" border="0" /></a></p>
<p>You can edit this query or clear it and start over.</p>
<h4>HQL Code Snippets for common tasks in Hive</h4>
<p>We&rsquo;ve seeded the editor with some code snippets for common tasks . <br />Below is an example of the &ldquo;Create External Table&rdquo; code snippet.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/5037.CodeSnippets1_2BE767BC.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/5037.CodeSnippets1_5F00_2BE767BC.png"><img style="border: 0px currentcolor; display: inline;" title="CodeSnippets1" src="{{ site.baseurl }}/assets/3884.CodeSnippets1_thumb_5DDF0846.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/3884.CodeSnippets1_5F00_thumb_5F00_5DDF0846.png" alt="CodeSnippets1" width="472" height="244" border="0" /></a></p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/2388.CodeSnippets2_52B57DFC.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/2388.CodeSnippets2_5F00_52B57DFC.png"><img style="border: 0px currentcolor; display: inline;" title="CodeSnippets2" src="{{ site.baseurl }}/assets/2311.CodeSnippets2_thumb_1DA8EECC.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/2311.CodeSnippets2_5F00_thumb_5F00_1DA8EECC.png" alt="CodeSnippets2" width="518" height="106" border="0" /></a>&nbsp;&nbsp; </p>
<h4>Auto completion&nbsp; support for hive Functions in the editor.</h4>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/7181.HiveFunctionsAutocompletion_2B7B34C7.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/7181.HiveFunctionsAutocompletion_5F00_2B7B34C7.png"><img style="border: 0px currentcolor; display: inline;" title="HiveFunctionsAutocompletion" src="{{ site.baseurl }}/assets/6505.HiveFunctionsAutocompletion_thumb_726457C4.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/6505.HiveFunctionsAutocompletion_5F00_thumb_5F00_726457C4.png" alt="HiveFunctionsAutocompletion" width="379" height="191" border="0" /></a></p>
<p>&nbsp;</p>
<h4>Auto completion&nbsp; support for hive keywords in the editor.</h4>
<p>About 163 keywords in HQL are supported in the editor.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/1738.HiveKeywordAutocompletion_766EA596.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/1738.HiveKeywordAutocompletion_5F00_766EA596.png"><img style="border: 0px currentcolor; display: inline;" title="HiveKeywordAutocompletion" src="{{ site.baseurl }}/assets/7674.HiveKeywordAutocompletion_thumb_6B451B4C.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/7674.HiveKeywordAutocompletion_5F00_thumb_5F00_6B451B4C.png" alt="HiveKeywordAutocompletion" width="426" height="323" border="0" /></a></p>
<p>&nbsp;</p>
<h4>Metadata sensitive auto completion support for queries.</h4>
<p>We inject the metadata we gleaned from the Hive server into the editor so that <br />you can use intellisense on column names in your queries.</p>
<p>&nbsp;</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/8255.Metadata_autocompletion_6425DED4.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/8255.Metadata_5F00_autocompletion_5F00_6425DED4.png"><img style="border: 0px currentcolor; display: inline;" title="Metadata_autocompletion" src="{{ site.baseurl }}/assets/0825.Metadata_autocompletion_thumb_440AD217.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/0825.Metadata_5F00_autocompletion_5F00_thumb_5F00_440AD217.png" alt="Metadata_autocompletion" width="378" height="378" border="0" /></a></p>
<p>Once you have the query written, hit &ldquo;Run Query&rdquo; to kick off query execution. <br />We kick off the Hive job and wait for its completion, intermittently polling for the results.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/1212.QueryRunning_51DD1812.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/1212.QueryRunning_5F00_51DD1812.png"><img style="border: 0px currentcolor; display: inline;" title="QueryRunning" src="{{ site.baseurl }}/assets/5444.QueryRunning_thumb_55E765E4.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/5444.QueryRunning_5F00_thumb_5F00_55E765E4.png" alt="QueryRunning" width="240" height="134" border="0" /></a></p>
<p>Once the query is finished successfully, you will see the query icon light up.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/3301.QuerySucceeded_4ABDDB9A.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/3301.QuerySucceeded_5F00_4ABDDB9A.png"><img style="border: 0px currentcolor; display: inline;" title="QuerySucceeded" src="{{ site.baseurl }}/assets/2705.QuerySucceeded_thumb_2AA2CEDD.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/2705.QuerySucceeded_5F00_thumb_5F00_2AA2CEDD.png" alt="QuerySucceeded" width="246" height="121" border="0" /></a></p>
<p>Clicking on the query icon should bring up the results in a tabular format.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/1727.QueryResults_0A87C220.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/1727.QueryResults_5F00_0A87C220.png"><img style="border: 0px currentcolor; display: inline;" title="QueryResults" src="{{ site.baseurl }}/assets/2388.QueryResults_thumb_557B32EF.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/2388.QueryResults_5F00_thumb_5F00_557B32EF.png" alt="QueryResults" width="640" height="410" border="0" /></a></p>
<p>If on the other hand, the query failed, you will see a &ldquo;query failed&rdquo; icon next to the query.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/1803.QueryFailed_70B38BF0.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/1803.QueryFailed_5F00_70B38BF0.png"><img style="border: 0px currentcolor; display: inline;" title="QueryFailed" src="{{ site.baseurl }}/assets/8750.QueryFailed_thumb_09AF5C36.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/8750.QueryFailed_5F00_thumb_5F00_09AF5C36.png" alt="QueryFailed" width="266" height="102" border="0" /></a></p>
<p>Clicking on this will bring up a window with links where you can further see details about why the query failed.</p>
<p><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/75/24/metablogapi/7587.QueryFailed_details_69944F78.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/7587.QueryFailed_5F00_details_5F00_69944F78.png"><img style="border: 0px currentcolor; display: inline;" title="QueryFailed_details" src="{{ site.baseurl }}/assets/5025.QueryFailed_details_thumb_1B8BF003.png" original-url="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-75-24-metablogapi/5025.QueryFailed_5F00_details_5F00_thumb_5F00_1B8BF003.png" alt="QueryFailed_details" width="682" height="154" border="0" />&nbsp;</a></p>
<p>In conclusion, I hope this is something that you find useful. <br />As always your feedback and comments are welcome at my email mentioned above. <br />There&rsquo;s many other features that we&rsquo;re planning for this editor and will post regular updates to this work as we progress.</p>
